{"version":3,"file":"index.modern.js","sources":["../src/utils/isCheckBoxInput.js","../src/utils/isDateObject.js","../src/utils/isNullOrUndefined.js","../src/utils/isObject.js","../src/logic/getControllerValue.js","../src/logic/getNodeParentName.js","../src/logic/isNameInFieldArray.js","../src/utils/compact.js","../src/utils/isUndefined.js","../src/utils/get.js","../src/constants.js","../src/utils/omit.js","../src/useFormContext.js","../src/logic/getProxyFormState.js","../src/utils/isEmptyObject.js","../src/logic/shouldRenderFormState.js","../src/utils/convertToArrayPayload.js","../src/useFormState.js","../src/useController.js","../src/controller.js","../src/logic/appendErrors.js","../src/utils/isKey.js","../src/utils/stringToPath.js","../src/utils/set.js","../src/logic/focusFieldBy.js","../src/logic/getFocusFieldName.js","../src/logic/generateId.js","../src/logic/mapId.js","../src/utils/append.js","../src/utils/fillEmptyArray.js","../src/utils/insert.js","../src/utils/move.js","../src/utils/omitKeys.js","../src/utils/prepend.js","../src/utils/remove.js","../src/utils/swap.js","../src/utils/isBoolean.js","../src/utils/unset.js","../src/utils/update.js","../src/useFieldArray.js","../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/utils/debounce.js","../src/utils/isPrimitive.js","../src/utils/deepEqual.js","../src/utils/getValidationModes.js","../src/utils/isFileInput.js","../src/utils/isFunction.js","../src/utils/isHTMLElement.js","../src/utils/isMultipleSelect.js","../src/utils/isRadioInput.js","../src/utils/isRadioOrCheckbox.js","../src/utils/isString.js","../src/utils/isWeb.js","../src/utils/Subject.js","../src/logic/getCheckboxValue.js","../src/logic/getFieldValueAs.js","../src/logic/getMultipleSelectValue.js","../src/logic/getRadioValue.js","../src/logic/getFieldValue.js","../src/logic/getResolverOptions.js","../src/logic/hasValidation.js","../src/utils/deepMerge.js","../src/logic/setFieldArrayDirtyFields.js","../src/logic/skipValidation.js","../src/logic/unsetEmptyArray.js","../src/utils/isMessage.js","../src/utils/isRegex.js","../src/logic/getValidateError.js","../src/logic/getValueAndMessage.js","../src/logic/validateField.js","../src/logic/createFormControlV3.js","../src/utils/live.js","../src/useForm.js","../src/useWatch.js","../src/tools/useHistory.js","../src/utils/jsonata.js","../src/tools/transformer.js","../src/tools/useDynamoHistory.js","../src/middleware/dataTransformer.js","../src/middleware/schemaTransformer.js","../src/utils/flattenObject.js","../src/middleware/schemaProxy.js","../src/middleware/setupProxy.js","../src/middleware/actionsRunner.js","../src/utils/defaultValidationResolver.js","../src/builder/FormBuilderV1.js","../src/builder/FormBuilderV2.js","../src/logic/createFormControlV4.js","../src/useFormV1.js","../src/builder/FormBuilderV5.js"],"sourcesContent":["export default (element) => element.type === 'checkbox';\n","export default (data) => data instanceof Date;","export default (value) => value == null;\n","import isDateObject from './isDateObject';\nimport isNullOrUndefined from './isNullOrUndefined';\nexport const isObjectType = (value) => typeof value === 'object';\nexport default (value) => !isNullOrUndefined(value) &&\n    !Array.isArray(value) &&\n    isObjectType(value) &&\n    !isDateObject(value);","import isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isObject from '../utils/isObject';\nexport default (event) => isObject(event) && event.target\n    ? isCheckBoxInput(event.target)\n        ? event.target.checked\n        : event.target.value\n    : event;","export default (name) => name.substring(0, name.search(/.\\d/)) || name;\n","import getNodeParentName from './getNodeParentName';\nexport default (names, name) => [...names].some((current) => getNodeParentName(name) === current);\n","export default (value) => value.filter(Boolean);\n","export default (val) => val === undefined;\n","import compact from './compact';\nimport isNullOrUndefined from './isNullOrUndefined';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\nexport default (obj, path, defaultValue) => {\n    if (isObject(obj) && path) {\n        const result = compact(path.split(/[,[\\].]+?/)).reduce((result, key) => (isNullOrUndefined(result) ? result : result[key]), obj);\n        return isUndefined(result) || result === obj\n            ? isUndefined(obj[path])\n                ? defaultValue\n                : obj[path]\n            : result;\n    }\n    return undefined;\n};","export const EVENTS = {\n  BLUR: 'blur',\n  CHANGE: 'change',\n};\nexport const VALIDATION_MODE = {\n  onBlur: 'onBlur',\n  onChange: 'onChange',\n  onSubmit: 'onSubmit',\n  onTouched: 'onTouched',\n  all: 'all',\n};\nexport const INPUT_VALIDATION_RULES = {\n  max: 'max',\n  min: 'min',\n  maxLength: 'maxLength',\n  minLength: 'minLength',\n  pattern: 'pattern',\n  required: 'required',\n  validate: 'validate',\n};","export default (source, key) => {\n  const copy = Object.assign({}, source);\n  delete copy[key];\n  return copy;\n};","import * as React from 'react';\nimport omit from './utils/omit';\nconst FormContext = React.createContext(null);\nFormContext.displayName = 'RHFContext';\nexport const useFormContext = () => React.useContext(FormContext);\nexport const FormProvider = (props) => (React.createElement(FormContext.Provider, { value: omit(props, 'children') }, props.children));\n","import { VALIDATION_MODE } from '../constants';\n\nexport default (\n  formState,\n  _proxyFormState,\n  localProxyFormState,\n  isRoot = true,\n) => {\n  function createGetter(prop) {\n    return () => {\n      if (prop in formState) {\n        if (_proxyFormState[prop] !== VALIDATION_MODE.all) {\n          _proxyFormState[prop] = !isRoot || VALIDATION_MODE.all;\n        }\n        localProxyFormState && (localProxyFormState[prop] = true);\n        return formState[prop];\n      }\n      return undefined;\n    };\n  }\n\n  const result = {};\n  for (const key in formState) {\n    Object.defineProperty(result, key, {\n      get: createGetter(key),\n    });\n  }\n\n  return result;\n};\n","import isObject from './isObject';\nexport default (value) => isObject(value) && !Object.keys(value).length;\n","import { VALIDATION_MODE } from '../constants';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport omit from '../utils/omit';\nexport default (formStateData, _proxyFormState, isRoot) => {\n    const formState = omit(formStateData, 'name');\n    return (isEmptyObject(formState) ||\n        Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n        Object.keys(formState).find((key) => _proxyFormState[key] ===\n            (!isRoot || VALIDATION_MODE.all)));\n};","export default (value) => Array.isArray(value) ? value : [value];\n","import * as React from 'react';\nimport getProxyFormState from './logic/getProxyFormState';\nimport shouldRenderFormState from './logic/shouldRenderFormState';\nimport convertToArrayPayload from './utils/convertToArrayPayload';\nimport { useFormContext } from './useFormContext';\nfunction useFormState(props) {\n    const methods = useFormContext();\n    const { control = methods.control, disabled, visible, name } = props || {};\n    const nameRef = React.useRef(name);\n    const [formState, updateFormState] = React.useState(control._formState.val);\n    const _localProxyFormState = React.useRef({\n        isDirty: false,\n        dirtyFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    });\n    nameRef.current = name;\n    React.useEffect(() => {\n        const formStateSubscription = control._subjects.state.subscribe({\n            next: (formState) => (!nameRef.current ||\n                !formState.name ||\n                convertToArrayPayload(nameRef.current).includes(formState.name)) &&\n                shouldRenderFormState(formState, _localProxyFormState.current) &&\n                updateFormState(Object.assign(Object.assign({}, control._formState.val), formState)),\n        });\n        disabled && formStateSubscription.unsubscribe();\n        //Yasser ;)\n        // !visible && formStateSubscription.unsubscribe();\n        return () => formStateSubscription.unsubscribe();\n    }, [disabled, control]);\n    return getProxyFormState(formState, control._proxyFormState, _localProxyFormState.current, false);\n}\nexport { useFormState };\n","import * as React from 'react';\nimport getControllerValue from './logic/getControllerValue';\nimport isNameInFieldArray from './logic/isNameInFieldArray';\nimport get from './utils/get';\nimport { EVENTS } from './constants';\nimport { useFormContext } from './useFormContext';\nimport { useFormState } from './useFormState';\nexport function useController(props) {\n    const methods = useFormContext();\n    const { name, control = methods.control, shouldUnregister, item } = props;\n    console.log(\"dyno ;)\", item, \"useController\");\n    const [value, setInputStateValue] = React.useState(get(control._formValues, name, get(control._defaultValues, name, props.defaultValue)));\n    const formState = useFormState({\n        control: control || methods.control,\n        name,\n    });\n    // WTACHME: disable bug ;)\n    // TODO: move item from ref into item object seperately \n    // to prevent disable reaction about validation and submission\n    const registerProps = control.register(name, Object.assign(Object.assign({}, {...props.rules, item: {...item} }), { value }));\n    // console.log(\"dyno ;)\", registerProps,\"useController\")\n\n    const updateMounted = React.useCallback((name, value) => {\n        const field = get(control._fields, name);\n        if (field) {\n            field._f.mount = value;\n        }\n    }, [control]);\n    React.useEffect(() => {\n        const controllerSubscription = control._subjects.control.subscribe({\n            next: (data) => (!data.name || name === data.name) &&\n                setInputStateValue(get(data.values, name)),\n        });\n        updateMounted(name, true);\n        return () => {\n            controllerSubscription.unsubscribe();\n            const _shouldUnregisterField = control._shouldUnregister || shouldUnregister;\n            if (isNameInFieldArray(control._names.array, name)\n                ? _shouldUnregisterField && !control._isInAction.val\n                : _shouldUnregisterField) {\n                control.unregister(name);\n            }\n            else {\n                updateMounted(name, false);\n            }\n        };\n    }, [name, control, shouldUnregister, updateMounted]);\n    return {\n        field: {\n            onChange: (event) => {\n                const value = getControllerValue(event);\n                setInputStateValue(value);\n                registerProps.onChange({\n                    target: {\n                        value,\n                        name: name,\n                    },\n                    type: EVENTS.CHANGE,\n                });\n            },\n            onBlur: () => {\n                registerProps.onBlur({\n                    target: {\n                        name: name,\n                    },\n                    type: EVENTS.BLUR,\n                });\n            },\n            name,\n            value,\n            ref: (elm) => elm &&\n                registerProps.ref({\n                    //todo item ;)\n                    // ...(props.item && props.item || {}),\n                    focus: () => elm.focus && elm.focus(),\n                    setCustomValidity: (message) => elm.setCustomValidity(message),\n                    reportValidity: () => elm.reportValidity(),\n                }),\n        },\n        formState,\n        fieldState: {\n            invalid: !!get(formState.errors, name),\n            isDirty: !!get(formState.dirtyFields, name),\n            isTouched: !!get(formState.touchedFields, name),\n            error: get(formState.errors, name),\n        },\n    };\n}","import { useController } from './useController';\nconst Controller = (props) => props.render(useController(props));\nexport { Controller };","export default (name, validateAllFieldCriteria, errors, type, message) => validateAllFieldCriteria\n  ? Object.assign(Object.assign({}, errors[name]), { types: Object.assign(Object.assign({}, (errors[name] && errors[name].types ? errors[name].types : {})), { [type]: message || true }) }) : {};\n","export default (value) => /^\\w*$/.test(value);\n","import compact from './compact';\n\nexport default (input) =>\n  compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n","import isKey from './isKey';\nimport isObject from './isObject';\nimport stringToPath from './stringToPath';\nexport default function set(object, path, value) {\n  let index = -1;\n  // console.log(\"dyno ;)\", isKey(path),stringToPath(path), \"setset\", object)\n  const tempPath = isKey(path) ? [path] : stringToPath(path);\n  const length = tempPath.length;\n  const lastIndex = length - 1;\n  while (++index < length) {\n    const key = tempPath[index];\n    let newValue = value;\n    if (index !== lastIndex) {\n      const objValue = object[key];\n      newValue =\n        isObject(objValue) || Array.isArray(objValue)\n          ? objValue\n          : !isNaN(+tempPath[index + 1])\n            ? []\n            : {};\n    }\n    object[key] = newValue;\n    object = object[key];\n  }\n  return object;\n}\n","import { get } from '../utils';\nimport isObject from '../utils/isObject';\nimport isUndefined from '../utils/isUndefined';\nimport omit from '../utils/omit';\nconst focusFieldBy = (fields, callback, fieldsNames) => {\n    for (const key of fieldsNames || Object.keys(fields)) {\n        const field = get(fields, key);\n        if (field) {\n            const _f = field._f;\n            const current = omit(field, '_f');\n            if (_f && callback(_f.name)) {\n                if (_f.ref.focus && isUndefined(_f.ref.focus())) {\n                    break;\n                }\n                else if (_f.refs) {\n                    _f.refs[0].focus();\n                    break;\n                }\n            }\n            else if (isObject(current)) {\n                focusFieldBy(current, callback);\n            }\n        }\n    }\n};\nexport default focusFieldBy;","export default (name, index, options) => options && !options.shouldFocus\n    ? options.focusName || `${name}.${options.focusIndex}.`\n    : `${name}.${index}.`;","export default () => {\n  const d =\n    typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16 + d) % 16 | 0;\n\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n  });\n};\n","import generateId from './generateId';\nexport default (values = [], keyName) => values.map((value) => (Object.assign({ [keyName]: (value && value[keyName]) || generateId() }, value)));\n","import convertToArrayPayload from './convertToArrayPayload';\nexport default function append(data, value) {\n    return [...convertToArrayPayload(data), ...convertToArrayPayload(value)];\n}","export default (value) =>\n  Array.isArray(value) ? Array(value.length).fill(undefined) : undefined;\n","import convertToArrayPayload from './convertToArrayPayload';\nexport default function insert(data, index, value) {\n    return [\n        ...data.slice(0, index),\n        ...convertToArrayPayload(value),\n        ...data.slice(index),\n    ];\n}","import isUndefined from './isUndefined';\n\nexport default (\n  data,\n  from,\n  to,\n) => {\n  if (Array.isArray(data)) {\n    if (isUndefined(data[to])) {\n      data[to] = undefined;\n    }\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    return data;\n  }\n\n  return [];\n};\n","import omit from './omit';\nexport default (fields, keyName) => fields.map((field = {}) => omit(field, keyName));\n","import convertToArrayPayload from './convertToArrayPayload';\nexport default function prepend(data, value) {\n    return [...convertToArrayPayload(value), ...convertToArrayPayload(data)];\n}","import compact from './compact';\nimport convertToArrayPayload from './convertToArrayPayload';\nimport isUndefined from './isUndefined';\n\nfunction removeAtIndexes(data, indexes) {\n  let i = 0;\n  const temp = [...data];\n  for (const index of indexes) {\n    temp.splice(index - i, 1);\n    i++;\n  }\n  return compact(temp).length ? temp : [];\n}\n\nexport default (data, index) =>\n  isUndefined(index)\n    ? []\n    : removeAtIndexes(\n      data,\n      (convertToArrayPayload(index)).sort((a, b) => a - b),\n    );\n","export default (data, indexA, indexB) => {\n  data[indexA] = [data[indexB], (data[indexB] = data[indexA])][0];\n};\n","export default (value) => typeof value === 'boolean';\n","import isBoolean from './isBoolean';\nimport isEmptyObject from './isEmptyObject';\nimport isKey from './isKey';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\nimport stringToPath from './stringToPath';\nfunction baseGet(object, updatePath) {\n  const length = updatePath.slice(0, -1).length;\n  let index = 0;\n  while (index < length) {\n    object = isUndefined(object) ? index++ : object[updatePath[index++]];\n  }\n  return object;\n}\nexport default function unset(object, path) {\n  const updatePath = isKey(path) ? [path] : stringToPath(path);\n  const childObject = updatePath.length == 1 ? object : baseGet(object, updatePath);\n  const key = updatePath[updatePath.length - 1];\n  let previousObjRef;\n  if (childObject) {\n    delete childObject[key];\n  }\n  for (let k = 0; k < updatePath.slice(0, -1).length; k++) {\n    let index = -1;\n    let objectRef;\n    const currentPaths = updatePath.slice(0, -(k + 1));\n    const currentPathsLength = currentPaths.length - 1;\n    if (k > 0) {\n      previousObjRef = object;\n    }\n    while (++index < currentPaths.length) {\n      const item = currentPaths[index];\n      objectRef = objectRef ? objectRef[item] : object[item];\n      if (currentPathsLength === index &&\n        ((isObject(objectRef) && isEmptyObject(objectRef)) ||\n          (Array.isArray(objectRef) &&\n            !objectRef.filter((data) => (isObject(data) && !isEmptyObject(data)) || isBoolean(data)).length))) {\n        previousObjRef ? delete previousObjRef[item] : delete object[item];\n      }\n      previousObjRef = objectRef;\n    }\n  }\n  return object;\n}","export default (fieldValues, index, value) => {\n  fieldValues[index] = value;\n  return fieldValues;\n};\n","import * as React from 'react';\nimport focusFieldBy from './logic/focusFieldBy';\nimport getFocusFieldName from './logic/getFocusFieldName';\nimport mapIds from './logic/mapId';\nimport appendAt from './utils/append';\nimport convertToArrayPayload from './utils/convertToArrayPayload';\nimport fillEmptyArray from './utils/fillEmptyArray';\nimport get from './utils/get';\nimport insertAt from './utils/insert';\nimport moveArrayAt from './utils/move';\nimport omitKey from './utils/omitKeys';\nimport prependAt from './utils/prepend';\nimport removeArrayAt from './utils/remove';\nimport set from './utils/set';\nimport swapArrayAt from './utils/swap';\nimport unset from './utils/unset';\nimport updateAt from './utils/update';\nimport { useFormContext } from './useFormContext';\nexport const useFieldArray = (props) => {\n    const methods = useFormContext();\n    const { control = methods.control, name, keyName = 'id', shouldUnregister, } = props;\n    const _focusName = React.useRef('');\n    const [fields, setFields] = React.useState(mapIds(control._getFieldArrayValue(name), keyName));\n    control._names.array.add(name);\n    const append = (value, options) => {\n        const appendValue = convertToArrayPayload(value);\n        const updatedFieldArrayValues = appendAt(control._getFieldArrayValue(name), appendValue);\n        control._bathFieldArrayUpdate(keyName, name, appendAt, {\n            argA: fillEmptyArray(value),\n        }, updatedFieldArrayValues, false);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n        _focusName.current = getFocusFieldName(name, updatedFieldArrayValues.length - appendValue.length, options);\n    };\n    const prepend = (value, options) => {\n        const updatedFieldArrayValues = prependAt(control._getFieldArrayValue(name), convertToArrayPayload(value));\n        control._bathFieldArrayUpdate(keyName, name, prependAt, {\n            argA: fillEmptyArray(value),\n        }, updatedFieldArrayValues);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n        _focusName.current = getFocusFieldName(name, 0, options);\n    };\n    const remove = (index) => {\n        const updatedFieldArrayValues = removeArrayAt(control._getFieldArrayValue(name), index);\n        control._bathFieldArrayUpdate(keyName, name, removeArrayAt, {\n            argA: index,\n        }, updatedFieldArrayValues);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n    };\n    const insert = (index, value, options) => {\n        const updatedFieldArrayValues = insertAt(control._getFieldArrayValue(name), index, convertToArrayPayload(value));\n        control._bathFieldArrayUpdate(keyName, name, insertAt, {\n            argA: index,\n            argB: fillEmptyArray(value),\n        }, updatedFieldArrayValues);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n        _focusName.current = getFocusFieldName(name, index, options);\n    };\n    const swap = (indexA, indexB) => {\n        const fieldValues = control._getFieldArrayValue(name);\n        swapArrayAt(fieldValues, indexA, indexB);\n        control._bathFieldArrayUpdate(keyName, name, swapArrayAt, {\n            argA: indexA,\n            argB: indexB,\n        }, fieldValues, false);\n        setFields(mapIds(fieldValues, keyName));\n    };\n    const move = (from, to) => {\n        const fieldValues = control._getFieldArrayValue(name);\n        moveArrayAt(fieldValues, from, to);\n        control._bathFieldArrayUpdate(keyName, name, moveArrayAt, {\n            argA: from,\n            argB: to,\n        }, fieldValues, false);\n        setFields(mapIds(fieldValues, keyName));\n    };\n    const update = (index, value) => {\n        const fieldValues = control._getFieldArrayValue(name);\n        const updatedFieldArrayValues = updateAt(fieldValues, index, value);\n        control._bathFieldArrayUpdate(keyName, name, updateAt, {\n            argA: index,\n            argB: value,\n        }, fieldValues, true, false);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n    };\n    React.useEffect(() => {\n        control._isInAction.val = false;\n        if (control._names.watchAll) {\n            control._subjects.state.next({});\n        }\n        else {\n            for (const watchField of control._names.watch) {\n                if (name.startsWith(watchField)) {\n                    control._subjects.state.next({});\n                    break;\n                }\n            }\n        }\n        control._subjects.watch.next({\n            name,\n            values: control._formValues,\n        });\n        _focusName.current &&\n            focusFieldBy(control._fields, (key) => key.startsWith(_focusName.current));\n        _focusName.current = '';\n        control._subjects.array.next({\n            name,\n            values: omitKey([...fields], keyName),\n        });\n        control._proxyFormState.isValid && control._updateValid();\n    }, [fields, name, control, keyName]);\n    React.useEffect(() => {\n        const fieldArraySubscription = control._subjects.array.subscribe({\n            next(payload) {\n                if (payload.isReset) {\n                    unset(control._fields, payload.name || name);\n                    unset(control._formValues, payload.name || name);\n                    payload.name\n                        ? set(control._formValues, payload.name, payload.values)\n                        : payload.values && (control._formValues = payload.values);\n                    setFields(mapIds(get(control._formValues, name), keyName));\n                }\n            },\n        });\n        !get(control._formValues, name) && set(control._formValues, name, []);\n        return () => {\n            fieldArraySubscription.unsubscribe();\n            if (control._shouldUnregister || shouldUnregister) {\n                control.unregister(name);\n                unset(control._formValues, name);\n            }\n            else {\n                const fieldArrayValues = get(control._formValues, name);\n                fieldArrayValues && set(control._formValues, name, fieldArrayValues);\n            }\n        };\n    }, [name, control, keyName, shouldUnregister]);\n    return {\n        swap: React.useCallback(swap, [name, control, keyName]),\n        move: React.useCallback(move, [name, control, keyName]),\n        prepend: React.useCallback(prepend, [name, control, keyName]),\n        append: React.useCallback(append, [name, control, keyName]),\n        remove: React.useCallback(remove, [name, control, keyName]),\n        insert: React.useCallback(insert, [name, control, keyName]),\n        update: React.useCallback(update, [name, control, keyName]),\n        fields: fields,\n    };\n};","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","export default (callback, wait) => {\n  let timer = 0;\n  return (...args) => {\n      clearTimeout(timer);\n      timer = window.setTimeout(() => callback(...args), wait);\n  };\n};","import isNullOrUndefined from './isNullOrUndefined';\nimport { isObjectType } from './isObject';\nexport default (value) => isNullOrUndefined(value) || !isObjectType(value);\n","import isObject from './isObject';\nimport isDateObject from './isDateObject';\nimport isPrimitive from './isPrimitive';\nexport default function deepEqual(object1, object2) {\n    if (isPrimitive(object1) ||\n        isPrimitive(object2) ||\n        isDateObject(object1) ||\n        isDateObject(object2)) {\n        return object1 === object2;\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const val1 = object1[key];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (key !== 'ref') {\n            const val2 = object2[key];\n            if ((isObject(val1) || Array.isArray(val1)) &&\n                (isObject(val2) || Array.isArray(val2))\n                ? !deepEqual(val1, val2)\n                : val1 !== val2) {\n                return false;\n            }\n        }\n    }\n    return true;\n}","import { VALIDATION_MODE } from '../constants';\nexport default (mode) => ({\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange,\n    isOnAll: mode === VALIDATION_MODE.all,\n    isOnTouch: mode === VALIDATION_MODE.onTouched,\n});","export default (element) => element.type === 'file';\n","export default (value) => typeof value === 'function';\n","export default (value) => value instanceof HTMLElement;\n","export default (element) => element.type === `select-multiple`;\n","export default (element) => element.type === 'radio';\n","import isCheckBoxInput from './isCheckBoxInput';\nimport isRadioInput from './isRadioInput';\nexport default (ref) => isRadioInput(ref) || isCheckBoxInput(ref);","export default (value) => typeof value === 'string';\n","export default typeof window !== 'undefined' &&\n    typeof window.HTMLElement !== 'undefined' &&\n    typeof document !== 'undefined';\n","export class Subscription {\n  constructor() {\n      this.tearDowns = [];\n  }\n  add(tearDown) {\n      this.tearDowns.push(tearDown);\n  }\n  unsubscribe() {\n      for (const teardown of this.tearDowns) {\n          teardown();\n      }\n      this.tearDowns = [];\n  }\n}\nclass Subscriber {\n  constructor(observer, subscription) {\n      this.observer = observer;\n      this.closed = false;\n      subscription.add(() => (this.closed = true));\n  }\n  next(value) {\n      if (!this.closed) {\n          this.observer.next(value);\n      }\n  }\n}\nexport default class Subject {\n  constructor() {\n      this.observers = [];\n  }\n  next(value) {\n      for (const observer of this.observers) {\n          observer.next(value);\n      }\n  }\n  subscribe(observer) {\n      const subscription = new Subscription();\n      const subscriber = new Subscriber(observer, subscription);\n      this.observers.push(subscriber);\n      return subscription;\n  }\n  unsubscribe() {\n      this.observers = [];\n  }\n}","import isUndefined from '../utils/isUndefined';\nconst defaultResult = {\n    value: false,\n    isValid: false,\n};\nconst validResult = { value: true, isValid: true };\nexport default (options) => {\n    if (Array.isArray(options)) {\n        if (options.length > 1) {\n            const values = options\n                .filter((option) => option && option.checked && !option.disabled)\n                .map((option) => option.value);\n            return { value: values, isValid: !!values.length };\n        }\n        return options[0].checked && !options[0].disabled\n            ? // @ts-expect-error expected to work in the browser\n                options[0].attributes && !isUndefined(options[0].attributes.value)\n                    ? isUndefined(options[0].value) || options[0].value === ''\n                        ? validResult\n                        : { value: options[0].value, isValid: true }\n                    : validResult\n            : defaultResult;\n    }\n    return defaultResult;\n};\n","import isUndefined from '../utils/isUndefined';\nexport default (value, { valueAsNumber, valueAsDate, setValueAs }) => isUndefined(value)\n    ? value\n    : valueAsNumber\n        ? value === ''\n            ? NaN\n            : +value\n        : valueAsDate\n            ? new Date(value)\n            : setValueAs\n                ? setValueAs(value)\n                : value;","export default (options) => [...options]\n    .filter(({ selected }) => selected)\n    .map(({ value }) => value);","const defaultReturn = {\n  isValid: false,\n  value: null,\n};\nexport default (options) => Array.isArray(options)\n  ? options.reduce((previous, option) => option && option.checked && !option.disabled\n      ? {\n          isValid: true,\n          value: option.value,\n      }\n      : previous, defaultReturn)\n  : defaultReturn;","import isCheckBox from '../utils/isCheckBoxInput';\nimport isFileInput from '../utils/isFileInput';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport isRadioInput from '../utils/isRadioInput';\nimport isUndefined from '../utils/isUndefined';\nimport getCheckboxValue from './getCheckboxValue';\nimport getFieldValueAs from './getFieldValueAs';\nimport getMultipleSelectValue from './getMultipleSelectValue';\nimport getRadioValue from './getRadioValue';\nexport default function getFieldValue(field) {\n    if (field && field._f) {\n        const ref = field._f.ref;\n        //TODO: findout why it is here ;) thanks to Edward ;)\n        // if (field._f.refs ? field._f.refs.every((ref) => ref.disabled) : ref.disabled) {\n        //     return;\n        // }\n        if (isFileInput(ref)) {\n            return ref.files;\n        }\n        if (isRadioInput(ref)) {\n            return getRadioValue(field._f.refs).value;\n        }\n        if (isMultipleSelect(ref)) {\n            return getMultipleSelectValue(ref.options);\n        }\n        if (isCheckBox(ref)) {\n            return getCheckboxValue(field._f.refs).value;\n        }\n        return getFieldValueAs(isUndefined(ref.value) ? field._f.ref.value : ref.value, field._f);\n    }\n}\n","import { get } from '../utils';\nimport set from '../utils/set';\n\nexport default (\n  fieldsNames,\n  _fieldss,\n  criteriaMode,\n  shouldUseNativeValidation,\n) => {\n  const fields = {};\n\n  for (const name of fieldsNames) {\n    const field = get(_fieldss, name);\n\n    field && set(fields, name, field._f);\n  }\n\n  return {\n    criteriaMode,\n    names: [...fieldsNames],\n    fields,\n    shouldUseNativeValidation,\n  };\n};\n","export default (options, mounted) => mounted &&\n    options &&\n    (options.required ||\n        options.min ||\n        options.max ||\n        options.maxLength ||\n        options.minLength ||\n        options.pattern ||\n        options.validate);","import isObject from './isObject';\nimport isPrimitive from './isPrimitive';\nexport function deepMerge(target, source) {\n    if (isPrimitive(target) || isPrimitive(source)) {\n        return source;\n    }\n    for (const key in source) {\n        const targetValue = target[key];\n        const sourceValue = source[key];\n        try {\n            target[key] =\n                (isObject(targetValue) && isObject(sourceValue)) ||\n                    (Array.isArray(targetValue) && Array.isArray(sourceValue))\n                    ? deepMerge(targetValue, sourceValue)\n                    : sourceValue;\n        }\n        catch (_a) { }\n    }\n    return target;\n}","import { get } from '../utils';\nimport deepEqual from '../utils/deepEqual';\nimport { deepMerge } from '../utils/deepMerge';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport set from '../utils/set';\nfunction setDirtyFields(values, defaultValues, dirtyFields, parentNode, parentName) {\n    let index = -1;\n    while (++index < values.length) {\n        for (const key in values[index]) {\n            if (Array.isArray(values[index][key])) {\n                !dirtyFields[index] && (dirtyFields[index] = {});\n                dirtyFields[index][key] = [];\n                setDirtyFields(values[index][key], get(defaultValues[index] || {}, key, []), dirtyFields[index][key], dirtyFields[index], key);\n            }\n            else {\n                !isNullOrUndefined(defaultValues) &&\n                    deepEqual(get(defaultValues[index] || {}, key), values[index][key])\n                    ? set(dirtyFields[index] || {}, key)\n                    : (dirtyFields[index] = Object.assign(Object.assign({}, dirtyFields[index]), { [key]: true }));\n            }\n        }\n        parentNode &&\n            !dirtyFields.length &&\n            delete parentNode[parentName];\n    }\n    return dirtyFields;\n}\nexport default (values, defaultValues, dirtyFields) => deepMerge(setDirtyFields(values, defaultValues, dirtyFields.slice(0, values.length)), setDirtyFields(defaultValues, values, dirtyFields.slice(0, values.length)));\n","export default ({ isOnBlur, isOnChange, isOnTouch, isTouched, isReValidateOnBlur, isReValidateOnChange, isBlurEvent, isSubmitted, isOnAll, }) => {\n  if (isOnAll) {\n      return false;\n  }\n  else if (!isSubmitted && isOnTouch) {\n      return !(isTouched || isBlurEvent);\n  }\n  else if (isSubmitted ? isReValidateOnBlur : isOnBlur) {\n      return !isBlurEvent;\n  }\n  else if (isSubmitted ? isReValidateOnChange : isOnChange) {\n      return isBlurEvent;\n  }\n  return true;\n};","import compact from '../utils/compact';\nimport get from '../utils/get';\nimport unset from '../utils/unset';\n\nexport default (ref, name) =>\n  !compact(get(ref, name, [])).length && unset(ref, name);\n","import * as React from 'react';\nimport isString from './isString';\nexport default (value) => isString(value) || React.isValidElement(value);\n","export default (value) => value instanceof RegExp;\n","import isBoolean from '../utils/isBoolean';\nimport isMessage from '../utils/isMessage';\nexport default function getValidateError(result, ref, type = 'validate') {\n    if (isMessage(result) ||\n        (Array.isArray(result) && result.every(isMessage)) ||\n        (isBoolean(result) && !result)) {\n        return {\n            type,\n            message: isMessage(result) ? result : '',\n            ref,\n        };\n    }\n}","import isObject from '../utils/isObject';\nimport isRegex from '../utils/isRegex';\n\nexport default (validationData) =>\n  isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n      };\n","import { INPUT_VALIDATION_RULES } from '../constants';\nimport isBoolean from '../utils/isBoolean';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isFileInput from '../utils/isFileInput';\nimport isFunction from '../utils/isFunction';\nimport isMessage from '../utils/isMessage';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isRadioInput from '../utils/isRadioInput';\nimport isRegex from '../utils/isRegex';\nimport isString from '../utils/isString';\nimport appendErrors from './appendErrors';\nimport getCheckboxValue from './getCheckboxValue';\nimport getRadioValue from './getRadioValue';\nimport getValidateError from './getValidateError';\nimport getValueAndMessage from './getValueAndMessage';\nexport default async (field, inputValue, validateAllFieldCriteria, shouldUseNativeValidation) => {\n    const { ref, refs, required, maxLength, minLength, min, max, pattern, validate, name, valueAsNumber, mount, } = field._f;\n    if (!mount) {\n        return {};\n    }\n    const inputRef = refs ? refs[0] : ref;\n    const setCustomValidty = (message) => {\n        if (shouldUseNativeValidation && inputRef.reportValidity) {\n            inputRef.setCustomValidity(isBoolean(message) ? '' : message || ' ');\n            inputRef.reportValidity();\n        }\n    };\n    const error = {};\n    const isRadio = isRadioInput(ref);\n    const isCheckBox = isCheckBoxInput(ref);\n    const isRadioOrCheckbox = isRadio || isCheckBox;\n    const isEmpty = ((valueAsNumber || isFileInput(ref)) && !ref.value) ||\n        inputValue === '' ||\n        (Array.isArray(inputValue) && !inputValue.length);\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\n        error[name] = Object.assign({ type: exceedMax ? maxType : minType, message,\n            ref }, appendErrorsCurry(exceedMax ? maxType : minType, message));\n    };\n    if (required &&\n        ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n            (isBoolean(inputValue) && !inputValue) ||\n            (isCheckBox && !getCheckboxValue(refs).isValid) ||\n            (isRadio && !getRadioValue(refs).isValid))) {\n        const { value, message } = isMessage(required)\n            ? { value: !!required, message: required }\n            : getValueAndMessage(required);\n        if (value) {\n            error[name] = Object.assign({ type: INPUT_VALIDATION_RULES.required, message, ref: inputRef }, appendErrorsCurry(INPUT_VALIDATION_RULES.required, message));\n            if (!validateAllFieldCriteria) {\n                setCustomValidty(message);\n                return error;\n            }\n        }\n    }\n    if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n        let exceedMax;\n        let exceedMin;\n        const maxOutput = getValueAndMessage(max);\n        const minOutput = getValueAndMessage(min);\n        if (!isNaN(inputValue)) {\n            const valueNumber = ref.valueAsNumber || parseFloat(inputValue);\n            if (!isNullOrUndefined(maxOutput.value)) {\n                exceedMax = valueNumber > maxOutput.value;\n            }\n            if (!isNullOrUndefined(minOutput.value)) {\n                exceedMin = valueNumber < minOutput.value;\n            }\n        }\n        else {\n            const valueDate = ref.valueAsDate || new Date(inputValue);\n            if (isString(maxOutput.value)) {\n                exceedMax = valueDate > new Date(maxOutput.value);\n            }\n            if (isString(minOutput.value)) {\n                exceedMin = valueDate < new Date(minOutput.value);\n            }\n        }\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(!!exceedMax, maxOutput.message, minOutput.message, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n            if (!validateAllFieldCriteria) {\n                setCustomValidty(error[name].message);\n                return error;\n            }\n        }\n    }\n    if ((maxLength || minLength) && !isEmpty && isString(inputValue)) {\n        const maxLengthOutput = getValueAndMessage(maxLength);\n        const minLengthOutput = getValueAndMessage(minLength);\n        const exceedMax = !isNullOrUndefined(maxLengthOutput.value) &&\n            inputValue.length > maxLengthOutput.value;\n        const exceedMin = !isNullOrUndefined(minLengthOutput.value) &&\n            inputValue.length < minLengthOutput.value;\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(exceedMax, maxLengthOutput.message, minLengthOutput.message);\n            if (!validateAllFieldCriteria) {\n                setCustomValidty(error[name].message);\n                return error;\n            }\n        }\n    }\n    if (pattern && !isEmpty && isString(inputValue)) {\n        const { value: patternValue, message } = getValueAndMessage(pattern);\n        console.log(\"dyno ;)\", isRegex(new RegExp(patternValue)), !inputValue.match(patternValue), patternValue, \"patternValue\")\n        if (isRegex(new RegExp(patternValue)) && !inputValue.match(patternValue)) {\n            error[name] = Object.assign({ type: INPUT_VALIDATION_RULES.pattern, message,\n                ref }, appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message));\n            if (!validateAllFieldCriteria) {\n                setCustomValidty(message);\n                return error;\n            }\n        }\n    }\n    if (validate) {\n        if (isFunction(validate)) {\n            const result = await validate(inputValue);\n            const validateError = getValidateError(result, inputRef);\n            if (validateError) {\n                error[name] = Object.assign(Object.assign({}, validateError), appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message));\n                if (!validateAllFieldCriteria) {\n                    setCustomValidty(validateError.message);\n                    return error;\n                }\n            }\n        }\n        else if (isObject(validate)) {\n            let validationResult = {};\n            for (const key in validate) {\n                if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n                    break;\n                }\n                const validateError = getValidateError(await validate[key](inputValue), inputRef, key);\n                if (validateError) {\n                    validationResult = Object.assign(Object.assign({}, validateError), appendErrorsCurry(key, validateError.message));\n                    setCustomValidty(validateError.message);\n                    if (validateAllFieldCriteria) {\n                        error[name] = validationResult;\n                    }\n                }\n            }\n            if (!isEmptyObject(validationResult)) {\n                error[name] = Object.assign({ ref: inputRef }, validationResult);\n                if (!validateAllFieldCriteria) {\n                    return error;\n                }\n            }\n        }\n    }\n    setCustomValidty(true);\n    return error;\n};\n","import { EVENTS, VALIDATION_MODE } from '../constants';\nimport { set } from '../utils';\nimport compact from '../utils/compact';\nimport convertToArrayPayload from '../utils/convertToArrayPayload';\nimport debounce from '../utils/debounce';\nimport deepEqual from '../utils/deepEqual';\nimport get from '../utils/get';\nimport getValidationModes from '../utils/getValidationModes';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isDateObject from '../utils/isDateObject';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isFileInput from '../utils/isFileInput';\nimport isFunction from '../utils/isFunction';\nimport isHTMLElement from '../utils/isHTMLElement';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isPrimitive from '../utils/isPrimitive';\nimport isRadioOrCheckboxFunction from '../utils/isRadioOrCheckbox';\nimport isString from '../utils/isString';\nimport isUndefined from '../utils/isUndefined';\nimport isWeb from '../utils/isWeb';\nimport omit from '../utils/omit';\nimport omitKey from '../utils/omitKeys';\nimport Subject from '../utils/Subject';\nimport unset from '../utils/unset';\nimport focusFieldBy from './focusFieldBy';\nimport getFieldValue from './getFieldValue';\nimport getFieldValueAs from './getFieldValueAs';\nimport getNodeParentName from './getNodeParentName';\nimport getResolverOptions from './getResolverOptions';\nimport hasValidation from './hasValidation';\nimport isNameInFieldArray from './isNameInFieldArray';\nimport setFieldArrayDirtyFields from './setFieldArrayDirtyFields';\nimport skipValidation from './skipValidation';\nimport unsetEmptyArray from './unsetEmptyArray';\nimport validateField from './validateField';\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nconst isWindowUndefined = typeof window === 'undefined';\nexport function createFormControlV3(props = {}) {\n    let formOptions = Object.assign(Object.assign({}, defaultOptions), props);\n    let _delayCallback;\n    let _formState = {\n        isDirty: false,\n        isValidating: false,\n        dirtyFields: {},\n        isSubmitted: false,\n        submitCount: 0,\n        touchedFields: {},\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        errors: {},\n    };\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    let _fields = {};\n    let _formValues = {};\n    let _defaultValues = formOptions.defaultValues || {};\n    let _isInAction = false;\n    let _isMounted = false;\n    const _subjects = {\n        watch: new Subject(),\n        control: new Subject(),\n        array: new Subject(),\n        state: new Subject(),\n    };\n    let _names = {\n        mount: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n        watchAll: false,\n    };\n    const validationMode = getValidationModes(formOptions.mode);\n    const isValidateAllFieldCriteria = formOptions.criteriaMode === VALIDATION_MODE.all;\n    const isFieldWatched = (name) => _names.watchAll ||\n        _names.watch.has(name) ||\n        _names.watch.has((name.match(/\\w+/) || [])[0]);\n    const updateErrorState = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const shouldRenderBaseOnValid = async () => {\n        const isValid = await validateForm(_fields, true);\n        if (isValid !== _formState.isValid) {\n            _formState.isValid = isValid;\n            _subjects.state.next({\n                isValid,\n            });\n        }\n    };\n    const shouldRenderBaseOnError = async (shouldSkipRender, name, error, fieldState, isValidFromResolver, isWatched) => {\n        const previousError = get(_formState.errors, name);\n        const isValid = !!(_proxyFormState.isValid &&\n            (formOptions.resolver ? isValidFromResolver : shouldRenderBaseOnValid()));\n        if (props.delayError && error) {\n            _delayCallback =\n                _delayCallback || debounce(updateErrorState, props.delayError);\n            _delayCallback(name, error);\n        }\n        else {\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((isWatched ||\n            (error ? !deepEqual(previousError, error) : previousError) ||\n            !isEmptyObject(fieldState) ||\n            _formState.isValid !== isValid) &&\n            !shouldSkipRender) {\n            const updatedFormState = Object.assign(Object.assign(Object.assign({}, fieldState), (_proxyFormState.isValid && formOptions.resolver ? { isValid } : {})), { errors: _formState.errors, name });\n            _formState = Object.assign(Object.assign({}, _formState), updatedFormState);\n            //everywhere has isWatched ;)\n            _subjects.state.next(isWatched ? { name } : updatedFormState);\n        }\n        _subjects.state.next({\n            isValidating: false,\n        });\n    };\n    const setFieldValue = (name, value, options = {}, shouldRender) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", \"setValuesetValue\", field, field._f.ref.visible, value,_formValues)\n        if (field) {\n            const _f = field._f;\n            if (_f) {\n                // if(!field._f.ref.visible) return;\n                set(_formValues, name, getFieldValueAs(value, _f));\n                const fieldValue = isWeb && isHTMLElement(_f.ref) && isNullOrUndefined(value)\n                    ? ''\n                    : value;\n                if (isFileInput(_f.ref) && !isString(fieldValue)) {\n                    _f.ref.files = fieldValue;\n                }\n                else if (isMultipleSelect(_f.ref)) {\n                    [..._f.ref.options].forEach((selectRef) => (selectRef.selected = fieldValue.includes(selectRef.value)));\n                }\n                else if (_f.refs) {\n                    if (isCheckBoxInput(_f.ref)) {\n                        _f.refs.length > 1\n                            ? _f.refs.forEach((checkboxRef) => (checkboxRef.checked = Array.isArray(fieldValue)\n                                ? !!fieldValue.find((data) => data === checkboxRef.value)\n                                : fieldValue === checkboxRef.value))\n                            : (_f.refs[0].checked = !!fieldValue);\n                    }\n                    else {\n                        _f.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else {\n                    _f.ref.value = fieldValue;\n                }\n                if (shouldRender) {\n                    _subjects.control.next({\n                        values: getValues(),\n                        name,\n                    });\n                }\n                (options.shouldDirty || options.shouldTouch) &&\n                    updateTouchAndDirtyState(name, fieldValue, options.shouldTouch);\n                options.shouldValidate && trigger(name);\n            }\n        }\n    };\n    const updateTouchAndDirtyState = (name, inputValue, isCurrentTouched, shouldRender = true) => {\n        const state = {\n            name,\n        };\n        let isChanged = false;\n        if (_proxyFormState.isDirty) {\n            const previousIsDirty = _formState.isDirty;\n            _formState.isDirty = _getIsDirty();\n            state.isDirty = _formState.isDirty;\n            isChanged = previousIsDirty !== state.isDirty;\n        }\n        if (_proxyFormState.dirtyFields && !isCurrentTouched) {\n            const isPreviousFieldDirty = get(_formState.dirtyFields, name);\n            const isCurrentFieldDirty = !deepEqual(get(_defaultValues, name), inputValue);\n            isCurrentFieldDirty\n                ? set(_formState.dirtyFields, name, true)\n                : unset(_formState.dirtyFields, name);\n            state.dirtyFields = _formState.dirtyFields;\n            isChanged =\n                isChanged || isPreviousFieldDirty !== get(_formState.dirtyFields, name);\n        }\n        const isPreviousFieldTouched = get(_formState.touchedFields, name);\n        if (isCurrentTouched && !isPreviousFieldTouched) {\n            set(_formState.touchedFields, name, isCurrentTouched);\n            state.touchedFields = _formState.touchedFields;\n            isChanged =\n                isChanged ||\n                    (_proxyFormState.touchedFields &&\n                        isPreviousFieldTouched !== isCurrentTouched);\n        }\n        isChanged && shouldRender && _subjects.state.next(state);\n        return isChanged ? state : {};\n    };\n    const executeResolver = async (name) => {\n        return formOptions.resolver\n            ? await formOptions.resolver(Object.assign({}, _formValues), formOptions.context, getResolverOptions(name || _names.mount, _fields, formOptions.criteriaMode, formOptions.shouldUseNativeValidation))\n            : {};\n    };\n    const executeResolverValidation = async (names) => {\n        const { errors } = await executeResolver();\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const validateForm = async (_fields, shouldCheckValid, context = {\n        valid: true,\n    }) => {\n        // console.log(\"dyno ;)\", \"SUBMITFORM here\", _fields)\n        for (const name in _fields) {\n            const field = _fields[name];\n            if (field) {\n                const _f = field._f;\n                const val = omit(field, '_f');\n                // && field._f.ref.formId === \"ALL\"\n                if (_f) {\n                    //To do for formId ;)\n                    const fieldError = await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                    // const fieldError = field._f.ref.formId === \"ALL\" &&  await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                    console.log(\"dyno ;)\", fieldError,\"fieldError\")\n                    if (shouldCheckValid) {\n                        if (fieldError[_f.name]) {\n                            context.valid = false;\n                            break;\n                        }\n                    }\n                    else {\n                        if (fieldError[_f.name]) {\n                            context.valid = false;\n                        }\n                        fieldError[_f.name]\n                            ? set(_formState.errors, _f.name, fieldError[_f.name])\n                            : unset(_formState.errors, _f.name);\n                    }\n                }\n                val && (await validateForm(val, shouldCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const handleChange = async ({ type, target, target: { value, name, type: inputType }, }) => {\n        let error;\n        let isValid;\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", field, \"field from library Yasser ;) Thanks Allah :):)\");\n        if (field) {\n            let inputValue = inputType ? getFieldValue(field) : undefined;\n            inputValue = isUndefined(inputValue) ? value : inputValue;\n            // console.log(\"dyno ;)\", inputValue, \"field from library Yasser ;) inputValue :)\");\n            const isBlurEvent = type === EVENTS.BLUR;\n            const { isOnBlur: isReValidateOnBlur, isOnChange: isReValidateOnChange } = getValidationModes(formOptions.reValidateMode);\n            const shouldSkipValidation = (!hasValidation(field._f, field._f.mount) &&\n                !formOptions.resolver &&\n                !get(_formState.errors, name)) ||\n                skipValidation(Object.assign({ isBlurEvent, isTouched: !!get(_formState.touchedFields, name), isSubmitted: _formState.isSubmitted, isReValidateOnBlur,\n                    isReValidateOnChange }, validationMode));\n            const isWatched = !isBlurEvent && isFieldWatched(name);\n            if (!isUndefined(inputValue)) {\n                set(_formValues, name, inputValue);\n            }\n            const fieldState = updateTouchAndDirtyState(name, inputValue, isBlurEvent, false);\n            const shouldRender = !isEmptyObject(fieldState) || isWatched;\n            if (shouldSkipValidation) {\n                !isBlurEvent &&\n                    _subjects.watch.next({\n                        name,\n                        type,\n                    });\n                return (shouldRender &&\n                    _subjects.state.next(isWatched ? { name } : Object.assign(Object.assign({}, fieldState), { name })));\n            }\n            _subjects.state.next({\n                isValidating: true,\n            });\n            if (formOptions.resolver) {\n                const { errors } = await executeResolver([name]);\n                error = get(errors, name);\n                if (isCheckBoxInput(target) && !error) {\n                    const parentNodeName = getNodeParentName(name);\n                    const valError = get(errors, parentNodeName, {});\n                    valError.type && valError.message && (error = valError);\n                    if (valError || get(_formState.errors, parentNodeName)) {\n                        name = parentNodeName;\n                    }\n                }\n                isValid = isEmptyObject(errors);\n            }\n            else {\n                error = (await validateField(field, get(_formValues, name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation))[name];\n            }\n            !isBlurEvent &&\n                _subjects.watch.next({\n                    name,\n                    type,\n                    values: getValues(),\n                });\n            shouldRenderBaseOnError(false, name, error, fieldState, isValid, isWatched);\n        }\n    };\n    const _updateValidAndInputValue = (name, ref, shouldSkipValueAs) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", name,ref, '_updateValidAndInputValue')\n        if (field) {\n            const fieldValue = get(_formValues, name);\n            const isValueUndefined = isUndefined(fieldValue);\n            const defaultValue = isValueUndefined\n                ? get(_defaultValues, name)\n                : fieldValue;\n            if (isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipValueAs) {\n                ref && ref.visible && //todo ;)\n                set(_formValues, name, shouldSkipValueAs ? defaultValue : getFieldValue(field));\n            }\n            else {\n                setFieldValue(name, defaultValue);\n            }\n        }\n        _isMounted && _proxyFormState.isValid && _updateValid();\n    };\n    const _getIsDirty = (name, data) => {\n        name && data && set(_formValues, name, data);\n        return !deepEqual(Object.assign({}, getValues()), _defaultValues);\n    };\n    const _updateValid = async () => {\n        const isValid = formOptions.resolver\n            ? isEmptyObject((await executeResolver()).errors)\n            : await validateForm(_fields, true);\n        if (isValid !== _formState.isValid) {\n            _formState.isValid = isValid;\n            _subjects.state.next({\n                isValid,\n            });\n        }\n    };\n    const setValues = (name, value, options) => Object.entries(value).forEach(([fieldKey, fieldValue]) => {\n        const fieldName = `${name}.${fieldKey}`;\n        const field = get(_fields, fieldName);\n        const isFieldArray = _names.array.has(name);\n        (isFieldArray || !isPrimitive(fieldValue) || (field && !field._f)) &&\n            !isDateObject(fieldValue)\n            ? setValues(fieldName, fieldValue, options)\n            : setFieldValue(fieldName, fieldValue, options, true);\n    });\n    const _getWatch = (fieldNames, defaultValue, isGlobal) => {\n        const fieldValues = Object.assign({}, (_isMounted\n            ? Object.assign({}, Object.assign(Object.assign({}, _defaultValues), _formValues)) : isUndefined(defaultValue)\n            ? _defaultValues\n            : defaultValue));\n        if (!fieldNames) {\n            isGlobal && (_names.watchAll = true);\n            return fieldValues;\n        }\n        const resultChanges = [];\n        const result = new Map();\n        for (const fieldName of convertToArrayPayload(fieldNames)) {\n            isGlobal && _names.watch.add(fieldName);\n            resultChanges.push(get(fieldValues, fieldName));\n            result.set(fieldName, get(fieldValues, fieldName));\n        }\n        return Array.isArray(fieldNames)\n            ? [resultChanges,result]\n            : isObject(result[0])\n                ? Object.assign({}, result[0]) : Array.isArray(result[0])\n                ? [...result[0]]\n                : result[0];\n    };\n    const _updateFormValues = (defaultValues, name = '') => {\n        console.log(\"dyno ;)\", defaultValues,\"_updateFormValues\")\n        for (const key in defaultValues) {\n            const value = defaultValues[key];\n            const fieldName = name + (name ? '.' : '') + key;\n            const field = get(_fields, fieldName);\n            if (!field || !field._f) {\n                if (isObject(value) || Array.isArray(value)) {\n                    _updateFormValues(value, fieldName);\n                }\n                else if (!field) {\n                    set(_formValues, fieldName, value);\n                }\n            }\n        }\n    };\n    const _bathFieldArrayUpdate = (keyName, name, method, args, updatedFieldArrayValues = [], shouldSet = true, shouldSetFields = true) => {\n        _isInAction = true;\n        if (shouldSetFields && get(_fields, name)) {\n            const output = method(get(_fields, name), args.argA, args.argB);\n            shouldSet && set(_fields, name, output);\n        }\n        set(_formValues, name, updatedFieldArrayValues);\n        if (Array.isArray(get(_formState.errors, name))) {\n            const output = method(get(_formState.errors, name), args.argA, args.argB);\n            shouldSet && set(_formState.errors, name, output);\n            unsetEmptyArray(_formState.errors, name);\n        }\n        if (_proxyFormState.touchedFields && get(_formState.touchedFields, name)) {\n            const output = method(get(_formState.touchedFields, name), args.argA, args.argB);\n            shouldSet && set(_formState.touchedFields, name, output);\n            unsetEmptyArray(_formState.touchedFields, name);\n        }\n        if (_proxyFormState.dirtyFields || _proxyFormState.isDirty) {\n            set(_formState.dirtyFields, name, setFieldArrayDirtyFields(omitKey(updatedFieldArrayValues, keyName), get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n            updatedFieldArrayValues &&\n                set(_formState.dirtyFields, name, setFieldArrayDirtyFields(omitKey(updatedFieldArrayValues, keyName), get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n            unsetEmptyArray(_formState.dirtyFields, name);\n        }\n        _subjects.state.next({\n            isDirty: _getIsDirty(name, omitKey(updatedFieldArrayValues, keyName)),\n            dirtyFields: _formState.dirtyFields,\n            errors: _formState.errors,\n            isValid: _formState.isValid,\n        });\n    };\n    const _getFieldArrayValue = (name) => get(_isMounted ? _formValues : _defaultValues, name, []);\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        set(_formValues, name, value);\n        if (isFieldArray) {\n            _subjects.array.next({\n                values: value,\n                name,\n                isReset: true,\n            });\n            if ((_proxyFormState.isDirty || _proxyFormState.dirtyFields) &&\n                options.shouldDirty) {\n                set(_formState.dirtyFields, name, setFieldArrayDirtyFields(value, get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n                _subjects.state.next({\n                    name,\n                    dirtyFields: _formState.dirtyFields,\n                    isDirty: _getIsDirty(name, value),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(value)\n                ? setValues(name, value, options)\n                : setFieldValue(name, value, options, true);\n        }\n        isFieldWatched(name) && _subjects.state.next({});\n        _subjects.watch.next({\n            name,\n        });\n    };\n    const trigger = async (name, options = {}) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        _subjects.state.next({\n            isValidating: true,\n        });\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                await validateForm(_fields);\n                isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        return isValid;\n    };\n    const triggerBackground = async (name, options = {}) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        // _subjects.state.next({\n        //     isValidating: true,\n        // });\n        console.log(\"dyno ;)\", \"trigger\", _formState.errors);\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                isValid = await validateForm(_fields, true);\n                // isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        // _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        console.log(\"dyno ;)\", \"trigger\", _formState.errors, \"end\");\n        return isValid;\n    };\n    const getValues = (fieldNames) => {\n        console.log(\"dyno ;)\", _formValues, _fields, \"fdfdfdfdfdfd\")\n        const values = Object.assign(Object.assign({}, _defaultValues), _formValues);\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const clearErrors = (name) => {\n        name\n            ? convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName))\n            : (_formState.errors = {});\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        set(_formState.errors, name, Object.assign(Object.assign({}, error), { ref }));\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (fieldName, defaultValue) => isFunction(fieldName)\n        ? _subjects.watch.subscribe({\n            next: (info) => fieldName(_getWatch(undefined, defaultValue), info),\n        })\n        : _getWatch(fieldName, defaultValue, true);\n    const unregister = (name, options = {}) => {\n        for (const inputName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(inputName);\n            _names.array.delete(inputName);\n            if (get(_fields, inputName)) {\n                if (!options.keepValue) {\n                    unset(_fields, inputName);\n                    unset(_formValues, inputName);\n                }\n                !options.keepError && unset(_formState.errors, inputName);\n                !options.keepDirty && unset(_formState.dirtyFields, inputName);\n                !options.keepTouched && unset(_formState.touchedFields, inputName);\n                !formOptions.shouldUnregister &&\n                    !options.keepDefaultValue &&\n                    unset(_defaultValues, inputName);\n            }\n        }\n        _subjects.watch.next({});\n        _subjects.state.next(Object.assign(Object.assign({}, _formState), (!options.keepDirty ? {} : { isDirty: _getIsDirty() })));\n        !options.keepIsValid && _updateValid();\n    };\n    const registerFieldRef = (name, fieldRef, options) => {\n        register(name, options);\n        let field = get(_fields, name);\n        const ref = isUndefined(fieldRef.value)\n            ? fieldRef.querySelectorAll\n                ? fieldRef.querySelectorAll('input,select,textarea')[0] ||\n                    fieldRef\n                : fieldRef\n            : fieldRef;\n        const isRadioOrCheckbox = isRadioOrCheckboxFunction(ref);\n        if (ref === field._f.ref ||\n            (isRadioOrCheckbox &&\n                compact(field._f.refs || []).find((option) => option === ref))) {\n            return;\n        }\n        field = {\n            _f: isRadioOrCheckbox\n                ? Object.assign(Object.assign({}, field._f), { refs: [\n                        ...compact(field._f.refs || []).filter((ref) => isHTMLElement(ref) && document.contains(ref)),\n                        ref,\n                    ], ref: { type: ref.type, name } }) : Object.assign(Object.assign({}, field._f), { ref }),\n        };\n        set(_fields, name, field);\n        _updateValidAndInputValue(name, ref);\n    };\n    const register = (name, options = {}) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", \"registerRegister\", field, name, _fields)\n        set(_fields, name, {\n            _f: Object.assign(Object.assign(Object.assign({}, (field && field._f ? field._f : { ref: { name } })), { name, mount: true }), options),\n        });\n        console.log(\"dyno ;)\", Object.assign(Object.assign(Object.assign({}, (field && field._f ? field._f : { ref: { name } })), { name, mount: true }), options),\"registerRegister after\", field, name, _fields)\n        if (options.value) {\n            set(_formValues, name, options.value);\n        }\n        if (!isUndefined(options.disabled) &&\n            field &&\n            field._f &&\n            field._f.ref.disabled !== options.disabled) {\n            set(_formValues, name, options.disabled ? undefined : field._f.ref.value);\n        }\n        _names.mount.add(name);\n        !field && _updateValidAndInputValue(name, undefined, true);\n        return isWindowUndefined\n            ? { name: name }\n            : Object.assign(Object.assign({ name }, (isUndefined(options.disabled)\n                ? {}\n                : { disabled: options.disabled })), { onChange: handleChange, onBlur: handleChange, ref: (ref) => {\n                    if (ref) {\n                        registerFieldRef(name, ref, options);\n                    }\n                    else {\n                        const field = get(_fields, name, {});\n                        const _shouldUnregister = formOptions.shouldUnregister || options.shouldUnregister;\n                        if (field._f) {\n                            field._f.mount = false;\n                        }\n                        _shouldUnregister &&\n                            !(isNameInFieldArray(_names.array, name) && _isInAction) &&\n                            _names.unMount.add(name);\n                    }\n                } });\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist && e.persist();\n        }\n        let hasNoPromiseError = true;\n        let fieldValues = Object.assign({}, _formValues);\n        // console.log(\"dyno ;)\", _formValues,\"_formValues\")\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        try {\n            if (formOptions.resolver) {\n                const { errors, values } = await executeResolver();\n                _formState.errors = errors;\n                fieldValues = values;\n            }\n            else {\n                await validateForm(_fields);\n            }\n            if (isEmptyObject(_formState.errors) &&\n                Object.keys(_formState.errors).every((name) => get(fieldValues, name))) {\n                _subjects.state.next({\n                    errors: {},\n                    isSubmitting: true,\n                });\n                await onValid(fieldValues, e);\n            }\n            else {\n                onInvalid && (await onInvalid(_formState.errors, e));\n                formOptions.shouldFocusError &&\n                    focusFieldBy(_fields, (key) => get(_formState.errors, key), _names.mount);\n            }\n        }\n        catch (err) {\n            hasNoPromiseError = false;\n            throw err;\n        }\n        finally {\n            _formState.isSubmitted = true;\n            _subjects.state.next({\n                isSubmitted: true,\n                isSubmitting: false,\n                isSubmitSuccessful: isEmptyObject(_formState.errors) && hasNoPromiseError,\n                submitCount: _formState.submitCount + 1,\n                errors: _formState.errors,\n            });\n        }\n    };\n    const reset = (values, keepStateOptions = {}) => {\n        const updatedValues = values || _defaultValues;\n        if (isWeb && !keepStateOptions.keepValues) {\n            for (const name of _names.mount) {\n                const field = get(_fields, name);\n                if (field && field._f) {\n                    const inputRef = Array.isArray(field._f.refs)\n                        ? field._f.refs[0]\n                        : field._f.ref;\n                    try {\n                        isHTMLElement(inputRef) && inputRef.closest('form').reset();\n                        break;\n                    }\n                    catch (_a) { }\n                }\n            }\n        }\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = Object.assign({}, updatedValues);\n            _formValues = Object.assign({}, updatedValues);\n        }\n        if (!keepStateOptions.keepValues) {\n            _fields = {};\n            _formValues = {};\n            _subjects.control.next({\n                values: keepStateOptions.keepDefaultValues\n                    ? _defaultValues\n                    : Object.assign({}, updatedValues),\n            });\n            _subjects.watch.next({});\n            _subjects.array.next({\n                values: Object.assign({}, updatedValues),\n                isReset: true,\n            });\n        }\n        _names = {\n            mount: new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            watch: new Set(),\n            watchAll: false,\n        };\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: keepStateOptions.keepDirty\n                ? _formState.isDirty\n                : keepStateOptions.keepDefaultValues\n                    ? deepEqual(values, _defaultValues)\n                    : false,\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: keepStateOptions.keepDirty ? _formState.dirtyFields : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitting: false,\n            isSubmitSuccessful: false,\n        });\n        _isMounted = !!keepStateOptions.keepIsValid;\n    };\n    const setFocus = (name) => get(_fields, name)._f.ref.focus();\n    return {\n        control: {\n            register,\n            unregister,\n            _getIsDirty,\n            _getWatch,\n            _updateValid,\n            _updateFormValues,\n            _bathFieldArrayUpdate,\n            _getFieldArrayValue,\n            _subjects,\n            _shouldUnregister: formOptions.shouldUnregister,\n            _fields,\n            _proxyFormState,\n            get _formValues() {\n                return _formValues;\n            },\n            set _formValues(value) {\n                _formValues = value;\n            },\n            get _isMounted() {\n                return _isMounted;\n            },\n            set _isMounted(value) {\n                _isMounted = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            set _defaultValues(value) {\n                _defaultValues = value;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            _isInAction: {\n                get val() {\n                    return _isInAction;\n                },\n                set val(value) {\n                    _isInAction = value;\n                },\n            },\n            _formState: {\n                get val() {\n                    return _formState;\n                },\n                set val(value) {\n                    _formState = value;\n                },\n            },\n            _updateProps: (options) => {\n                formOptions = Object.assign(Object.assign({}, defaultOptions), options);\n            },\n        },\n        trigger,\n        triggerBackground,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n    };\n}\n","import isHTMLElement from './isHTMLElement';\nexport default (ref) => !isHTMLElement(ref) || !document.contains(ref);\n","import * as React from 'react';\nimport { createFormControl } from './logic/createFormControl';\nimport { createFormControlV3 as createFormControlV2 } from './logic/createFormControlV3';\nimport getProxyFormState from './logic/getProxyFormState';\nimport shouldRenderFormState from './logic/shouldRenderFormState';\nimport get from './utils/get';\nimport live from './utils/live';\nimport set from './utils/set';\nexport function useForm(props = {}) {\n    const _formControl = React.useRef();\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        dirtyFields: {},\n        isSubmitted: false,\n        submitCount: 0,\n        touchedFields: {},\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        errors: {},\n    });\n    if (_formControl.current) {\n        _formControl.current.control._updateProps(props);\n    }\n    else {\n        _formControl.current = Object.assign(Object.assign({}, createFormControlV2(props)), { formState });\n    }\n    const control = _formControl.current.control;\n    React.useEffect(() => {\n        const formStateSubscription = control._subjects.state.subscribe({\n            next(formState) {\n                // console.log(\"dyno ;)\", \"##1\", formState,control._proxyFormState)\n                if (shouldRenderFormState(formState, control._proxyFormState, true)) {\n                    control._formState.val = Object.assign(Object.assign({}, control._formState.val), formState);\n                    updateFormState(Object.assign({}, control._formState.val));\n                }\n            },\n        });\n        const useFieldArraySubscription = control._subjects.array.subscribe({\n            next(state) {\n                if (state.values && state.name && control._proxyFormState.isValid) {\n                    set(control._formValues, state.name, state.values);\n                    control._updateValid();\n                }\n            },\n        });\n        return () => {\n            formStateSubscription.unsubscribe();\n            useFieldArraySubscription.unsubscribe();\n        };\n    }, [control]);\n    React.useEffect(() => {\n        const unregisterFieldNames = [];\n        if (!control._isMounted) {\n            control._isMounted = true;\n            control._proxyFormState.isValid && control._updateValid();\n            !props.shouldUnregister &&\n                control._updateFormValues(control._defaultValues);\n        }\n        for (const name of control._names.unMount) {\n            const field = get(control._fields, name);\n            field &&\n                (field._f.refs ? field._f.refs.every(live) : live(field._f.ref)) &&\n                unregisterFieldNames.push(name);\n        }\n        console.log(\"dyno ;)\", unregisterFieldNames,'unregisterFieldNames',control._names,control)\n        unregisterFieldNames.length &&\n            _formControl.current.unregister(unregisterFieldNames);\n        control._names.unMount = new Set();\n    });\n    _formControl.current.formState = getProxyFormState(formState, control._proxyFormState);\n    return _formControl.current;\n}","import * as React from 'react';\nimport convertToArrayPayload from './utils/convertToArrayPayload';\nimport isUndefined from './utils/isUndefined';\nimport { useFormContext } from './useFormContext';\nexport function useWatch(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, defaultValue, disabled, } = props || {};\n    const _name = React.useRef(name);\n    _name.current = name;\n    const [value, updateValue] = React.useState(isUndefined(defaultValue)\n        ? control._getWatch(name)\n        : defaultValue);\n    React.useEffect(() => {\n        const watchSubscription = control._subjects.watch.subscribe({\n            next: ({ name }) => {\n                console.log(\"dyno ;)\", \"##1 watchSubscription\", name)\n                return(!_name.current ||\n                !name ||\n                convertToArrayPayload(_name.current).some((fieldName) => name &&\n                    fieldName &&\n                    (fieldName.startsWith(name) ||\n                        name.startsWith(fieldName)))) &&\n                updateValue(control._getWatch(_name.current, defaultValue))},\n        });\n        disabled && watchSubscription.unsubscribe();\n        return () => watchSubscription.unsubscribe();\n    }, [disabled, control, defaultValue]);\n    return value;\n}","import { useMemo, useState } from \"react\";\nimport _ from \"lodash\";\n\nconst rebuildHistory = (history = {}, to = 0, from = 0) => {\n    const newHistory = [...history].slice(from, to);\n    console.log(\"dyno ;)\", 'rebuildHistory', newHistory, to)\n    return new Set(newHistory);\n}\n\nexport default function useHistory(init = { name: \"\" }) {\n\n    const [states, setStates] = useState(init);\n\n    //history\n    const [history, updateHistory] = useState(new Set());\n    const [index, setIndex] = useState(0);\n    const [currentPage, updateCurrentPage] = useState(init?.name);\n\n    const state = useMemo(() => states[currentPage], [index, currentPage]);\n    // const state = useMemo(() => states[init?.name], [states, init.name]);\n\n    // {\n    //     \"dashboard\": { }\n    // }\n\n    const setState = (value) => {\n        if (value === undefined || value === null || value === {}) return;\n        // check the existing one with name\n        // { name: \"pageName\" }\n        const pageName = value.name;\n\n        const existing = _.get(states, pageName);\n\n        // check whether equal or it changed ;)\n        if (history.has(pageName)) {\n            // if (_.isEqual(existing, value)) {\n            // const existingPage = _.get(states,pageName);\n            // const newHistory = [...history].slice(0,existing[\"x-index\"]);\n            const newHistory = rebuildHistory(history, existing[\"x-index\"]);\n            updateHistory(newHistory)\n\n            const copy = _.cloneDeep(_.set(states, pageName, { ...value, \"x-index\": existing[\"x-index\"] }));\n            setStates(copy);\n\n            // updateHistory(new Set(newHistory));\n            setIndex(existing[\"x-index\"])\n            updateCurrentPage(pageName);\n\n            console.log(\"dyno ;)\", \"lolllllllllllllllllll\", history, '99999', existing[\"x-index\"], newHistory);\n            return;\n        }\n        console.log(\"dyno ;)\", \"histlori\", value, _.set(states, pageName, value), state, history.size)\n        const newIndex = index + 1;\n        const copy = _.cloneDeep(_.set(states, pageName, { ...value, \"x-index\": newIndex }));\n        // setIndex(pageName);\n        setIndex(newIndex);\n        // copy = _.set(copy,value.name, value);\n        updateHistory(history.add(pageName));\n        setStates(copy);\n        updateCurrentPage(pageName);\n        console.log(\"dyno ;)\", 'hissssstory', history)\n        console.log(\"dyno ;)\", value, 'drooooomemppppppphistlori', existing)\n        console.log(\"dyno ;)\", states, '31231232323132', state, currentPage, _.isEqual(existing, value))\n    }\n\n    const setStateOld = (value) => {\n        if (_.isEqual(state, value)) {\n            return;\n        }\n        const copy = _.cloneDeep(states);\n        copy.length = index + 1;\n        copy.push(value);\n        setStates(copy);\n        setIndex(copy.length - 1);\n        console.log(\"dyno ;)\", states, 'drooooomemppppppp', _.isEqual(state, value), copy, index)\n    };\n\n    const resetState = (init = { name: \"\" }) => {\n        setIndex(0);\n        setStates({});\n        updateHistory([])\n        console.log(\"dyno ;)\", \":::::resetState\", history, states, index)\n    };\n\n    const goBack = (steps = 1, reset = false) => {\n        if(Number(steps)){\n            goBackByIndex(steps, reset);\n            return;\n        }\n        console.log(\"dyno ;)\", 'gobackbyname', steps)\n        if(!states[steps]){\n            throw \"gobackbyname is not available ;)\";\n        }\n        goBackByName(steps, reset);\n    }\n\n\n    const goBackByIndex = (steps = 1, reset = false) => {\n        console.log(\"dyno ;)\", steps, 'stepsssssss')\n        const newIndex = Math.max(0, Number(index) - (Number(steps) || 1));\n        const previousPageName = Object.keys(states)[newIndex - 1];\n        // setIndex(Math.max(0, Number(index) - (Number(steps) || 1)));\n        console.log(\"dyno ;)\", Math.max(0, Number(index) - (Number(steps) || 1)), 'drooooomempppppppdrooooo45678mempppppppdrooooomemppppppp', index, previousPageName, states[previousPageName])\n        updateCurrentPage(previousPageName);\n        setIndex(newIndex);\n        if (reset) {\n            const existingPage = _.get(states, previousPageName);\n            const newHistory = rebuildHistory(history, newIndex);\n            // let copy = {}\n            // newHistory.map(page => copy = _.set(copy, states[page]))\n            // setStates(copy);\n            updateHistory(newHistory)\n            console.log(\"dyno ;)\", \n                previousPageName,\n                newIndex,\n                'resetHardddddddd',\n                history,\n                newHistory,\n                existingPage[\"x-index\"],\n                // copy\n            )\n        }\n    };\n\n    const goBackByName = (steps = 1, reset = false) => {\n        console.log(\"dyno ;)\", steps, 'stepsssssss')\n        const existingPage = _.get(states, steps);\n\n\n        const newIndex = Math.max(0, Number(index) - (Number(steps) || 1));\n        const previousPageName = Object.keys(states)[newIndex - 1];\n        // setIndex(Math.max(0, Number(index) - (Number(steps) || 1)));\n        console.log(\"dyno ;)\", Math.max(0, Number(index) - (Number(steps) || 1)), 'drooooomempppppppdrooooo45678mempppppppdrooooomemppppppp', index, previousPageName, states[previousPageName])\n        updateCurrentPage(previousPageName);\n        setIndex(newIndex);\n        if (reset) {\n            const existingPage = _.get(states, previousPageName);\n            const newHistory = rebuildHistory(history, newIndex);\n            // let copy = {}\n            // newHistory.map(page => copy = _.set(copy, states[page]))\n            // setStates(copy);\n            updateHistory(newHistory)\n            console.log(\"dyno ;)\", \n                previousPageName,\n                newIndex,\n                'resetHardddddddd',\n                history,\n                newHistory,\n                existingPage[\"x-index\"],\n                // copy\n            )\n        }\n    };\n\n    const goForward = (steps = 1) => {\n        setIndex(Math.min(states.length - 1, Number(index) + (Number(steps) || 1)));\n    };\n\n    const updatePage = (value) => {\n        const existing = _.get(states, currentPage);\n        existing.defaultValues = { ...value };\n        console.log(\"dyno ;)\", value, 'updatePage youuuuupppp', existing)\n    }\n\n    return {\n        state: state,\n        setState: setState,\n        resetState: resetState,\n        currentPage,\n        index: index,\n        lastIndex: states?.length - 1 || 0,\n        goBack: goBack,\n        goForward: goForward,\n        updatePage: updatePage,\n        history\n    };\n}","const jsonataOriginal = require('jsonata');\n\nconst htmltotext = (value, options) => { \n    return `${value} yasserrrrrrrr`\n}\n\nconst registerWithJSONATA = (expression) => {\n    if (typeof expression === 'undefined' || typeof expression.registerFunction === 'undefined') {\n      throw new TypeError('Invalid JSONata Expression');\n    }\n    expression.registerFunction(\n      'htmltotext',\n      (value, options) => htmltotext(value, options),\n      '<s?o?:s>'\n    );\n}\n\nfunction jsonataExtended(expr, options) {\n    const expression = jsonataOriginal(expr, options);\n    registerWithJSONATA(expression);\n    return expression;\n}\n\nexport default jsonataExtended;","import jsonata from \"../utils/jsonata\";\n\nexport default async function transformer(data, schema)  {\n    const expression = jsonata(schema);\n    const result = await expression.evaluate(data);\n    return result;\n}","import { useState, useEffect } from 'react';\n\nconst useDynamoHistory = (initialArr, field, id, preventDuplicates = false, replaceDuplicate = false) => {\n  if (!Array.isArray(initialArr)) {\n    throw new Error('initialArr must be an array.');\n  }\n\n  const [history, setHistory] = useState(initialArr);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  useEffect(() => {\n    if (history.length === 0) {\n      setCurrentIndex(0);\n    } else {\n      const newIndex = history.findIndex(e => e[field] === id);\n      setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n    }\n  }, [id]);\n\n  useEffect(() => {\n    // Assign the type of the first object as primary if not explicitly specified\n    if (history.length > 0 && !history[0].type) {\n      setHistory(prevHistory => {\n        const updatedFirstObj = { ...prevHistory[0], type: 'primary' };\n        return [updatedFirstObj, ...prevHistory.slice(1)];\n      });\n    }\n  }, [history]);\n\n  const getNextIndex = () => (currentIndex + 1 >= history.length ? false : currentIndex + 1);\n  const getPreviousIndex = () => (currentIndex - 1 < 0 ? false : currentIndex - 1);\n\n  const next = () => {\n    if (history.length === 0) return false;\n    const nextIndex = getNextIndex();\n    return nextIndex !== false ? history[nextIndex] : false;\n  };\n\n  const current = () => (currentIndex >= 0 && currentIndex < history.length ? history[currentIndex] : false);\n\n  const previous = () => {\n    if (history.length === 0) return false;\n    const previousIndex = getPreviousIndex();\n    return previousIndex !== false ? history[previousIndex] : false;\n  };\n\n  const goToStart = () => {\n    if (history.length === 0) return;\n    setCurrentIndex(0);\n  };\n\n  const goTo = (newId, removeAfter = false) => {\n    if (history.length === 0) return;\n    const newIndex = history.findIndex(e => e[field] === newId);\n    if (newIndex >= 0) {\n      setCurrentIndex(newIndex);\n      if (removeAfter) {\n        removeAfterIndex(newIndex);\n      }\n    }\n  };\n\n  const goNext = () => {\n    if (history.length === 0) return;\n    const nextIndex = getNextIndex();\n    if (nextIndex !== false) {\n      setCurrentIndex(nextIndex);\n    }\n  };\n\n  const goToIndex = (index, removeAfter = false) => {\n    if (history.length === 0) return;\n    if (index >= 0 && index < history.length) {\n      setCurrentIndex(index);\n      if (removeAfter) {\n        removeAfterIndex(index);\n      }\n    }\n  };\n\n  const goBack = (removeAfter = false) => {\n    if (history.length === 0) return;\n    const previousIndex = getPreviousIndex();\n    if (previousIndex !== false) {\n      setCurrentIndex(previousIndex);\n      if (removeAfter) {\n        removeAfterIndex(previousIndex);\n      }\n    }\n  };\n\n  const goBackToPrimary = (removeAfter = false, skipSecondary = true) => {\n    if (history.length === 0) return;\n  \n    let previousIndex = currentIndex - 1;\n    if (skipSecondary) {\n      while (previousIndex >= 0 && history[previousIndex].type === 'secondary') {\n        previousIndex--;\n      }\n    }\n  \n    if (previousIndex >= 0) {\n      setCurrentIndex(previousIndex);\n      if (removeAfter) {\n        removeAfterIndex(previousIndex);\n      }\n    }\n  };\n\n  const goForwardToType = (removeAfter = false, skipSecondary = true, type = \"primary\") => {\n    if (history.length === 0) return;\n  \n    let nextIndex = currentIndex + 1;\n    if (skipSecondary) {\n      while (nextIndex < history.length && history[nextIndex].type !== type) {\n        nextIndex++;\n      }\n    }\n    \n    if (nextIndex < history.length) {\n      setCurrentIndex(nextIndex);\n      if (removeAfter) {\n        removeAfterIndex(nextIndex);\n      }\n    }\n  };\n\n  const goToEnd = () => {\n    if (history.length === 0) return;\n    setCurrentIndex(history.length - 1);\n  };\n\n  const insertObjectAtIndex = (object, insertIndex) => {\n    if(insertIndex > history.length) return;\n    const newArray = [...history];\n    newArray.splice(insertIndex, 0, object);\n    setHistory(newArray);\n    setCurrentIndex(insertIndex);\n  };\n\n  const insertObject = (object, insertIndex, customIgnoreDuplicates = false, customReplaceDuplicate = undefined) => {\n    if (preventDuplicates && !customIgnoreDuplicates) {\n      const existingIndex = history.findIndex(e => e[field] === object[field]);\n      if (existingIndex !== -1) {\n        if (customReplaceDuplicate !== undefined ? customReplaceDuplicate : replaceDuplicate) {\n          const newArray = [...history];\n          newArray[existingIndex] = object;\n          setHistory(newArray);\n          setCurrentIndex(existingIndex); // Update current index to reflect the new position\n        } else {\n          setCurrentIndex(existingIndex); // Update current index to the existing position\n        }\n        return; // Duplicate object found, do not insert or replace\n      }\n    }\n  \n    const previousObject = previous();\n    const objectType = previousObject && previousObject.type === 'primary' ? 'secondary' : 'primary';\n  \n    const objectWithDefaultType = {\n      ...object,\n      ...(!object.type && {type: objectType}),\n    };\n  \n    if (insertIndex !== undefined) {\n      insertObjectAtIndex(objectWithDefaultType, insertIndex);\n    } else {\n      setHistory([...history, objectWithDefaultType]);\n      setCurrentIndex(history.length);\n    }\n  };\n\n  const updateCurrent = (updatedObject) => {\n    if (history.length === 0) return;\n  \n    // If the current object is the first object and its type is secondary,\n    // replace the type with \"primary\"\n    if (currentIndex === 0 && updatedObject.type === 'secondary') {\n      updatedObject.type = 'primary';\n    }\n  \n    const updatedArray = [...history];\n    updatedArray[currentIndex] = updatedObject;\n    setHistory(updatedArray);\n  };\n\n  const updateObjectById = (updatedObject) => {\n    if (history.length === 0) return;\n\n    // If the current object is the first object and its type is secondary,\n    // replace the type with \"primary\"\n    if (currentIndex === 0 && updatedObject.type === 'secondary') {\n      updatedObject.type = 'primary';\n    }\n\n    const index = history.findIndex(e => e[field] === updatedObject[field]);\n    if (index !== -1) {\n      const updatedArray = [...history];\n      updatedArray[index] = updatedObject;\n      setHistory(updatedArray);\n    }\n  };\n  \n  const removeObjectByIndex = removeIndex => {\n    if (removeIndex >= 0 && removeIndex < history.length) {\n      const newArray = [...history];\n      newArray.splice(removeIndex, 1);\n      setHistory(newArray);\n\n      // Adjust the current index if the removed item is before the current index\n      if (removeIndex < currentIndex) {\n        setCurrentIndex(currentIndex - 1);\n      }\n      // Set the current index to the last item if it was the last item that got removed\n      if (currentIndex >= history.length - 1) {\n        setCurrentIndex(history.length - 2);\n      }\n    }\n  };\n\n  const removeObjectByName = removeName => {\n    const removeIndex = history.findIndex(e => e[field] === removeName);\n    removeObjectByIndex(removeIndex);\n  };\n\n  const removeAtIndex = index => {\n    if (index >= 0 && index < history.length) {\n      const newArr = [...history];\n      newArr.splice(index, 1);\n      setHistory(newArr);\n      if (currentIndex >= history.length) {\n        setCurrentIndex(history.length > 0 ? history.length - 1 : 0);\n      }\n    }\n  };\n\n  const removeByName = name => {\n    const index = history.findIndex(e => e[field] === name);\n    if (index !== -1) {\n      removeAtIndex(index);\n    }\n  };\n\n  const removeFirst = () => {\n    if (history.length > 0) {\n      removeAtIndex(0);\n    }\n  };\n\n  const removeLast = () => {\n    if (history.length > 0) {\n      removeAtIndex(history.length - 1);\n    }\n  };\n\n  const removeAll = () => {\n    setHistory([]);\n    setCurrentIndex(0);\n  };\n\n  const removeAfterIndex = index => {\n    if (index >= 0 && index < history.length - 1) {\n      const newArr = [...history];\n      newArr.splice(index + 1);\n      setHistory(newArr);\n      if (currentIndex >= history.length) {\n        setCurrentIndex(history.length > 0 ? history.length - 1 : 0);\n      }\n    }\n  };\n\n  const getHistory = () => {\n    const historyDict = {};\n    history.forEach((obj, index) => {\n      const objId = obj[field];\n      historyDict[objId] = obj;\n    });\n    return historyDict;\n  };\n\n  return {\n    history,\n    currentIndex,\n    next,\n    current,\n    previous,\n    goToStart,\n    goTo,\n    goNext,\n    goToIndex,\n    goBack,\n    goToEnd,\n    insertObject,\n    insertObjectAtIndex,\n    removeAtIndex,\n    removeByName,\n    removeFirst,\n    removeLast,\n    removeAll,\n    removeAfterIndex,\n    removeObjectByIndex,\n    removeObjectByName,\n    updateCurrent,\n    goBackToPrimary,\n    updateObjectById,\n    goForwardToType,\n    getHistory\n  };\n};\n\nexport default useDynamoHistory;\n\n// import { useState, useEffect } from 'react';\n\n// const useNavigatableObjectsArray = (initialArr, field, id, preventDuplicates = false, replaceDuplicate = false) => {\n//   if (!Array.isArray(initialArr)) {\n//     throw new Error('initialArr must be an array.');\n//   }\n\n//   const [history, setHistory] = useState(initialArr);\n//   const [currentIndex, setCurrentIndex] = useState(0);\n\n//   useEffect(() => {\n//     if (history.length === 0) {\n//       setCurrentIndex(0);\n//       return;\n//     }\n\n//     const newIndex = history.findIndex(e => e[field] === id);\n//     setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n//   }, [history, field, id]);\n\n//   const getNextIndex = () => (currentIndex + 1 >= history.length ? false : currentIndex + 1);\n//   const getPreviousIndex = () => (currentIndex - 1 < 0 ? false : currentIndex - 1);\n\n//   const next = () => {\n//     if (history.length === 0) return false;\n//     const nextIndex = getNextIndex();\n//     return nextIndex !== false ? history[nextIndex] : false;\n//   };\n\n//   const current = () => (currentIndex >= 0 && currentIndex < history.length ? history[currentIndex] : false);\n\n//   const previous = () => {\n//     if (history.length === 0) return false;\n//     const previousIndex = getPreviousIndex();\n//     return previousIndex !== false ? history[previousIndex] : false;\n//   };\n\n//   const goToStart = () => {\n//     if (history.length === 0) return;\n//     setCurrentIndex(0);\n//   };\n\n//   const goTo = (newId, removeAfter = false) => {\n//     if (history.length === 0) return;\n//     const newIndex = history.findIndex(e => e[field] === newId);\n//     if (newIndex >= 0) {\n//       setCurrentIndex(newIndex);\n//       if (removeAfter) {\n//         removeAfterIndex(newIndex);\n//       }\n//     }\n//   };\n\n//   const goNext = () => {\n//     if (history.length === 0) return;\n//     const nextIndex = getNextIndex();\n//     if (nextIndex !== false) {\n//       setCurrentIndex(nextIndex);\n//     }\n//   };\n\n//   const goToIndex = (index, removeAfter = false) => {\n//     if (history.length === 0) return;\n//     if (index >= 0 && index < history.length) {\n//       setCurrentIndex(index);\n//       if (removeAfter) {\n//         removeAfterIndex(index);\n//       }\n//     }\n//   };\n\n//   const goToEnd = () => setCurrentIndex(history.length - 1);\n\n//   const goBack = (removeAfter = false) => {\n//     if (history.length === 0) return;\n//     const previousIndex = getPreviousIndex();\n//     if (previousIndex !== false) {\n//       setCurrentIndex(previousIndex);\n//       if (removeAfter) {\n//         removeAfterIndex(previousIndex);\n//       }\n//     }\n//   };\n\n//   const insertObject = (obj, insertIndex = history.length, preventDuplicates = false, replaceDuplicate = false) => {\n//     if (preventDuplicates) {\n//       const duplicateIndex = history.findIndex(e => e[field] === obj[field]);\n//       if (duplicateIndex !== -1) {\n//         if (replaceDuplicate) {\n//           const newArr = [...history];\n//           newArr.splice(duplicateIndex, 1, obj);\n//           setHistory(newArr);\n//           setCurrentIndex(history.length > 0 ? currentIndex : 0);\n//         }\n//         return;\n//       }\n//     }\n//     const newArr = [...history];\n//     newArr.splice(insertIndex, 0, obj);\n//     setHistory(newArr);\n//     setCurrentIndex(history.length > 0 ? currentIndex : 0);\n//   };\n\n//   const removeAtIndex = index => {\n//     if (history.length === 0 || index < 0 || index >= history.length) return;\n//     const newArr = [...history];\n//     newArr.splice(index, 1);\n//     setHistory(newArr);\n//     setCurrentIndex(history.length > 0 ? currentIndex : 0);\n//   };\n\n//   const removeByName = name => {\n//     if (history.length === 0) return;\n//     const index = history.findIndex(e => e[field] === name);\n//     if (index !== -1) {\n//       removeAtIndex(index);\n//     }\n//   };\n\n//   const removeFirst = () => {\n//     removeAtIndex(0);\n//   };\n\n//   const removeLast = () => {\n//     removeAtIndex(history.length - 1);\n//   };\n\n//   const removeAll = () => {\n//     setHistory([]);\n//     setCurrentIndex(0);\n//   };\n\n//   const removeAfterIndex = index => {\n//     if (index < 0 || index >= history.length - 1) return;\n//     const newArr = history.slice(0, index + 1);\n//     setHistory(newArr);\n//     setCurrentIndex(index);\n//   };\n\n//   return {\n//     history,\n//     next,\n//     current,\n//     previous,\n//     goToStart,\n//     goTo,\n//     goNext,\n//     goToEnd,\n//     goBack,\n//     goToIndex,\n//     insertObject,\n//     removeAtIndex,\n//     removeByName,\n//     removeFirst,\n//     removeLast,\n//     removeAll,\n//     removeAfterIndex,\n//     currentIndex\n//   };\n// };\n\n// export default useNavigatableObjectsArray;\n\n// // import { useState, useEffect } from 'react';\n\n// // const useNavigatableObjectsArray = (initialArr, field, id, preventDuplicates = false, replaceDuplicate = false) => {\n// //   const [history, setHistory] = useState(initialArr);\n// //   const [currentIndex, setCurrentIndex] = useState(0);\n\n// //   useEffect(() => {\n// //     const newIndex = history.map(e => e[field]).indexOf(id);\n// //     setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n// //   }, [history, field, id]);\n\n// //   useEffect(() => {\n// //     const newIndex = history.findIndex(e => e[field] === history[currentIndex][field]);\n// //     setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n// //   }, [history, field, currentIndex]);\n\n// //   const getNextIndex = () => (currentIndex + 1 >= history.length ? false : currentIndex + 1);\n// //   const getPreviousIndex = () => (currentIndex - 1 < 0 ? false : currentIndex - 1);\n\n// //   const next = () => {\n// //     const nextIndex = getNextIndex();\n// //     return nextIndex !== false ? history[nextIndex] : false;\n// //   };\n\n// //   const current = () => (currentIndex >= 0 && currentIndex < history.length ? history[currentIndex] : false);\n\n// //   const previous = () => {\n// //     const previousIndex = getPreviousIndex();\n// //     return previousIndex !== false ? history[previousIndex] : false;\n// //   };\n\n// //   const goToStart = () => setCurrentIndex(0);\n\n// //   // const goTo = newId => {\n// //   //   const newIndex = history.map(e => e[field]).indexOf(newId);\n// //   //   if (newIndex >= 0) setCurrentIndex(newIndex);\n// //   // };\n\n// //   const goTo = (newId, removeAfter = false) => {\n// //     const newIndex = history.map(e => e[field]).indexOf(newId);\n// //     if (newIndex >= 0) {\n// //       setCurrentIndex(newIndex);\n// //       if (removeAfter) {\n// //         removeAfterIndex(newIndex);\n// //       }\n// //     }\n// //   };\n\n// //   const goNext = () => {\n// //     const nextIndex = getNextIndex();\n// //     if (nextIndex !== false) setCurrentIndex(nextIndex);\n// //   };\n\n// //   // const goBack = () => {\n// //   //   const previousIndex = getPreviousIndex();\n// //   //   if (previousIndex !== false) setCurrentIndex(previousIndex);\n// //   // };\n\n// //   const goToEnd = () => setCurrentIndex(history.length - 1);\n\n// //   // const goToIndex = index => {\n// //   //   if (index >= 0 && index < history.length) {\n// //   //     setCurrentIndex(index);\n// //   //   }\n// //   // };\n\n// //   const goToIndex = (index, removeAfter = false) => {\n// //     if (index >= 0 && index < history.length) {\n// //       setCurrentIndex(index);\n// //       if (removeAfter) {\n// //         removeAfterIndex(index);\n// //       }\n// //     }\n// //   };\n\n// //   const goBack = (removeAfter = false) => {\n// //     const previousIndex = getPreviousIndex();\n// //     if (previousIndex !== false) {\n// //       setCurrentIndex(previousIndex);\n// //       console.log(removeAfter, 'removeAfter');\n// //       if (removeAfter) {\n// //         removeAfterIndex(previousIndex);\n// //       }\n// //     }\n// //   };\n\n// //   const insertObjectAtIndex = (object, insertIndex) => {\n// //     const newArray = [...history];\n// //     newArray.splice(insertIndex, 0, object);\n// //     setHistory(newArray);\n// //     setCurrentIndex(insertIndex);\n// //   };\n\n// //   const insertObject = (object, insertIndex, ignoreDuplicates = false, customReplaceDuplicate = undefined) => {\n// //     if (preventDuplicates && !ignoreDuplicates) {\n// //       const existingIndex = history.findIndex(e => e[field] === object[field]);\n// //       if (existingIndex !== -1) {\n// //         if (customReplaceDuplicate !== undefined ? customReplaceDuplicate : replaceDuplicate) {\n// //           const newArray = [...history];\n// //           newArray[existingIndex] = object;\n// //           setHistory(newArray);\n// //           setCurrentIndex(existingIndex); // Update current index to reflect the new position\n// //         } else {\n// //           setCurrentIndex(existingIndex); // Update current index to the existing position\n// //         }\n// //         return; // Duplicate object found, do not insert or replace\n// //       }\n// //     }\n\n// //     if (insertIndex !== undefined) {\n// //       insertObjectAtIndex(object, insertIndex);\n// //     } else {\n// //       setHistory([...history, object]);\n// //       setCurrentIndex(history.length);\n// //     }\n// //   };\n\n// //   const removeObjectByIndex = removeIndex => {\n// //     if (removeIndex >= 0 && removeIndex < history.length) {\n// //       const newArray = [...history];\n// //       newArray.splice(removeIndex, 1);\n// //       setHistory(newArray);\n\n// //       // Adjust the current index if the removed item is before the current index\n// //       if (removeIndex < currentIndex) {\n// //         setCurrentIndex(currentIndex - 1);\n// //       }\n// //       // Set the current index to the last item if it was the last item that got removed\n// //       if (currentIndex >= history.length - 1) {\n// //         setCurrentIndex(history.length - 2);\n// //       }\n// //     }\n// //   };\n\n// //   const removeObjectByName = removeName => {\n// //     const removeIndex = history.findIndex(e => e[field] === removeName);\n// //     removeObjectByIndex(removeIndex);\n// //   };\n\n// //   const removeAfterIndex = removeIndex => {\n// //     if (removeIndex >= 0 && removeIndex < history.length - 1) {\n// //       const newArray = history.slice(0, removeIndex + 1);\n// //       setHistory(newArray);\n// //       setCurrentIndex(Math.min(currentIndex, newArray.length - 1));\n// //     }\n// //   };\n\n// //   return {\n// //     history,\n// //     next,\n// //     current,\n// //     previous,\n// //     goToStart,\n// //     goTo,\n// //     goNext,\n// //     goBack,\n// //     goToEnd,\n// //     goToIndex,\n// //     insertObject,\n// //     removeObjectByIndex,\n// //     removeObjectByName,\n// //     removeAfterIndex\n// //   };\n// // };\n\n// // export default useNavigatableObjectsArray;\n// // // Usage example:\n// // // const MyComponent = () => {\n// // //   const initialData = [\n// // //     { id: 1, name: 'Object 1' },\n// // //     { id: 2, name: 'Object 2' },\n// // //     { id: 3, name: 'Object 3' }\n// // //   ];\n\n// // //   const navigatableArray = useNavigatableObjectsArray(initialData, 'id', 2);\n\n// // //   const handleInsertObject = () => {\n// // //     const newObject = { id: 4, name: 'Object 4' };\n// // //     const insertIndex = 2; // Insert at index 2\n// // //     navigatableArray.insertObject(newObject, insertIndex);\n// // //   };\n\n// // //   const handleInsertObjectAtEnd = () => {\n// // //     const newObject = { id: 5, name: 'Object 5' };\n// // //     navigatableArray.insertObject(newObject);\n// // //   };\n\n// // //   return (\n// // //     <div>\n// // //       <button onClick={navigatableArray.goToStart}>Go to Start</button>\n// // //       <button onClick={navigatableArray.goNext}>Go Next</button>\n// // //       <button onClick={navigatableArray.goBack}>Go Back</button>\n// // //       <button onClick={navigatableArray.goToEnd}>Go to End</button>\n// // //       <button onClick={handleInsertObject}>Insert Object at Index</button>\n// // //       <button onClick={handleInsertObjectAtEnd}>Insert Object at End</button>\n// // //       <div>\n// // //         Current Object: {navigatableArray.current()?.name}\n// // //       </div>\n// // //       <ul>\n// // //         {navigatableArray.history.map(obj => (\n// // //           <li key={obj.id}>{obj.name}</li>\n// // //         ))}\n// // //       </ul>\n// // //     </div>\n// // //   );\n// // // };\n\n\n\n\n  // const insertObject = (obj, insertIndex = history.length, preventDuplicates = false, replaceDuplicate = false) => {\n  //   if (preventDuplicates) {\n  //     const duplicateIndex = history.findIndex(e => e[field] === obj[field]);\n  //     if (duplicateIndex !== -1) {\n  //       if (replaceDuplicate) {\n  //         const newArr = [...history];\n  //         newArr.splice(duplicateIndex, 1, obj);\n  //         setHistory(newArr);\n  //         setCurrentIndex(history.length > 0 ? currentIndex : 0);\n  //       }\n  //       return;\n  //     }\n  //   }\n  //   const newArr = [...history];\n  //   newArr.splice(insertIndex, 0, obj);\n  //   setHistory(newArr);\n  //   setCurrentIndex(history.length > 0 ? currentIndex : 0);\n  // };\n\n  // const insertObjectAtIndex = (obj, index, preventDuplicates = false, replaceDuplicate = false) => {\n  //   if (preventDuplicates) {\n  //     const duplicateIndex = history.findIndex(e => e[field] === obj[field]);\n  //     if (duplicateIndex !== -1) {\n  //       if (replaceDuplicate) {\n  //         const newArr = [...history];\n  //         newArr.splice(duplicateIndex, 1, obj);\n  //         setHistory(newArr);\n  //         setCurrentIndex(history.length > 0 ? currentIndex : 0);\n  //       }\n  //       return;\n  //     }\n  //   }\n  //   const newArr = [...history];\n  //   newArr.splice(index, 0, obj);\n  //   setHistory(newArr);\n  //   setCurrentIndex(history.length > 0 ? currentIndex : 0);\n  // };\n\n    // const updateCurrent = (updatedObject) => {\n  //   if (history.length === 0) return;\n  //   const updatedArray = [...history];\n  //   updatedArray[currentIndex] = updatedObject;\n  //   setHistory(updatedArray);\n  // };\n\n    // const insertObjectOLD = (object, insertIndex, customIgnoreDuplicates = false, customReplaceDuplicate = undefined) => {\n  //   if (preventDuplicates && !customIgnoreDuplicates) {\n  //     const existingIndex = history.findIndex(e => e[field] === object[field]);\n  //     if (existingIndex !== -1) {\n  //       if (customReplaceDuplicate !== undefined ? customReplaceDuplicate : replaceDuplicate) {\n  //         const newArray = [...history];\n  //         newArray[existingIndex] = object;\n  //         setHistory(newArray);\n  //         setCurrentIndex(existingIndex); // Update current index to reflect the new position\n  //       } else {\n  //         setCurrentIndex(existingIndex); // Update current index to the existing position\n  //       }\n  //       return; // Duplicate object found, do not insert or replace\n  //     }\n  //   }\n\n  //   if (insertIndex !== undefined) {\n  //     insertObjectAtIndex(object, insertIndex);\n  //   } else {\n  //     setHistory([...history, object]);\n  //     setCurrentIndex(history.length);\n  //   }\n  // };\n\n    \n\n  // useEffect(() => {\n  //   if (history.length === 0) {\n  //     setCurrentIndex(0);\n  //     return;\n  //   }\n\n  //   const newIndex = history.findIndex(e => e[field] === id);\n  //   setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n  // }, [history, field, id]);\n\n  // useEffect(() => {\n  //   if (history.length === 0) {\n  //     setCurrentIndex(0);\n  //     return;\n  //   }\n\n  //   const newIndex = history.findIndex(e => e[field] === history[currentIndex][field]);\n  //   // setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n  // }, [history, currentIndex]);\n\n  // console.log(newIndex, 'useEffect [history, field, id]')\n  // console.log(newIndex, 'useEffect [history, field, currentIndex]')","import _ from \"lodash\";\n// const console = {\n//     log: () => null\n// }\n\nconst debug = (...args) => {\n    console.log(\"dynamo transformerrrrr ->\", ...args)\n}\nconst dataTransformer = (data, name, obj) => (local) => {\n    // const { getValues, dataStore } = obj.sharedItems || { getValues: undefined };\n    // const values = { ...dataStore, ...(getValues() || {}) };\n    // console.log(\"dyno ;)\", data, values, 'getValues()()()')\n    //\n\n    const { getValues, dataStore } = local.sharedItems || { getValues: undefined };\n    const values = { ...dataStore, ...(getValues && getValues() || {}) };\n\n\n    //Need to check later ;)\n    // if (typeof data === 'function') {\n    //     return data()(values)\n    // }\n\n    if (typeof data === \"string\") {\n\n        //Happy birthday ;)\n        // $$\n        // fx\n        // {{ amount && Valid() }}\n        const ExpRE = /^\\s*\\{\\{([\\s\\S]*)\\}\\}\\s*$/\n        const matched = data.match(ExpRE)\n        if (matched) {\n            console.log(\"dyno ;)\", name, 'me getValues()()()')\n            try {\n                const result = new Function('$root', `with($root) { return (${matched[1]}); }`)(\n                    {\n                        ...values,\n                        local\n                    }\n                )\n                return result;\n            } catch (error) {\n                console.log(error, '{{ error transformer }}');\n                return data;\n            }\n        }\n        //End fo Happy moment of birthday ;)\n\n\n\n        if (data !== undefined && data.includes(\"$$\")) {\n            console.log(\"dyno ;)\", \"blaherebla\", data, dataStore, _.get(values, data.substring(2)))\n            return _.get(values, data.substring(2));\n        }\n        // check fx first \n        if (data !== undefined && data.includes(\"fx\")) {\n            console.log(\"dyno ;)\", data.slice(2), 'sliceeeeeee')\n            try {\n                // const result = eval(data.slice(2));\n                const result = eval(`local.${data.slice(2)}`);\n\n                if (typeof result === 'function') {\n                    console.log(\"dyno ;)\", result, 'rrrrrrrsulttttttttt function')\n                    return result(values);\n                }\n                if (result?.then) {\n                    console.log(\"dyno ;)\", result, 'rrrrrrrsulttttttttt function.then')\n                    return result.then(function (response) {\n                        console.log(\"dyno ;)\", response, 'rrrrrrrsulttttttttt [2] function.then result')\n                        return response\n                    })\n                }\n                console.log(\"dyno ;)\", result, 'rrrrrrrsulttttttttt [3] function.then lol')\n                return result;\n            } catch (error) {\n                console.log(\"dyno ;)\", name, '----->', error, 'rrrrrrrsulttttttttt errorororrororor')\n            }\n        };\n\n        let patternResult = data;\n\n        // \"hi dxTransform()\"\n        // no {{ 'hi ' && Transform()}}\n        if (data !== undefined && data.includes(\"dx\")) {\n            patternResult = patternResult.replace(/dx.*?\\(.*?\\)/g, (_, name) => {\n\n                try {\n                    console.log(\"dyno ;)\", _, name, 'pattern waaaaaalalala 2nd', patternResult)\n                    const result = eval(`local.${_}`);\n                    if (typeof result === 'function') {\n                        return result(values);\n                    }\n                    return result;\n                } catch (error) {\n                    console.log(\"dyno ;)\", error, 'dxxxxxxxxxxxxdxdxxdxdxx')\n                    return _;\n                }\n            });\n        }\n\n        patternResult = patternResult.replace(/\\$\\{(.*?)\\}/g, (w, name) => {\n\n            const result = _.get(values, name) || ''; //_.get(values, name); values[name]\n            // console.log(\"dyno ;)\", values, 'valuesssssssssssssssssRGEX')\n            // console.log(\"dyno ;)\", name, '------>>>>>>------', result, 'pattern waaaaaalalala only', patternResult)\n\n            return result !== undefined && result//\"\";//field[name];\n        });\n\n        return patternResult;\n\n    };\n\n    return data;\n}\n\nexport { dataTransformer };","import _ from \"lodash\";\n\nconst schemaTransformation = (data, name, obj) => (local) => {\n    const values = { ...obj.sharedItems };\n    if (data === undefined || data === null) return data;\n\n    if (typeof data === \"string\") {\n        // check fx first\n        if (data !== undefined && data.includes(\"fx\")) {\n            try {\n                // const result = eval(data.slice(2));\n                const result = eval(`extraFunctions.${data.slice(2)}`);\n                if (typeof result === \"function\") {\n                    return result(values);\n                }\n                return result;\n            } catch (error) {\n                console.log(\"dyno ;)\", error, \"rrrrrrrsulttttttttt errorororrororor\");\n            }\n        }\n\n        if (data !== \"\") {\n            const result = _.get(values, data.substring(2)) ?? data; // values[data] || data;\n            // if(result!== undefined) return result;\n            return result;\n        }\n    }\n\n    return data;\n};\n\nexport default schemaTransformation;","const flattenHelper = (currentObject, newObject, previousKeyName) => {\n    for (let key in currentObject) {\n        let value = currentObject[key];\n\n        if (value?.constructor !== Object) {\n            if (previousKeyName == null || previousKeyName == \"\") {\n                newObject[key] = value;\n            } else {\n                if (key == null || key == \"\") {\n                    newObject[previousKeyName] = value;\n                } else {\n                    newObject[previousKeyName + \".\" + key] = value;\n                }\n            }\n        } else {\n            if (previousKeyName == null || previousKeyName == \"\") {\n                flattenHelper(value, newObject, key);\n            } else {\n                flattenHelper(value, newObject, previousKeyName + \".\" + key);\n            }\n        }\n    }\n};\n\nconst flattenObject = (oldObject) => {\n    const newObject = {};\n\n    flattenHelper(oldObject, newObject, \"\");\n\n    return newObject;\n};\n\nexport default flattenObject\n","import flattenObject from \"../utils/flattenObject\";\nimport schemaTransformation from \"./schemaTransformer\";\n\nconst schemaProxy = (item, extraValues = {}, extraFunctions = {}) => {\n    if (item === undefined) return {};\n\n    const proxyHandler = {\n        get(target, prop, receiver) {\n            if (typeof target[prop] === \"object\" && target[prop] !== null) {\n                console.log(\"dyno ;)\", target[prop], \"proxyHanlerrrrrrrr ;)\");\n                return new Proxy(target[prop], proxyHandler);\n            } else {\n                return schemaTransformation(\n                    target[prop],\n                    prop,\n                    target\n                )({\n                    ...extraFunctions\n                });\n            }\n        }\n    };\n\n    const proxySchema = new Proxy(\n        {\n            ...flattenObject({\n                ...item.action.schema\n            }),\n            sharedItems: { ...extraValues, ...item }\n        },\n        proxyHandler\n    );\n    return proxySchema\n}\n\nexport default schemaProxy;\n\n\n","import _ from \"lodash\";\nimport schemaProxy from \"./schemaProxy\";\n\nconst setupProxy = (item, extraValues = {}, extraFunctions = {}) => {\n    const proxyItems = schemaProxy(item, extraValues, extraFunctions);\n\n    let newSchema = {};\n    const y = Object.keys(proxyItems).map((el) => {\n        if (el === \"sharedItems\") return;\n        newSchema = _.set(newSchema, el, proxyItems[el]);\n        console.log(\"dyno ;)\", el, \"flattttttttten\");\n    });\n\n    return _.cloneDeep(newSchema);\n}\n\nexport default setupProxy;\n","function actionsRunner(action, localFunction, item, dataStore) {\n    let resultPromise = Promise.resolve(item);\n\n    for (const functionName in action) {\n        const config = action[functionName];\n        const asyncFunction = localFunction[functionName];\n        resultPromise = resultPromise.then((result) => {\n            console.log(functionName, asyncFunction, 'dyno actionsRunner', result)\n            return asyncFunction(config)(dataStore)(result);\n        });\n    }\n\n    return resultPromise;\n}\n\nexport default actionsRunner;","const defaultValidationResolver = {\n    noteq: async (item, value) => {\n        return (value !== '' && !item.value.includes(value)) || false;\n    },\n    eq: async (item, value) => {\n        return value?.toString() === item.value;\n    },\n    notEmptyAndEqual: async (item, value) => {\n        return (value !== '' && item.value.includes(value)) || false;\n    },\n};\n\nexport {\n    defaultValidationResolver\n}","import React, { useCallback, useEffect, useState, useRef } from 'react'\n\nimport {\n    useWatch\n} from \"../useWatch\"\nimport {\n    useFieldArray\n} from \"../useFieldArray\"\nimport {\n    FormProvider,\n    useFormContext\n} from \"../useFormContext\"\nimport {\n    useForm\n} from \"../useForm\"\nimport {\n    Controller\n} from \"../controller\"\n\n// import { Subject, AsyncSubject } from 'rxjs'\n// import pubsub from \"./pubsub\";\nimport _ from 'lodash'\n// import { unitDependencies } from 'mathjs'\n// import { getResetValue } from './utils/methods'\n// import { JsonEditor } from 'jsoneditor-react/es'\n// import { namespace } from 'store/dist/store.legacy'\nimport deepEqual from \"../utils/deepEqual\"\nimport { defaultValidationResolver } from \"../utils/defaultValidationResolver\"\n\n// const subject = new Subject()\n\n// export const pubsub = {\n//     publish: (name, message) => subject.next(name, message),\n//     clearMessages: () => subject.next(),\n//     getMessage: () => subject.asObservable(),\n// }\n\nconst useStateWithPromise = (initialState) => {\n    const [state, setState] = useState(initialState)\n    const resolverRef = useRef(null)\n\n    useEffect(() => {\n        if (resolverRef.current) {\n            resolverRef.current(state)\n            resolverRef.current = null\n        }\n        /**\n         * Since a state update could be triggered with the exact same state again,\n         * it's not enough to specify state as the only dependency of this useEffect.\n         * That's why resolverRef.current is also a dependency, because it will guarantee,\n         * that handleSetState was called in previous render\n         */\n    }, [resolverRef.current, state])\n\n    const handleSetState = useCallback(\n        (stateAction) => {\n            setState(stateAction)\n            return new Promise((resolve) => {\n                resolverRef.current = resolve\n            })\n        },\n        [setState],\n    )\n\n    return [state, handleSetState]\n}\n\nexport const ControlledComponentsV2 = (props) => {\n    // console.log(\"dyno ;)\", 'current', props.control.current);\n    // if(props.control.current === undefined) return;\n    const [field, setField] = useState(props.control.current && props.control.current[props.name])\n\n    // console.log(\"dyno ;)\", props.name, \"ControlledComponentsV2 renderrrrrrrrrr <1>\", field, props.errors, props?.errors?.current && props?.errors?.current[props.name], props.name)\n    console.log(\"dyno ;)\", \n        props.name,\n        'ControlledComponentsV2 renderrrrrrrrrr <1>',\n        field,\n        props.errors,\n        props.name,\n    )\n\n    const titlellll = props.control.current['textbox-5'].value\n    const error = props.errors && props.errors.current && props.errors?.current[props.name]\n\n    const [fields, setFields] = useState('')\n\n\n\n    const onChange = (value) => {\n        // messageService.sendMessage(`${props.name}`);\n        // pubsub.publish(\"anEvent\", props.name);\n        console.log(\"dyno ;)\", 'valuelavue', value)\n        // const [newValue, error] = props.updateReference(value.target.value, props.name);\n\n        // update(value);\n\n        props.updateReference(value, props.name)\n        setField({ ...field, value: value })\n        // subscription(props)\n    }\n\n    // const subscription = pubsub.getMessage().subscribe((data) => {\n    //     // console.log(\"dyno ;)\", `${props.name}, ControlledTextInput, message was published with this data: \"${data}\"`);\n\n    //     if (props.name === 'textbox-0') {\n    //         setFields(data)\n    //     }\n    // })\n\n    return props.render({ onChange, value: field.value, field, error, index: props.index })\n}\n\nconst IINNOMEMO = (props) => <ControlledComponentsV2 {...props} />\n\nconst IIN = React.memo(\n    (props) => <ControlledComponentsV2 {...props} />,\n    (prevProps, nextProps) => {\n        // if (prevProps === nextProps) {\n        const oldE = (prevProps.errors?.current && prevProps.errors?.current[prevProps.name]) || {}\n        const newE = nextProps.errors?.current[nextProps.name] || {}\n\n        const errror = _.isEqual(oldE, newE)\n        const errrorlol = nextProps.errors?.current[prevProps.name]\n\n        console.log(\"dyno ;)\", \n            prevProps,\n            nextProps,\n            prevProps.name + ' ControlledComponentsV2 renderrrrrrrrrr <2>',\n            errror,\n            'is===',\n            errrorlol,\n            prevProps.name,\n        )\n        // if(!errror) return false;\n        // return errror;\n        // return errror;\n        if (JSON.stringify(nextProps) === JSON.stringify(prevProps)) {\n            return true // props are equal\n        }\n        return false // props are not equal -> update the component\n    },\n)\n\nconst createValidationObject = (item) => {\n\n\n}\n\nconst renderForm = (\n    data,\n    updateReference,\n    myControl,\n    getValue,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    setValue\n) => {\n    console.log(\"dyno ;)\", errors, 'dataerrors')\n    //console.time('renderFormmm')\n    const r = data\n        .filter((element) => element.visible)\n        .map((item, index) => {\n            // console.log(\"dyno ;)\", item, \"ittttem\")\n\n            const {\n                register,\n                handleSubmit,\n                watch,\n                errors,\n                control,\n                trigger,\n                setFocus,\n                getValues,\n                setValue,\n                useFieldArray,\n                useWatch,\n                triggerBackground\n            } = sharedItems\n\n            // if (!item.visible) return null\n            const name = parentName && `${parentName}.${item.name}` || item.name\n\n            let result = null\n            let child = []\n            if (item.items) {\n                child = renderForm(\n                    item.items,\n                    updateReference,\n                    myControl,\n                    getValue,\n                    errors,\n                    ControlledComponents,\n                    components,\n                    managedCallback,\n                    item?.items && name || undefined,\n                    sharedItems,\n                    setValue\n                )\n            }\n\n            const validation = {\n                maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n                minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n                max: item.max && item.max.value !== \"\" && item.max || undefined,\n                min: item.min && item.min.value !== \"\" && item.min || undefined,\n                pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n                required: item.required && item.required.value !== \"\" && item.required || undefined\n            }\n            // console.log(\"dyno ;)\", \"validationValidation\", validation)\n\n            // if (!item.visible) return null\n\n            // const name = parentName && `${parentName}.0.${item.name}` || item.name\n            // console.log(\"dyno ;)\", name, \"namename\")\n            result = (\n                <Controller\n                    key={item.isArray === true && `${name}container` || name}\n                    name={item.isArray === true && `${name}container` || name}\n                    control={control}\n                    item={item}\n                    // defaultValue={\"hi5\"}\n                    // { required: true, minLength: 5 }\n                    rules={item.rule || validation}\n                    render={({ field }) => {\n                        // const myCondition = item.preCondition && useWatch({\n                        //     control,\n                        //     name: item.preCondition[0].name, // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                        //     defaultValue: undefined // default value before the render\n                        // });\n                        // console.log(\"dyno ;)\", item.name, myCondition, \"myConditionssss\")\n                        // if (!item.visible && myCondition !== \"13333\") return null\n\n\n                        // return (\n                        //     <>\n                        //         {`${item.name}   ${name}`}\n                        //         <br />\n                        //         <input {...field} />\n                        //         {errors && errors[name] && `${name} errororrr`}\n\n                        //         {/* {errors && errors[item.name] && `${item.name} errororrr`} */}\n                        //         {child && child}\n                        //         <br />\n                        //         <br />\n                        //         <br />\n                        //     </>\n                        // )\n                        // child && child;\n                        // const { useFieldArray } = useFormContext()\n\n                        if (item.isArray) {\n                            // console.log(\"dyno ;)\", name, \"useFieldArray\")\n                            const { fields, append, remove } = useFieldArray({\n                                control,\n                                name: name\n                            });\n\n                            // const myaCondition = useWatch({\n                            //     control,\n                            //     name: 'textbox-0.test.0.firstName', // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                            //     defaultValue: undefined // default value before the render\n                            // });\n                            // console.log(\"dyno ;)\", myaCondition, \"myaCondition\", getValue(\"textbox-3\"))\n                            child =\n                                <>\n                                    {/* <>\n                                        {`${item.name}`}\n                                        <br />\n                                        <input {...field} />\n                                        {errors && errors[item.name] && `${item.name} errororrr`}\n                                        {child && child}\n                                        <br />\n                                        <br />\n                                        <br />\n                                    </> */}\n                                    <ul>\n                                        {fields.map((el, index) => (\n                                            <li key={el.id}>\n                                                {item.items.map((element, indx) => (\n                                                    <Controller\n                                                        name={`${name}.${index}.${element.name}`}\n                                                        control={control}\n                                                        render={({ field }) => {\n                                                            const Component = components(element.type, {\n                                                                field,\n                                                                item: element,\n                                                                name: `${name}.${index}.${element.name}`,\n                                                                indx,\n                                                                managedCallback,\n                                                                child,\n                                                                useFieldArray\n                                                            })\n                                                            return Component\n                                                        }}\n                                                    />\n                                                ))}\n                                                <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                            </li>\n                                        ))}\n\n                                    </ul>\n                                    {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                                    {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                                    <button\n                                        type=\"button\"\n                                        // onClick={() => append({ \"actionURL\": \"\" })}\n                                        onClick={() => append({})}\n\n                                    >\n                                        +\n                                    </button>\n                                </>\n\n                        }\n\n                        const Component = components(item.type, {\n                            field,\n                            item,\n                            name,\n                            index,\n                            managedCallback,\n                            child,\n                            useFieldArray,\n                            error: errors,\n                            sharedItems\n                        })\n                        return Component\n                    }}\n\n                />\n            )\n\n            return result\n        })\n    //console.timeEnd('renderFormmm')\n    return r\n}\n\nconst SimpleRender = props => renderForm({ ...props });\nconst MemoRenderForm = props => SimpleRender(props) //React.memo(renderForm, (prev, next)=>{\n// console.log(\"dyno ;)\", prev,next,\"memoRenderForm\");\n// })\n\n\n\nconst RenderForm = (\n    data,\n    updateReference,\n    myControl,\n    getValue,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    control,\n    setValue\n) => {\n    console.log(\"dyno ;)\", errors, 'dataerrors')\n    //console.time('renderFormmm')\n    if (data === undefined) return null;\n    const r = data\n        .filter((element) => element.visible)\n        .map((item, index) => {\n            // console.log(\"dyno ;)\", item, \"ittttem\")\n\n            // if (!item.visible) return null\n            const name = parentName && `${parentName}.${item.name}` || item.name\n\n            let result = null\n            let child = []\n            if (item.items) {\n                child = RenderForm(\n                    item.items,\n                    updateReference,\n                    myControl,\n                    getValue,\n                    errors,\n                    ControlledComponents,\n                    components,\n                    managedCallback,\n                    item?.items && name || undefined,\n                    control,\n                    setValue\n                )\n            }\n            // if (!item.visible) return null\n\n\n\n            // const name = parentName && `${parentName}.0.${item.name}` || item.name\n            // console.log(\"dyno ;)\", name, \"namename\")\n            result = (\n                <Controller\n                    key={name}\n                    name={name}\n                    control={control}\n                    item={item}\n                    // defaultValue={\"hi5\"}\n                    // { required: true, minLength: 5 }\n                    rules={item.rule || {}}\n                    render={({ field }) => {\n                        // const myCondition = item.preCondition && useWatch({\n                        //     control,\n                        //     name: item.preCondition[0].name, // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                        //     defaultValue: undefined // default value before the render\n                        // });\n                        // console.log(\"dyno ;)\", item.name, myCondition, \"myConditionssss\")\n                        // if (!item.visible && myCondition !== \"13333\") return null\n\n                        // if (item.name === \"textbox-0\") {\n                        //     const { fields, append, remove } = useFieldArray({\n                        //         control,\n                        //         name: \"textbox-0.test\"\n                        //     });\n\n                        //     // const myaCondition = useWatch({\n                        //     //     control,\n                        //     //     name: 'textbox-0.test.0.firstName', // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                        //     //     defaultValue: undefined // default value before the render\n                        //     // });\n                        //     // console.log(\"dyno ;)\", myaCondition, \"myaCondition\", getValue(\"textbox-3\"))\n                        //     return (\n                        //         <>\n                        //             {/* <>\n                        //                 {`${item.name}`}\n                        //                 <br />\n                        //                 <input {...field} />\n                        //                 {errors && errors[item.name] && `${item.name} errororrr`}\n                        //                 {child && child}\n                        //                 <br />\n                        //                 <br />\n                        //                 <br />\n                        //             </> */}\n                        //             <ul>\n                        //                 {fields.map((el, index) => (\n                        //                     <li key={el.id}>\n                        //                         <input {...control.register(`textbox-0.test.${index}.firstName`)} />\n                        //                         {<Controller\n                        //                             render={({ field }) => <input {...field} />}\n                        //                             name={`textbox-0.test.${index}.lastName`}\n                        //                             control={control}\n                        //                         />}\n                        //                         <button type=\"button\" onClick={() => remove(index)}>Delete</button>\n                        //                     </li>\n                        //                 ))}\n                        //             </ul>\n                        //             {JSON.stringify(getValue(\"textbox-3\"))}\n                        //             <button type=\"button\" onClick={() => {\n                        //                 control.unregister(\"textbox-10\")\n                        //                 console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                        //             }}> unregister 10 now ;) </button>\n\n                        //             <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button>\n                        //             <button\n                        //                 type=\"button\"\n                        //                 onClick={() => append({ firstName: \"bill\", lastName: \"luo\" })}\n                        //             >\n                        //                 append\n                        //             </button>\n                        //         </>\n                        //     )\n                        // }\n                        // return (\n                        //     <>\n                        //         {`${item.name}   ${name}`}\n                        //         <br />\n                        //         <input {...field} />\n                        //         {errors && errors[name] && `${name} errororrr`}\n\n                        //         {/* {errors && errors[item.name] && `${item.name} errororrr`} */}\n                        //         {child && child}\n                        //         <br />\n                        //         <br />\n                        //         <br />\n                        //     </>\n                        // )\n\n                        const Component = components(item.type, {\n                            field,\n                            item,\n                            name,\n                            index,\n                            managedCallback\n                        })\n                        // console.log(\"dyno ;)\", Component, 'ControlledComponentsV2 renderrrrrrrrrr <3>', field.name)\n                        return Component\n                    }}\n\n                />\n                // <ControlledComponents\n                //     managedCallback={managedCallback}\n                //     updateReference={updateReference}\n                //     // key={item.name}\n                //     name={name}\n                //     control={myControl}\n                //     errors={errors}\n                //     formName={'formName'}\n                //     index={index}\n                //     child={child}\n                //     render={({ onUpdate, value, fields, field, error, index, child, managedCallback }) => {\n                //         const Component = components(item.type, {\n                //             onUpdate,\n                //             value,\n                //             fields,\n                //             field,\n                //             error,\n                //             child,\n                //             errors,\n                //             item,\n                //             index,\n                //             managedCallback\n                //         })\n                //         console.log(\"dyno ;)\", Component, 'ControlledComponentsV2 renderrrrrrrrrr <3>', error, field.name)\n                //         // return Component\n                //         // return (\n                //         //     <Component\n                //         //         {...{ onUpdate, value, fields, field, error, child, errors, item, index }}\n                //         //     />\n                //         // )\n\n                //         return <>\n                //             <br />\n                //             <div style={{ backgroundColor: child.length > 0 && \"blanchedalmond\" || \"whitesmoke\", padding: 11 }}>\n                //                 <Input onChange={(e) => onUpdate(e.target.value)} defaultValue={value} value={value} />------{fields && fields.value}\n                //                 {field.name}\n                //                 {error && error.error && \"Hiiiii i am here\" || \"no way ;)\"}\n                //             </div>\n                //             {child.length > 0 && <div style={{ backgroundColor: \"blanchedalmond\", padding: 11 }}>\n                //                 child ;)\n                //                 {child && child}\n                //             </div>}\n                //         </>\n                //     }}\n                // />\n            )\n\n            return result\n        })\n    //console.timeEnd('renderFormmm')\n    return r\n}\nconst InRenderform = React.memo(props => RenderForm(props),\n    (prevProps, nextProps) => {\n        if (!deepEqual(nextProps, prevProps)) {\n            return true // props are equal\n        }\n        return false // props are not equal -> update the component\n    },\n)\nInRenderform.displayName = \"RenderForm\"\nInRenderform.whyDidYouRender = true\n\n// where is item\n// need 1st render recursive\n// -> DFS & flat => ref for each field\n// preCondition -> array(store) - flat, value -> set?\n// leftIconA => 7\n// _.set({}, \"b.c.d\")\n\nconst convertIdToRef = (array, key, name, parent, isArray) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        const itemName = isArray === undefined && item[key] || `${parent}.0.${item[key]}`\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent, itemName, isArray)\n\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [itemName]: {\n                ...item,\n                name: itemName,\n                refId,\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key], item.isArray)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst resetItems = (array, key, name, parent) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent)\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: {\n                ...item,\n                refId,\n                value: \"\",\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key])),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst convertIdToRefV2 = (array, key, name) => {\n    // const initialValue = {};\n    const initialValue = new Map()\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, \"convertIdToRefconvertIdToRef\", item)\n        const refId = (name && `${name}.items[${currentIndex}]`) || item[key] // `[${currentIndex}]`;\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: { ...item, refId },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst prepareWtchingComponents = (items, key) => {\n    // const initialValue = {};\n    // //console.time('prepareWtchingComponents')\n    const initialValue = new Map()\n\n    Object.keys(items).forEach((key) => {\n        if (items[key].preCondition) {\n            const preConditionObj = convertArrayToObject(items[key].preCondition, 'value')\n\n            // const thisShitIsBananas = items[key].preCondition.reduce((accumulator, fruit) => {\n            //     return accumulator.concat(fruit.value);\n            // }, []);\n            // console.log(\"dyno ;)\", items[key], \"prepareWtchingComponents\", Object.values(preConditionObj), '----===----', preConditionObj)\n            const keys = Object.keys(preConditionObj)\n            for (let index = 0; index < keys.length; index++) {\n                const internalItem = preConditionObj[keys[index]]\n                initialValue.set(internalItem.name, [\n                    ...((initialValue.get(internalItem.name) && initialValue.get(internalItem.name)) || []),\n                    { refId: items[key].refId, ...internalItem },\n                ])\n            }\n            // keys.forEach( e => {\n            //     // initialValue[preConditionObj[e].name] = [\n            //     //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     //     ...(initialValue[preConditionObj[e].name] && initialValue[preConditionObj[e].name] || []),\n            //     //     // {refId: items[key].refId, ...preConditionObj  }\n            //     //     {refId: items[key].refId, ...preConditionObj[e] }\n            //     // ];\n            //     initialValue.set(preConditionObj[e].name, [\n            //         // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //         ...(initialValue.get(preConditionObj[e].name) && initialValue.get(preConditionObj[e].name) || []),\n            //         // {refId: items[key].refId, ...preConditionObj  }\n            //         {refId: items[key].refId, ...preConditionObj[e] }\n            //     ]);\n            //     // console.log(\"dyno ;)\", thisShitIsBananas, \"prepareWtchingComponentsYY ---->\", initialValue.get(preConditionObj[e].name),initialValue)\n\n            // })\n\n            // initialValue[preConditionObj.name] = [\n            // initialValue[items[key].preCondition.name] = [\n            //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     ...(initialValue[items[key].preCondition.name] && initialValue[items[key].preCondition.name] || []),\n            //     // {refId: items[key].refId, ...preConditionObj  }\n            //     {refId: items[key].refId, ...items[key].preCondition }\n            // ];\n        }\n    })\n    //console.timeEnd('prepareWtchingComponents')\n    return initialValue\n}\n\n// const convertArrayToObject = (array, key) => {\n//     const initialValue = {};\n//     return array.reduce((obj, item) => {\n//         return {\n//             ...obj,\n//             [item[key]]: item,\n//         };\n//     }, initialValue);\n// };\n\nconst convertArrayToObject = (array, key, value) => {\n    const initialValue = {}\n    if (!Array.isArray(array)) return\n    const givenArray = array.concat()\n    return givenArray.reduce((obj, item) => {\n        return {\n            ...obj,\n            [item[key]]: (value && item[value]) || (value === undefined && item) || '',\n        }\n    }, initialValue)\n}\n\nconst convertArrayToObjectPOC = (array, key, value, isParent, original) => {\n    // //console.time(\"convertArrayToObjectPOC\")\n    const initialValue = {}\n    const givenArray =\n        (isParent && array.concat()) || array.filter((el) => el.parent === undefined).concat()\n\n    const result = givenArray.reduce((obj, item) => {\n        // console.log(\"dyno ;)\", item, obj, \"reducereduce\", item[key], original[[item[key]]][value], original)\n\n        return {\n            ...obj,\n            [item[key]]:\n                (item.items && convertArrayToObjectPOC(item.items, key, 'value', true, original)) ||\n                (isParent && original[[item[key]]][value]) ||\n                (value && item[value]) ||\n                (value === undefined && item) ||\n                '',\n        }\n    }, initialValue)\n    // //console.timeEnd(\"convertArrayToObjectPOC\")\n    return result\n}\n\nlet renderCount = 0\nconst FormBuilderV1 = React.forwardRef(({ items,\n    validationResolver = defaultValidationResolver,\n    ControlledComponents,\n    components,\n    managedCallback,\n    defaultValues = {} }, ref) => {\n\n    console.log(\"dyno ;)\", defaultValues, \"defaultValues\")\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        formState: { errors },\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        triggerBackground\n    } = useForm({\n        mode: 'onChange',\n        // criteriaMode: 'all',\n        // criteriaMode: \"firstError\",\n        defaultValues\n    })\n\n    const sharedItems = {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground\n    }\n\n    const myComponents = React.useRef()\n    // const errors = React.useRef({})\n    const watchingComponents = React.useRef()\n    const preConditionItems = React.useRef()\n\n\n    const [data, setData] = useState()\n\n    React.useEffect(() => {\n        if (items === undefined) return\n\n        //console.time('convertIdToRefffff')\n        myComponents.current = convertIdToRef(items, 'name')\n        //console.timeEnd('convertIdToRefffff')\n        watchingComponents.current = prepareWtchingComponents(myComponents.current)\n        console.log(\"dyno ;)\", myComponents, 'myComponentsmyComponents')\n        console.log(\"dyno ;)\", watchingComponents, 'prepareWtchingComponents', [...watchingComponents.current.keys()])\n\n        const subscription = watch(async (value, { name, type }) => {\n            if (watchingComponents.current.get(name)) {\n                // if(!Array.isArray(data)) return;\n                console.log(\"dyno ;)\", \"checkPreCondition ;) checkPreCondition\", value, name, type, data, items)\n                const [a, b] = await checkPreCondition(name, value[name], items);\n                if (!deepEqual(data, b) && a) {\n                    setData([...b])\n                    // preConditionItems.current = [...b];\n                    return;\n                }\n\n            }\n        });\n\n        setData(items)\n    }, items)\n\n    // const watchingList = watch(\"textbox-2\");\n\n    // const watchingList = useWatch({\n    //     control,\n    //     name: \"textbox-2\", // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n    //     // defaultValue: 'default' // default value before the render\n    //   });\n    // const watchingList = \"\"//watchingComponents.current && watch([...watchingComponents.current.keys()]);\n    // const watchingList = watchingComponents.current && watch([...watchingComponents.current.keys()]);\n\n    const getValue = (name) => {\n        return myComponents.current[name].value\n    }\n\n    const resetValues = () => {\n        myComponents.current = resetItems(items, 'name');\n        setData(items);\n    }\n\n    const onSubmit = (data) => {\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM\", data)\n        return data;\n    }\n\n    const getValuesPOC = async () => {\n        //TODO: hot fix for double validations\n        if (Object.keys(errors).length > 0) return false;\n        const result = await trigger();\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n        if (result === true) {\n            return await getValues();\n        } else {\n            return false;\n        }\n    }\n\n    ref.current = {\n        getValues: getValuesPOC,\n        resetValues: resetValues\n    }\n\n    const validationOnce = async (name, value, result) => {\n        //console.time('validationssss')\n        const validatedItem = myComponents.current[name];\n        let n = result\n        const originalErrors = { ...errors.current } || {}\n        const newErrors = errors.current || {}\n\n        let error = false\n\n        // if (item && item.visible) {\n        if (value !== '') {\n            const error = value === '313'\n            if (error) {\n                newErrors[name] = {\n                    error,\n                    errorMsg: validatedItem.errorMsg && validatedItem.errorMsg || '313 cant be here.',\n                }\n            } else {\n                delete newErrors[name]\n            }\n            // n = _.set({ a: n }, `a${item.refId}.error`, error).a;\n            // console.log(\"dyno ;)\", \"error\", n, error, value)\n        } else {\n            delete newErrors[name]\n        }\n        // }\n\n        errors.current = { ...newErrors } // {...errors.current ,...newErrors};\n        // console.log(\"dyno ;)\", \"errorolo\", errors.current, originalErrors, _.isEqual(originalErrors, newErrors))\n        console.log(\"dyno ;)\", errors, \"errrrrrrrrr\", newErrors,)\n        if (error.current !== originalErrors) {\n        }\n\n        // setData([...n])\n\n        // setData([...n])\n        // Object.values(newC).forEach(element => {\n        //     if(element.value){\n        //         element[\"error\"] = true;\n        //         error = element.value !== \"313\";\n        //     }\n        // });\n        // error && pubsub.publish('textbox-3', {error: Date.now()});\n\n        //console.timeEnd('validationssss')\n        return [!_.isEqual(originalErrors, newErrors), [...n], newErrors[name]]\n    }\n\n    const updateReference = async (value, name) => {\n\n        //console.time('myComponentsFind')\n        myComponents.current[name].value = value\n        //console.timeEnd('myComponentsFind')\n\n        console.log(\"dyno ;)\", myComponents.current, 'getValues', await getValuesPOC())\n\n        //console.time('iam here')\n        const [hasValidationChanged, result, error] = await validationOnce(name, value, [...data])\n        const [hasPreconditionChanged, preResult] = await checkPreCondition(name, value, result)\n        // console.log(\"dyno ;)\", error, \"asyncValidation\", result, hasValidationChanged)\n\n        if (hasValidationChanged === true || hasPreconditionChanged === true) {\n            // if (hasPreconditionChanged === true) {\n\n            console.log(\"dyno ;)\", \n                'lololololololololololoolol',\n                hasValidationChanged,\n                hasPreconditionChanged,\n                errors,\n            )\n            setData([...preResult])\n        }\n\n        // console.log(\"dyno ;)\", \"getValues\", await getValues())\n        //console.timeEnd('iam here')\n        // return [value, error]\n    }\n\n    const checkPreCondition = async (name, value, result) => {\n        // const hasCondition = watchingComponents.current[name];\n        const hasCondition = watchingComponents.current.get(name)\n\n        console.log(\"dyno ;)\", data, \"checkPreConditionInside\", name, myComponents.current, hasCondition, watchingComponents.current);\n\n        // TODO: ;)\n        // how to update the Array\n        // OR update and dont itterate the Object\n        // _.set({ a: myComponents.current }, \"a.textbox-2.items[0].value\", \"leila\")\n        let n = [...result]\n\n        let updated = false\n\n        if (hasCondition !== undefined) {\n            // for(let i = 0; i < hasCondition.length; i++){\n            //     const touched = item.value == value;\n            //         console.log(\"dyno ;)\", \"hashas\", _.get({a:n},`a${item.refId}.visible` ))\n            //         n = _.set({ a: n }, `a${item.refId}.visible`, touched).a;\n\n            // }\n\n            await hasCondition.map(async (item) => {\n                const realValue = value[\"value\"] || value;\n                const touched = item?.type && (await validationResolver[item.type](item, realValue)) // || validationResolver[\"eq\"](item,value); //value !== \"\" && item.value.includes(value) || false;\n                // if(touched){\n                if (_.get({ a: n }, `a${item.refId}.visible`) !== touched) { //touched\n                    // myComponents.current[item.name].visible = touched;\n                    n = _.set({ a: n }, `a${item.refId}.visible`, touched).a\n                    updated = true\n                    console.log(\"dyno ;)\", \n                        'hashas',\n                        await _.get({ a: n }, `a${item.refId}.visible`),\n                        await touched,\n                        hasCondition,\n                        updated,\n                    )\n                }\n\n                // }\n            })\n        }\n        return [updated, [...n]]\n    }\n\n    console.log(\"dyno ;)\", 'renderCount', renderCount++)\n    return (\n        (data &&\n            renderForm(\n                data,\n                updateReference,\n                myComponents,\n                getValues,\n                { ...errors },\n                ControlledComponents,\n                components,\n                managedCallback,\n                undefined,\n                sharedItems,\n                setValue\n            ))\n        ||\n        null\n    )\n});\n\nFormBuilderV1.whyDidYouRender = true\nFormBuilderV1.displayName = \"FormBuilderV1\"\n\nexport default FormBuilderV1\n","import React, { useCallback, useEffect, useState, useRef } from 'react'\n\n// import {\n//     useWatch\n// } from \"../useWatch\"\n// import {\n//     useFieldArray\n// } from \"../useFieldArray\"\n// import {\n//     FormProvider,\n//     useFormContext\n// } from \"../useFormContext\"\n// import {\n//     useForm\n// } from \"../useForm\"\n// import {\n//     Controller\n// } from \"../Controller\"\n\nimport {\n    useWatch\n} from \"../useWatch\"\nimport {\n    useFieldArray\n} from \"../useFieldArray\"\nimport {\n    FormProvider,\n    useFormContext\n} from \"../useFormContext\"\nimport {\n    useForm\n} from \"../useForm\"\nimport {\n    Controller\n} from \"../controller\"\n\nimport _ from 'lodash'\n// import deepEqual from \"../utils/deepEqual\"\nimport deepEqual from \"../utils/deepEqual\"\nimport { defaultValidationResolver } from \"../utils/defaultValidationResolver\"\n\n// import { defaultValidationResolver } from \"../dynamo/utils/defaultValidationResolver\"\n\nconst renderComponentInd = (name, data, { updateReference,\n    myComponents,\n    getValues,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    undefined,\n    sharedItems,\n    index,\n    parent,\n    givenName = undefined\n}\n) => {\n\n    const selectedComponent = {...data[name], givenName };\n    //Add givenName here ;)\n    // selectedComponent.givenName = givenName;\n\n    if (selectedComponent === undefined) return null;\n    // debugger;\n    if (selectedComponent?.visible === false) return null\n    return renderComponentForm(\n        selectedComponent,\n        updateReference,\n        myComponents,\n        getValues,\n        { ...errors },\n        ControlledComponents,\n        components,\n        managedCallback,\n        undefined,\n        sharedItems,\n        index,\n        data,\n        parent\n    )\n}\n\nconst renderComponentForm = (\n    item,\n    updateReference,\n    myControl,\n    getValue,\n    errorss,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    index,\n    data,\n    parent\n) => {\n    console.log(\"dyno ;)\", errorss, 'dataerrors')\n    //console.time('renderFormmm')\n    // const r = data\n    //     .filter((element) => element.visible)\n    //     .map((item, index) => {\n    //         // console.log(\"dyno ;)\", item, \"ittttem\")\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground\n    } = sharedItems\n\n    // if (!item.visible) return null\n    const name = parentName && `${parentName}.${item.name}` || item.givenName && item.givenName || item.name\n\n    let result = null\n    let child = []\n    if (item.items) {\n        child = item.items.map((name,idx) => renderComponentInd(name, data, {\n            updateReference,\n            myControl,\n            getValue,\n            errors,\n            ControlledComponents,\n            components,\n            managedCallback,\n            parentName: item?.items && name || undefined,\n            sharedItems,\n            index: idx,\n            data,\n            parent: { name: item.name, index, id: item.id },\n            itemName: name\n        }))\n\n        // renderComponentForm(\n        //     item.items,\n        //     updateReference,\n        //     myControl,\n        //     getValue,\n        //     errors,\n        //     ControlledComponents,\n        //     components,\n        //     managedCallback,\n        //     item?.items && name || undefined,\n        //     sharedItems,\n        //     setValue\n        // )\n    }\n\n    const validation = {\n        maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n        minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n        max: item.max && item.max.value !== \"\" && item.max || undefined,\n        min: item.min && item.min.value !== \"\" && item.min || undefined,\n        pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n        required: item.required && item.required.value !== \"\" && item.required || undefined\n    }\n\n   \n    // let rule = _.cloneDeep(item?.rule || {});\n    // debugger;\n    // rule.pattern?.value = new RegExp(item.rule?.pattern?.value);\n\n    result = (\n        <Controller\n            key={item.isArray === true && `${name}container` || name}\n            name={item.isArray === true && `${name}container` || name}\n            control={control}\n            item={item}\n            rules={item.rule || validation}\n            render={({ field }) => {\n\n                if (item.isArray) {\n                    console.log(\"dyno ;)\", name,item.items, \"useFieldArray\")\n                    const { fields, append, remove } = useFieldArray({\n                        control,\n                        name: name\n                    });\n\n                    child =\n                        <>\n                            <ul>\n                                {fields.map((el, index) => (\n                                    <li key={el.id}>\n                                        {item.items.map((element, indx) => (\n                                            <Controller\n                                                key={`${name}.${index}.${data[element].name}`}\n                                                name={`${name}.${index}.${data[element].name}`}\n                                                control={control}\n                                                render={({ field }) => {\n                                                    console.log(\"dyno ;)\", `${name}.${index}.${element}`,'`${name}.${index}.${element}`')\n                                                    return renderComponentInd(element, data, {\n                                                        updateReference,\n                                                        myControl,\n                                                        getValue,\n                                                        errors,\n                                                        ControlledComponents,\n                                                        components,\n                                                        managedCallback,\n                                                        parentName: item?.items && name || undefined,\n                                                        sharedItems,\n                                                        index: index,\n                                                        data,\n                                                        parent: { name: item.name, index, id: item.id },\n                                                        givenName: `${name}.${index}.${data[element].name}`\n                                                    })\n\n                                                    const Component = components(element.type, {\n                                                        field,\n                                                        item: element,\n                                                        name: `${name}.${index}.${element.name}`,\n                                                        indx,\n                                                        managedCallback,\n                                                        child,\n                                                        useFieldArray\n                                                    })\n                                                    return Component\n                                                }}\n                                            />\n                                        ))}\n                                        <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                    </li>\n                                ))}\n\n                            </ul>\n                            {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                            {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                            <button\n                                type=\"button\"\n                                // onClick={() => append({ \"actionURL\": \"\" })}\n                                onClick={() => append({})}\n\n                            >\n                                +\n                            </button>\n                        </>\n                }\n\n                const Component = components(item.type, {\n                    field,\n                    item,\n                    name,\n                    index,\n                    managedCallback,\n                    child,\n                    useFieldArray,\n                    error: errors,\n                    sharedItems,\n                    parent\n                })\n\n                return Component\n            }}\n\n        />\n    )\n\n    //     return result\n    // })\n    //console.timeEnd('renderFormmm')\n    return result\n}\n\nconst renderForm = (\n    data,\n    updateReference,\n    myControl,\n    getValue,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    setValue\n) => {\n    console.log(\"dyno ;)\", errors, 'dataerrors')\n    //console.time('renderFormmm')\n    const r = data\n        .filter((element) => element.visible)\n        .map((item, index) => {\n            // console.log(\"dyno ;)\", item, \"ittttem\")\n\n            const {\n                register,\n                handleSubmit,\n                watch,\n                errors,\n                control,\n                trigger,\n                setFocus,\n                getValues,\n                setValue,\n                useFieldArray,\n                useWatch,\n                triggerBackground\n            } = sharedItems\n\n            // if (!item.visible) return null\n            const name = parentName && `${parentName}.${item.name}` || item.name\n\n            let result = null\n            let child = []\n            if (item.items) {\n                child = renderForm(\n                    item.items,\n                    updateReference,\n                    myControl,\n                    getValue,\n                    errors,\n                    ControlledComponents,\n                    components,\n                    managedCallback,\n                    item?.items && name || undefined,\n                    sharedItems,\n                    setValue\n                )\n            }\n\n            const validation = {\n                maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n                minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n                max: item.max && item.max.value !== \"\" && item.max || undefined,\n                min: item.min && item.min.value !== \"\" && item.min || undefined,\n                pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n                required: item.required && item.required.value !== \"\" && item.required || undefined\n            }\n            // console.log(\"dyno ;)\", \"validationValidation\", validation)\n\n            // if (!item.visible) return null\n\n            // const name = parentName && `${parentName}.0.${item.name}` || item.name\n            // console.log(\"dyno ;)\", name, \"namename\")\n            result = (\n                <Controller\n                    key={item.isArray === true && `${name}container` || name}\n                    name={item.isArray === true && `${name}container` || name}\n                    control={control}\n                    item={item}\n                    rules={item.rule || validation}\n                    render={({ field }) => {\n\n                        if (item.isArray) {\n                            // console.log(\"dyno ;)\", name, \"useFieldArray\")\n                            const { fields, append, remove } = useFieldArray({\n                                control,\n                                name: name\n                            });\n\n                            // const myaCondition = useWatch({\n                            //     control,\n                            //     name: 'textbox-0.test.0.firstName', // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                            //     defaultValue: undefined // default value before the render\n                            // });\n                            // console.log(\"dyno ;)\", myaCondition, \"myaCondition\", getValue(\"textbox-3\"))\n                            child =\n                                <>\n                                    {/* <>\n                                        {`${item.name}`}\n                                        <br />\n                                        <input {...field} />\n                                        {errors && errors[item.name] && `${item.name} errororrr`}\n                                        {child && child}\n                                        <br />\n                                        <br />\n                                        <br />\n                                    </> */}\n                                    <ul>\n                                        {fields.map((el, index) => (\n                                            <li key={el.id}>\n                                                {item.items.map((element, indx) => (\n                                                    <Controller\n                                                        name={`${name}.${index}.${element.name}`}\n                                                        control={control}\n                                                        render={({ field }) => {\n                                                            const Component = components(element.type, {\n                                                                field,\n                                                                item: element,\n                                                                name: `${name}.${index}.${element.name}`,\n                                                                indx,\n                                                                managedCallback,\n                                                                child,\n                                                                useFieldArray\n                                                            })\n                                                            return Component\n                                                        }}\n                                                    />\n                                                ))}\n                                                <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                            </li>\n                                        ))}\n\n                                    </ul>\n                                    {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                                    {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                                    <button\n                                        type=\"button\"\n                                        // onClick={() => append({ \"actionURL\": \"\" })}\n                                        onClick={() => append({})}\n\n                                    >\n                                        +\n                                    </button>\n                                </>\n\n                        }\n\n                        const Component = components(item.type, {\n                            field,\n                            item,\n                            name,\n                            index,\n                            managedCallback,\n                            child,\n                            useFieldArray,\n                            error: errors,\n                            sharedItems\n                        })\n\n                        return Component\n                    }}\n\n                />\n            )\n\n            return result\n        })\n    //console.timeEnd('renderFormmm')\n    return r\n}\n\n// where is item\n// need 1st render recursive\n// -> DFS & flat => ref for each field\n// preCondition -> array(store) - flat, value -> set?\n// leftIconA => 7\n// _.set({}, \"b.c.d\")\n\nconst convertIdToRef = (array, key, name, parent, isArray) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        const itemName = isArray === undefined && item[key] || `${parent}.0.${item[key]}`\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent, itemName, isArray)\n\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [itemName]: {\n                ...item,\n                name: itemName,\n                refId,\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key], item.isArray)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst resetItems = (array, key, name, parent) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent)\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: {\n                ...item,\n                refId,\n                value: \"\",\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key])),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst convertIdToRefV2 = (array, key, name) => {\n    // const initialValue = {};\n    const initialValue = new Map()\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, \"convertIdToRefconvertIdToRef\", item)\n        const refId = (name && `${name}.items[${currentIndex}]`) || item[key] // `[${currentIndex}]`;\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: { ...item, refId },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst prepareWtchingComponents = (items, key) => {\n    // const initialValue = {};\n    // //console.time('prepareWtchingComponents')\n    const initialValue = new Map()\n\n    Object.keys(items).forEach((key) => {\n        if (items[key].preCondition) {\n            const preConditionObj = convertArrayToObject(items[key].preCondition, 'value')\n\n            // const thisShitIsBananas = items[key].preCondition.reduce((accumulator, fruit) => {\n            //     return accumulator.concat(fruit.value);\n            // }, []);\n            // console.log(\"dyno ;)\", items[key], \"prepareWtchingComponents\", Object.values(preConditionObj), '----===----', preConditionObj)\n            const keys = Object.keys(preConditionObj)\n            for (let index = 0; index < keys.length; index++) {\n                const internalItem = preConditionObj[keys[index]]\n                console.log(\"dyno ;)\", items[key], 'items[key]')\n                initialValue.set(internalItem.name, [\n                    ...((initialValue.get(internalItem.name) && initialValue.get(internalItem.name)) || []),\n                    { refId: items[key].id, ...internalItem },\n                ])\n            }\n            // keys.forEach( e => {\n            //     // initialValue[preConditionObj[e].name] = [\n            //     //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     //     ...(initialValue[preConditionObj[e].name] && initialValue[preConditionObj[e].name] || []),\n            //     //     // {refId: items[key].refId, ...preConditionObj  }\n            //     //     {refId: items[key].refId, ...preConditionObj[e] }\n            //     // ];\n            //     initialValue.set(preConditionObj[e].name, [\n            //         // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //         ...(initialValue.get(preConditionObj[e].name) && initialValue.get(preConditionObj[e].name) || []),\n            //         // {refId: items[key].refId, ...preConditionObj  }\n            //         {refId: items[key].refId, ...preConditionObj[e] }\n            //     ]);\n            //     // console.log(\"dyno ;)\", thisShitIsBananas, \"prepareWtchingComponentsYY ---->\", initialValue.get(preConditionObj[e].name),initialValue)\n\n            // })\n\n            // initialValue[preConditionObj.name] = [\n            // initialValue[items[key].preCondition.name] = [\n            //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     ...(initialValue[items[key].preCondition.name] && initialValue[items[key].preCondition.name] || []),\n            //     // {refId: items[key].refId, ...preConditionObj  }\n            //     {refId: items[key].refId, ...items[key].preCondition }\n            // ];\n        }\n    })\n    //console.timeEnd('prepareWtchingComponents')\n    return initialValue\n}\n\nconst convertArrayToObject = (array, key, value) => {\n    const initialValue = {}\n    if (!Array.isArray(array)) return\n    const givenArray = array.concat()\n    return givenArray.reduce((obj, item) => {\n        return {\n            ...obj,\n            [item[key]]: (value && item[value]) || (value === undefined && item) || '',\n        }\n    }, initialValue)\n}\n\nconst convertArrayToObjectPOC = (array, key, value, isParent, original) => {\n    // //console.time(\"convertArrayToObjectPOC\")\n    const initialValue = {}\n    const givenArray =\n        (isParent && array.concat()) || array.filter((el) => el.parent === undefined).concat()\n\n    const result = givenArray.reduce((obj, item) => {\n        // console.log(\"dyno ;)\", item, obj, \"reducereduce\", item[key], original[[item[key]]][value], original)\n\n        return {\n            ...obj,\n            [item[key]]:\n                (item.items && convertArrayToObjectPOC(item.items, key, 'value', true, original)) ||\n                (isParent && original[[item[key]]][value]) ||\n                (value && item[value]) ||\n                (value === undefined && item) ||\n                '',\n        }\n    }, initialValue)\n    // //console.timeEnd(\"convertArrayToObjectPOC\")\n    return result\n}\n\nlet renderCount = 0\nconst FormBuilderNext = React.forwardRef(({ items,\n    validationResolver,\n    // = defaultValidationResolver,\n    ControlledComponents,\n    components,\n    managedCallback,\n    shouldUnregister = true,\n    defaultValues = {} }, ref) => {\n\n    console.log(\"dyno ;)\", defaultValues, \"defaultValues\")\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        formState: { errors },\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        triggerBackground,\n        unregister\n    } = useForm({\n        mode: 'onChange',\n        shouldUnregister: true,\n        // criteriaMode: 'all',\n        // criteriaMode: \"firstError\",\n        defaultValues: defaultValues\n    })\n\n    const sharedItems = {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground,\n        unregister\n    }\n\n    const myComponents = React.useRef()\n    // const errors = React.useRef({})\n    const watchingComponents = React.useRef()\n    const preConditionItems = React.useRef()\n\n\n    const [data, setData] = useState()\n\n    React.useEffect(() => {\n        if (items === undefined) return\n\n        // if(items !== data && data !== undefined){\n        //     for (const [key, value] of Object.entries(data)) {\n        //         unregister(value?.name);\n        //     }\n        // }\n        \n\n        //console.time('convertIdToRefffff')\n        myComponents.current = items; // convertIdToRef(items, 'name')\n        //console.timeEnd('convertIdToRefffff')\n        watchingComponents.current = prepareWtchingComponents(myComponents.current)\n        console.log(\"dyno ;)\", myComponents, 'myComponentsmyComponents')\n        console.log(\"dyno ;)\", watchingComponents, 'prepareWtchingComponents', [...watchingComponents.current.keys()])\n        \n        const subscription = watch(async (value, { name, type }) => {\n            // const [a, b] = await checkPreCondition(name, value[name], items);\n            // setData({ ...b });\n            // console.log(\"dyno ;)\", \"watchhhhhhh\", name, value)\n// return;\n            if (watchingComponents.current.get(name)) {\n                // if(!Array.isArray(data)) return;\n                console.log(\"dyno ;)\", \"checkPreCondition ;) checkPreCondition\", value, name, type, data, items)\n                const [a, b] = await checkPreCondition(name, value[name], items);\n                if (!deepEqual(data, b) && a) {\n                    // setData([...b]);\n                    setData({ ...b });\n                    // preConditionItems.current = [...b];\n                    return;\n                }\n            }\n        });\n\n        setData(items)\n    }, [items])\n\n    const getValue = (name) => {\n        return myComponents.current[name].value\n    }\n\n    const resetValues = () => {\n        myComponents.current = resetItems(items, 'name');\n        setData(items);\n    }\n\n    const onSubmit = (data) => {\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM\", data)\n        return data;\n    }\n\n    const getValuesPOC = async () => {\n        //TODO: hot fix for double validations\n        if (Object.keys(errors).length > 0) return false;\n        const result = await trigger();\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n        if (result === true) {\n            return await getValues();\n        } else {\n            return false;\n        }\n    }\n\n    ref.current = {\n        getValues: getValuesPOC,\n        resetValues: resetValues,\n        setValue: setValue\n    }\n\n    const validationOnce = async (name, value, result) => {\n        //console.time('validationssss')\n        const validatedItem = myComponents.current[name];\n        let n = result\n        const originalErrors = { ...errors.current } || {}\n        const newErrors = errors.current || {}\n\n        let error = false\n\n        // if (item && item.visible) {\n        if (value !== '') {\n            const error = value === '313'\n            if (error) {\n                newErrors[name] = {\n                    error,\n                    errorMsg: validatedItem.errorMsg && validatedItem.errorMsg || '313 cant be here.',\n                }\n            } else {\n                delete newErrors[name]\n            }\n            // n = _.set({ a: n }, `a${item.refId}.error`, error).a;\n            // console.log(\"dyno ;)\", \"error\", n, error, value)\n        } else {\n            delete newErrors[name]\n        }\n        // }\n\n        errors.current = { ...newErrors } // {...errors.current ,...newErrors};\n        // console.log(\"dyno ;)\", \"errorolo\", errors.current, originalErrors, _.isEqual(originalErrors, newErrors))\n        console.log(\"dyno ;)\", errors, \"errrrrrrrrr\", newErrors,)\n        if (error.current !== originalErrors) {\n        }\n\n        // setData([...n])\n\n        // setData([...n])\n        // Object.values(newC).forEach(element => {\n        //     if(element.value){\n        //         element[\"error\"] = true;\n        //         error = element.value !== \"313\";\n        //     }\n        // });\n        // error && pubsub.publish('textbox-3', {error: Date.now()});\n\n        //console.timeEnd('validationssss')\n        return [!_.isEqual(originalErrors, newErrors), [...n], newErrors[name]]\n    }\n\n    const updateReference = async (value, name) => {\n\n        //console.time('myComponentsFind')\n        myComponents.current[name].value = value\n        //console.timeEnd('myComponentsFind')\n\n        console.log(\"dyno ;)\", myComponents.current, 'getValues', await getValuesPOC())\n\n        //console.time('iam here')\n        const [hasValidationChanged, result, error] = await validationOnce(name, value, { ...data })\n        const [hasPreconditionChanged, preResult] = await checkPreCondition(name, value, data)\n        // console.log(\"dyno ;)\", error, \"asyncValidation\", result, hasValidationChanged)\n\n        if (hasValidationChanged === true || hasPreconditionChanged === true) {\n            // if (hasPreconditionChanged === true) {\n\n            console.log(\"dyno ;)\", \n                'lololololololololololoolol',\n                hasValidationChanged,\n                hasPreconditionChanged,\n                errors,\n            )\n            setData({ ...preResult })\n        }\n\n        // console.log(\"dyno ;)\", \"getValues\", await getValues())\n        //console.timeEnd('iam here')\n        // return [value, error]\n    }\n\n    const checkPreCondition = async (name, value, result) => {\n        // const hasCondition = watchingComponents.current[name];\n        const hasCondition = watchingComponents.current.get(name)\n\n        console.log(\"dyno ;)\", data, \"checkPreConditionInside\", name, myComponents.current, hasCondition, watchingComponents.current);\n\n        // TODO: ;)\n        // how to update the Array\n        // OR update and dont itterate the Object\n        // _.set({ a: myComponents.current }, \"a.textbox-2.items[0].value\", \"leila\")\n        // let n = _.cloneDeep(result);\n        let n = {...result}\n\n        let updated = false\n\n        if (hasCondition !== undefined) {\n            // for(let i = 0; i < hasCondition.length; i++){\n            //     const touched = item.value == value;\n            //         console.log(\"dyno ;)\", \"hashas\", _.get({a:n},`a${item.refId}.visible` ))\n            //         n = _.set({ a: n }, `a${item.refId}.visible`, touched).a;\n\n            // }\n\n            await hasCondition.map(async (item) => {\n                const realValue = value && value[\"value\"] || value;\n                const touched = item?.type && (await validationResolver[item.type](item, realValue)) // || validationResolver[\"eq\"](item,value); //value !== \"\" && item.value.includes(value) || false;\n                // if(touched){\n                // debugger\n                // if (n[item.refId] && n[item.refId].visible !== touched) {\n                //     n[item.refId].visible = touched;\n                //     updated = true\n                // }\n                const i = n[item.refId];\n                console.log(\"dyno ;)\", n[\"accountNo\"],\"accountNoaccountNo\",'-----',i)\n                if(i !== undefined && i.visible !== touched ){\n                    n[item.refId].visible = touched;\n                    updated = true\n                }\n                // if (_.get({ a: n }, `a${item.refId}.visible`) !== touched) { //touched\n                //     // myComponents.current[item.name].visible = touched;\n                //     n = _.set({ a: n }, `a${item.refId}.visible`, touched).a\n                //     updated = true\n                //     console.log(\"dyno ;)\", \n                //         'hashas',\n                //         await _.get({ a: n }, `a${item.refId}.visible`),\n                //         await touched,\n                //         hasCondition,\n                //         updated,\n                //     )\n                // }\n\n                // }\n            })\n        }\n        return [updated, n]\n        return [updated, { ...n }]\n    }\n\n    console.log(\"dyno ;)\", 'renderCount', renderCount++)\n\n    return (\n        (data && data.root?.items?.map((name, index) => renderComponentInd(name, data, {\n            updateReference,\n            myComponents,\n            getValues,\n            errors,\n            ControlledComponents,\n            components,\n            managedCallback,\n            undefined,\n            sharedItems,\n            index\n        })\n        )) || null\n    )\n\n\n    return (\n        (data &&\n            renderForm(\n                data,\n                updateReference,\n                myComponents,\n                getValues,\n                { ...errors },\n                ControlledComponents,\n                components,\n                managedCallback,\n                undefined,\n                sharedItems,\n                setValue\n            ))\n        ||\n        null\n    )\n});\n\nFormBuilderNext.whyDidYouRender = true\nFormBuilderNext.displayName = \"FormBuilderNext\"\n\nexport default FormBuilderNext\n","import { EVENTS, VALIDATION_MODE } from '../constants';\nimport { set } from '../utils';\nimport compact from '../utils/compact';\nimport convertToArrayPayload from '../utils/convertToArrayPayload';\nimport debounce from '../utils/debounce';\nimport deepEqual from '../utils/deepEqual';\nimport get from '../utils/get';\nimport getValidationModes from '../utils/getValidationModes';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isDateObject from '../utils/isDateObject';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isFileInput from '../utils/isFileInput';\nimport isFunction from '../utils/isFunction';\nimport isHTMLElement from '../utils/isHTMLElement';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isPrimitive from '../utils/isPrimitive';\nimport isRadioOrCheckboxFunction from '../utils/isRadioOrCheckbox';\nimport isString from '../utils/isString';\nimport isUndefined from '../utils/isUndefined';\nimport isWeb from '../utils/isWeb';\nimport omit from '../utils/omit';\nimport omitKey from '../utils/omitKeys';\nimport Subject from '../utils/Subject';\nimport unset from '../utils/unset';\nimport focusFieldBy from './focusFieldBy';\nimport getFieldValue from './getFieldValue';\nimport getFieldValueAs from './getFieldValueAs';\nimport getNodeParentName from './getNodeParentName';\nimport getResolverOptions from './getResolverOptions';\nimport hasValidation from './hasValidation';\nimport isNameInFieldArray from './isNameInFieldArray';\nimport setFieldArrayDirtyFields from './setFieldArrayDirtyFields';\nimport skipValidation from './skipValidation';\nimport unsetEmptyArray from './unsetEmptyArray';\nimport validateField from './validateField';\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nconst isWindowUndefined = typeof window === 'undefined';\nexport function createFormControlV4(props = {}) {\n    let formOptions = Object.assign(Object.assign({}, defaultOptions), props);\n    console.log(\"dyno ;)\", formOptions,'formOptions')\n    let _delayCallback;\n    let _formState = {\n        isDirty: false,\n        isValidating: false,\n        dirtyFields: {},\n        isSubmitted: false,\n        submitCount: 0,\n        touchedFields: {},\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        errors: {},\n    };\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    let _fields = {};\n    let _formValues = {};\n    let _defaultValues = formOptions.defaultValues || {};\n    let _isInAction = false;\n    let _isMounted = false;\n    const _subjects = {\n        watch: new Subject(),\n        control: new Subject(),\n        array: new Subject(),\n        state: new Subject(),\n    };\n    let _names = {\n        mount: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n        watchAll: false,\n    };\n    const validationMode = getValidationModes(formOptions.mode);\n    const isValidateAllFieldCriteria = formOptions.criteriaMode === VALIDATION_MODE.all;\n    const isFieldWatched = (name) => _names.watchAll ||\n        _names.watch.has(name) ||\n        _names.watch.has((name.match(/\\w+/) || [])[0]);\n    const updateErrorState = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const shouldRenderBaseOnValid = async () => {\n        const isValid = await validateForm(_fields, true);\n        if (isValid !== _formState.isValid) {\n            _formState.isValid = isValid;\n            _subjects.state.next({\n                isValid,\n            });\n        }\n    };\n    const shouldRenderBaseOnError = async (shouldSkipRender, name, error, fieldState, isValidFromResolver, isWatched) => {\n        const previousError = get(_formState.errors, name);\n        const isValid = !!(_proxyFormState.isValid &&\n            (formOptions.resolver ? isValidFromResolver : shouldRenderBaseOnValid()));\n        if (props.delayError && error) {\n            _delayCallback =\n                _delayCallback || debounce(updateErrorState, props.delayError);\n            _delayCallback(name, error);\n        }\n        else {\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((isWatched ||\n            (error ? !deepEqual(previousError, error) : previousError) ||\n            !isEmptyObject(fieldState) ||\n            _formState.isValid !== isValid) &&\n            !shouldSkipRender) {\n            const updatedFormState = Object.assign(Object.assign(Object.assign({}, fieldState), (_proxyFormState.isValid && formOptions.resolver ? { isValid } : {})), { errors: _formState.errors, name });\n            _formState = Object.assign(Object.assign({}, _formState), updatedFormState);\n            //everywhere has isWatched ;)\n            _subjects.state.next(isWatched ? { name } : updatedFormState);\n        }\n        _subjects.state.next({\n            isValidating: false,\n        });\n    };\n    const setFieldValue = (name, value, options = {}, shouldRender) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", \"setValuesetValue\", field, field._f.ref.visible, value,_formValues)\n        if (field) {\n            const _f = field._f;\n            if (_f) {\n                // if(!field._f.ref.visible) return;\n                set(_formValues, name, getFieldValueAs(value, _f));\n                const fieldValue = isWeb && isHTMLElement(_f.ref) && isNullOrUndefined(value)\n                    ? ''\n                    : value;\n                if (isFileInput(_f.ref) && !isString(fieldValue)) {\n                    _f.ref.files = fieldValue;\n                }\n                else if (isMultipleSelect(_f.ref)) {\n                    [..._f.ref.options].forEach((selectRef) => (selectRef.selected = fieldValue.includes(selectRef.value)));\n                }\n                else if (_f.refs) {\n                    if (isCheckBoxInput(_f.ref)) {\n                        _f.refs.length > 1\n                            ? _f.refs.forEach((checkboxRef) => (checkboxRef.checked = Array.isArray(fieldValue)\n                                ? !!fieldValue.find((data) => data === checkboxRef.value)\n                                : fieldValue === checkboxRef.value))\n                            : (_f.refs[0].checked = !!fieldValue);\n                    }\n                    else {\n                        _f.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else {\n                    _f.ref.value = fieldValue;\n                }\n                if (shouldRender) {\n                    _subjects.control.next({\n                        values: getValues(),\n                        name,\n                    });\n                }\n                (options.shouldDirty || options.shouldTouch) &&\n                    updateTouchAndDirtyState(name, fieldValue, options.shouldTouch);\n                options.shouldValidate && trigger(name);\n            }\n        }\n    };\n    const updateTouchAndDirtyState = (name, inputValue, isCurrentTouched, shouldRender = true) => {\n        const state = {\n            name,\n        };\n        let isChanged = false;\n        if (_proxyFormState.isDirty) {\n            const previousIsDirty = _formState.isDirty;\n            _formState.isDirty = _getIsDirty();\n            state.isDirty = _formState.isDirty;\n            isChanged = previousIsDirty !== state.isDirty;\n        }\n        if (_proxyFormState.dirtyFields && !isCurrentTouched) {\n            const isPreviousFieldDirty = get(_formState.dirtyFields, name);\n            const isCurrentFieldDirty = !deepEqual(get(_defaultValues, name), inputValue);\n            isCurrentFieldDirty\n                ? set(_formState.dirtyFields, name, true)\n                : unset(_formState.dirtyFields, name);\n            state.dirtyFields = _formState.dirtyFields;\n            isChanged =\n                isChanged || isPreviousFieldDirty !== get(_formState.dirtyFields, name);\n        }\n        const isPreviousFieldTouched = get(_formState.touchedFields, name);\n        if (isCurrentTouched && !isPreviousFieldTouched) {\n            set(_formState.touchedFields, name, isCurrentTouched);\n            state.touchedFields = _formState.touchedFields;\n            isChanged =\n                isChanged ||\n                (_proxyFormState.touchedFields &&\n                    isPreviousFieldTouched !== isCurrentTouched);\n        }\n        isChanged && shouldRender && _subjects.state.next(state);\n        return isChanged ? state : {};\n    };\n    const executeResolver = async (name) => {\n        return formOptions.resolver\n            ? await formOptions.resolver(Object.assign({}, _formValues), formOptions.context, getResolverOptions(name || _names.mount, _fields, formOptions.criteriaMode, formOptions.shouldUseNativeValidation))\n            : {};\n    };\n    const executeResolverValidation = async (names) => {\n        const { errors } = await executeResolver();\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const validateForm = async (_fields, shouldCheckValid, context = {\n        valid: true,\n    }, formId = \"ALL\") => {\n        // console.log(\"SUBMITFORM here\", formId)\n        for (const name in _fields) {\n            const field = _fields[name];\n            // console.log(field, 'iamfromherein-validation-lol-edward-log-;)---validateForm')\n            if (field) {\n                const _f = field._f;\n                const val = omit(field, '_f');\n                // && field._f.ref.formId === \"ALL\"\n                if (_f) {\n                    //To do for formId ;)\n                    // console.log(_f,'formidddddd')\n                    if(_f.formId === formId || formId === \"ALL\"){\n                        const fieldError = await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                        // const fieldError = field._f.ref.formId === \"ALL\" &&  await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                        // console.log(fieldError, \"fieldError\")\n                        if (shouldCheckValid) {\n                            if (fieldError[_f.name]) {\n                                context.valid = false;\n                                break;\n                            }\n                        }\n                        else {\n                            if (fieldError[_f.name]) {\n                                context.valid = false;\n                            }\n                            fieldError[_f.name]\n                                ? set(_formState.errors, _f.name, fieldError[_f.name])\n                                : unset(_formState.errors, _f.name);\n                                //Added to stop at first error\n                                //TODO: enhance as parameter \n                                if (Object.keys(_formState.errors).length == 1) break;\n                        }\n                    }\n                }\n                val && (await validateForm(val, shouldCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const validateFormBackground = async (_fields, shouldCheckValid, context = {\n        valid: true,\n    }, formId = \"ALL\") => {\n        // console.log(\"SUBMITFORM here\", formId)\n        let localErrors = {};\n        for (const name in _fields) {\n            const field = _fields[name];\n            // console.log(field, 'iamfromherein-validation-lol-edward-log-;)---validateForm')\n            if (field) {\n                const _f = field._f;\n                const val = omit(field, '_f');\n                // && field._f.ref.formId === \"ALL\"\n                if (_f) {\n                    //To do for formId ;)\n                    // console.log(_f,'formidddddd')\n                    if(_f.formId === formId || formId === \"ALL\"){\n                        const fieldError = await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                        // const fieldError = field._f.ref.formId === \"ALL\" &&  await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                        // console.log(fieldError, \"fieldError\")\n                        if (shouldCheckValid) {\n                            if (fieldError[_f.name]) {\n                                context.valid = false;\n                                break;\n                            }\n                        }\n                        else {\n                            if (fieldError[_f.name]) {\n                                context.valid = false;\n                            }\n                            fieldError[_f.name]\n                                ? set(localErrors, _f.name, fieldError[_f.name])\n                                : unset(localErrors, _f.name);\n                                //Added to stop at first error\n                                //TODO: enhance as parameter \n                                // if (Object.keys(_formState.errors).length == 1) break;\n                        }\n                    }\n                }\n                val && (await validateForm(val, shouldCheckValid, context));\n            }\n        }\n        return localErrors;\n    };\n    const handleChange = async ({ type, target, target: { value, name, type: inputType }, }) => {\n        let error;\n        let isValid;\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", field, \"field from library Yasser ;) Thanks Allah :):)\");\n        if (field) {\n            let inputValue = inputType ? getFieldValue(field) : undefined;\n            inputValue = isUndefined(inputValue) ? value : inputValue;\n            // console.log(\"dyno ;)\", inputValue, \"field from library Yasser ;) inputValue :)\");\n            const isBlurEvent = type === EVENTS.BLUR;\n            const { isOnBlur: isReValidateOnBlur, isOnChange: isReValidateOnChange } = getValidationModes(formOptions.reValidateMode);\n            const shouldSkipValidation = (!hasValidation(field._f, field._f.mount) &&\n                !formOptions.resolver &&\n                !get(_formState.errors, name)) ||\n                skipValidation(Object.assign({\n                    isBlurEvent, isTouched: !!get(_formState.touchedFields, name), isSubmitted: _formState.isSubmitted, isReValidateOnBlur,\n                    isReValidateOnChange\n                }, validationMode));\n            const isWatched = !isBlurEvent && isFieldWatched(name);\n            if (!isUndefined(inputValue)) {\n                set(_formValues, name, inputValue);\n            }\n            const fieldState = updateTouchAndDirtyState(name, inputValue, isBlurEvent, false);\n            const shouldRender = field._f.watch || !isEmptyObject(fieldState) || isWatched;\n            // const shouldRender = !isEmptyObject(fieldState) || isWatched;\n            console.log(\"dyno ;)\", shouldRender,`heyyyyyyyyyyy { ${name} } watch me or not?!`,field._f.watch, \"shouldSkipValidation:\", shouldSkipValidation, \"isBlurEvent:\", isBlurEvent, '------;)---- is watching hahaha:', isWatched)\n            if (shouldSkipValidation) {\n                !isBlurEvent &&\n                    _subjects.watch.next({\n                        name,\n                        type,\n                    });\n                return (shouldRender &&\n                    _subjects.state.next(isWatched ? { name } : Object.assign(Object.assign({}, fieldState), { name })));\n            }\n            _subjects.state.next({\n                isValidating: true,\n            });\n            if (formOptions.resolver) {\n                const { errors } = await executeResolver([name]);\n                error = get(errors, name);\n                if (isCheckBoxInput(target) && !error) {\n                    const parentNodeName = getNodeParentName(name);\n                    const valError = get(errors, parentNodeName, {});\n                    valError.type && valError.message && (error = valError);\n                    if (valError || get(_formState.errors, parentNodeName)) {\n                        name = parentNodeName;\n                    }\n                }\n                isValid = isEmptyObject(errors);\n            }\n            else {\n                // console.log(field, 'edwardyasser')\n                error = (await validateField(field, get(_formValues, name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation))[name];\n            }\n            !isBlurEvent &&\n                _subjects.watch.next({\n                    name,\n                    type,\n                    values: getValues(),\n                });\n            shouldRenderBaseOnError(false, name, error, fieldState, isValid, isWatched);\n        }\n    };\n    const _updateValidAndInputValue = (name, ref, shouldSkipValueAs) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", name,ref, '_updateValidAndInputValue')\n        if (field) {\n            const fieldValue = get(_formValues, name);\n            const isValueUndefined = isUndefined(fieldValue);\n            const defaultValue = isValueUndefined\n                ? get(_defaultValues, name)\n                : fieldValue;\n            if (isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipValueAs) {\n                ref && ref.visible && //todo ;)\n                    set(_formValues, name, shouldSkipValueAs ? defaultValue : getFieldValue(field));\n            }\n            else {\n                setFieldValue(name, defaultValue);\n            }\n        }\n        _isMounted && _proxyFormState.isValid && _updateValid();\n    };\n    const _getIsDirty = (name, data) => {\n        name && data && set(_formValues, name, data);\n        return !deepEqual(Object.assign({}, getValues()), _defaultValues);\n    };\n    const _updateValid = async () => {\n        const isValid = formOptions.resolver\n            ? isEmptyObject((await executeResolver()).errors)\n            : await validateForm(_fields, true);\n        if (isValid !== _formState.isValid) {\n            _formState.isValid = isValid;\n            _subjects.state.next({\n                isValid,\n            });\n        }\n    };\n    const setValues = (name, value, options) => Object.entries(value).forEach(([fieldKey, fieldValue]) => {\n        const fieldName = `${name}.${fieldKey}`;\n        const field = get(_fields, fieldName);\n        const isFieldArray = _names.array.has(name);\n        (isFieldArray || !isPrimitive(fieldValue) || (field && !field._f)) &&\n            !isDateObject(fieldValue)\n            ? setValues(fieldName, fieldValue, options)\n            : setFieldValue(fieldName, fieldValue, options, true);\n    });\n    const _getWatch = (fieldNames, defaultValue, isGlobal) => {\n        const fieldValues = Object.assign({}, (_isMounted\n            ? Object.assign({}, Object.assign(Object.assign({}, _defaultValues), _formValues)) : isUndefined(defaultValue)\n                ? _defaultValues\n                : defaultValue));\n        if (!fieldNames) {\n            isGlobal && (_names.watchAll = true);\n            return fieldValues;\n        }\n        const resultChanges = [];\n        const result = new Map();\n        for (const fieldName of convertToArrayPayload(fieldNames)) {\n            isGlobal && _names.watch.add(fieldName);\n            resultChanges.push(get(fieldValues, fieldName));\n            result.set(fieldName, get(fieldValues, fieldName));\n        }\n        return Array.isArray(fieldNames)\n            ? [resultChanges, result]\n            : isObject(result[0])\n                ? Object.assign({}, result[0]) : Array.isArray(result[0])\n                    ? [...result[0]]\n                    : result[0];\n    };\n    const _updateFormValues = (defaultValues, name = '') => {\n        console.log(\"dyno ;)\", defaultValues, \"_updateFormValues\")\n        for (const key in defaultValues) {\n            const value = defaultValues[key];\n            const fieldName = name + (name ? '.' : '') + key;\n            const field = get(_fields, fieldName);\n            if (!field || !field._f) {\n                if (isObject(value) || Array.isArray(value)) {\n                    _updateFormValues(value, fieldName);\n                }\n                else if (!field) {\n                    set(_formValues, fieldName, value);\n                }\n            }\n        }\n    };\n    const _bathFieldArrayUpdate = (keyName, name, method, args, updatedFieldArrayValues = [], shouldSet = true, shouldSetFields = true) => {\n        _isInAction = true;\n        if (shouldSetFields && get(_fields, name)) {\n            const output = method(get(_fields, name), args.argA, args.argB);\n            shouldSet && set(_fields, name, output);\n        }\n        set(_formValues, name, updatedFieldArrayValues);\n        if (Array.isArray(get(_formState.errors, name))) {\n            const output = method(get(_formState.errors, name), args.argA, args.argB);\n            shouldSet && set(_formState.errors, name, output);\n            unsetEmptyArray(_formState.errors, name);\n        }\n        if (_proxyFormState.touchedFields && get(_formState.touchedFields, name)) {\n            const output = method(get(_formState.touchedFields, name), args.argA, args.argB);\n            shouldSet && set(_formState.touchedFields, name, output);\n            unsetEmptyArray(_formState.touchedFields, name);\n        }\n        if (_proxyFormState.dirtyFields || _proxyFormState.isDirty) {\n            set(_formState.dirtyFields, name, setFieldArrayDirtyFields(omitKey(updatedFieldArrayValues, keyName), get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n            updatedFieldArrayValues &&\n                set(_formState.dirtyFields, name, setFieldArrayDirtyFields(omitKey(updatedFieldArrayValues, keyName), get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n            unsetEmptyArray(_formState.dirtyFields, name);\n        }\n        _subjects.state.next({\n            isDirty: _getIsDirty(name, omitKey(updatedFieldArrayValues, keyName)),\n            dirtyFields: _formState.dirtyFields,\n            errors: _formState.errors,\n            isValid: _formState.isValid,\n        });\n    };\n    const _getFieldArrayValue = (name) => get(_isMounted ? _formValues : _defaultValues, name, []);\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        set(_formValues, name, value);\n        if (isFieldArray) {\n            _subjects.array.next({\n                values: value,\n                name,\n                isReset: true,\n            });\n            if ((_proxyFormState.isDirty || _proxyFormState.dirtyFields) &&\n                options.shouldDirty) {\n                set(_formState.dirtyFields, name, setFieldArrayDirtyFields(value, get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n                _subjects.state.next({\n                    name,\n                    dirtyFields: _formState.dirtyFields,\n                    isDirty: _getIsDirty(name, value),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(value)\n                ? setValues(name, value, options)\n                : setFieldValue(name, value, options, true);\n        }\n        isFieldWatched(name) && _subjects.state.next({});\n        _subjects.watch.next({\n            name,\n        });\n    };\n    const trigger = async (name, options = {}) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        _subjects.state.next({\n            isValidating: true,\n        });\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                await validateForm(_fields);\n                isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        return isValid;\n    };\n    const triggerBackground = async (name, options = {}) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        // _subjects.state.next({\n        //     isValidating: true,\n        // });\n        console.log(\"dyno ;)\", \"trigger\", _formState.errors);\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    // console.log(field, 'iamfromherein-validation-lol-edward-log-;)')\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                isValid = await validateForm(_fields, true);\n                // isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        // _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        // console.log(\"trigger99999999\", _formState.errors, \"end\", isValid);\n        return isValid;\n    };\n    const triggerBackgroundOptimised = (formId = \"ALL\") => async (list = false) => {\n        // const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        // _subjects.state.next({\n        //     isValidating: true,\n        // });\n        console.log(\"dyno ;)\",\"triggerBackgroundtriggerBackground\", _formState.errors);\n        if (formOptions.resolver) {\n            // const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            const schemaResult = await executeResolverValidation(fieldNames);\n            isValid = \n                // name\n                // ? fieldNames.every((name) => !get(schemaResult, name))\n                // :\n                isEmptyObject(schemaResult);\n        }\n        else {\n            // if (name) {\n            //     isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n            //         const field = get(_fields, fieldName);\n            //         console.log(field, 'iamfromherein-validation-lol-edward-log-;)')\n            //         return await validateForm(field._f ? { [fieldName]: field } : field);\n            //     }))).every(Boolean);\n            // }\n            // else {\n                if(list){\n                    isValid = await validateFormBackground(_fields, false,{\n                        valid: true,\n                    });\n                } else {\n                    isValid = await validateForm(_fields, true,{\n                        valid: true,\n                    }, formId);\n                }\n                \n                // isValid = isEmptyObject(_formState.errors);\n            // }\n        }\n        // _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        // if (options.shouldFocus && !isValid) {\n        //     // focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        // }\n        _proxyFormState.isValid && _updateValid();\n        // console.log(\"trigger99999999\", _formState.errors, \"end\", isValid);\n        return isValid;\n    };\n    const getValues = (fieldNames) => {\n        // console.log(_formValues, _fields, \"getValuesgetValues\")\n        const values = Object.assign(Object.assign({}, _defaultValues), _formValues);\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const clearErrors = (name) => {\n        name\n            ? convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName))\n            : (_formState.errors = {});\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        set(_formState.errors, name, Object.assign(Object.assign({}, error), { ref }));\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (fieldName, defaultValue) => isFunction(fieldName)\n        ? _subjects.watch.subscribe({\n            next: (info) => fieldName(_getWatch(undefined, defaultValue), info),\n        })\n        : _getWatch(fieldName, defaultValue, true);\n    const unregister = (name, options = {}) => {\n        for (const inputName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(inputName);\n            _names.array.delete(inputName);\n            if (get(_fields, inputName)) {\n                if (!options.keepValue) {\n                    unset(_fields, inputName);\n                    unset(_formValues, inputName);\n                }\n                !options.keepError && unset(_formState.errors, inputName);\n                !options.keepDirty && unset(_formState.dirtyFields, inputName);\n                !options.keepTouched && unset(_formState.touchedFields, inputName);\n                !formOptions.shouldUnregister &&\n                    !options.keepDefaultValue &&\n                    unset(_defaultValues, inputName);\n            }\n        }\n        _subjects.watch.next({});\n        _subjects.state.next(Object.assign(Object.assign({}, _formState), (!options.keepDirty ? {} : { isDirty: _getIsDirty() })));\n        !options.keepIsValid && _updateValid();\n    };\n    const registerFieldRef = (name, fieldRef, options) => {\n        register(name, options);\n        let field = get(_fields, name);\n        const ref = isUndefined(fieldRef.value)\n            ? fieldRef.querySelectorAll\n                ? fieldRef.querySelectorAll('input,select,textarea')[0] ||\n                fieldRef\n                : fieldRef\n            : fieldRef;\n        const isRadioOrCheckbox = isRadioOrCheckboxFunction(ref);\n        if (ref === field._f.ref ||\n            (isRadioOrCheckbox &&\n                compact(field._f.refs || []).find((option) => option === ref))) {\n            return;\n        }\n        field = {\n            _f: isRadioOrCheckbox\n                ? Object.assign(Object.assign({}, field._f), {\n                    refs: [\n                        ...compact(field._f.refs || []).filter((ref) => isHTMLElement(ref) && document.contains(ref)),\n                        ref,\n                    ], ref: { type: ref.type, name }\n                }) : Object.assign(Object.assign({}, field._f), { ref }),\n        };\n        set(_fields, name, field);\n        _updateValidAndInputValue(name, ref);\n    };\n    const register = (name, options = {}) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", \"registerRegister\", field, name, _fields)\n        set(_fields, name, {\n            _f: Object.assign(Object.assign(Object.assign({}, (field && field._f ? field._f : { ref: { name } })), { name, mount: true }), options),\n        });\n        console.log(\"dyno ;)\", Object.assign(Object.assign(Object.assign({}, (field && field._f ? field._f : { ref: { name } })), { name, mount: true }), options), \"registerRegister after\", field, name, _fields)\n        if (options.value) {\n            set(_formValues, name, options.value);\n        }\n        if (!isUndefined(options.disabled) &&\n            field &&\n            field._f &&\n            field._f.ref.disabled !== options.disabled) {\n            set(_formValues, name, options.disabled ? undefined : field._f.ref.value);\n        }\n        _names.mount.add(name);\n        !field && _updateValidAndInputValue(name, undefined, true);\n        return isWindowUndefined\n            ? { name: name }\n            : Object.assign(Object.assign({ name }, (isUndefined(options.disabled)\n                ? {}\n                : { disabled: options.disabled })), {\n                    onChange: handleChange, onBlur: handleChange, ref: (ref) => {\n                        if (ref) {\n                            registerFieldRef(name, ref, options);\n                        }\n                        else {\n                            const field = get(_fields, name, {});\n                            const _shouldUnregister = formOptions.shouldUnregister || options.shouldUnregister;\n                            if (field._f) {\n                                field._f.mount = false;\n                            }\n                            _shouldUnregister &&\n                                !(isNameInFieldArray(_names.array, name) && _isInAction) &&\n                                _names.unMount.add(name);\n                        }\n                    }\n            });\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist && e.persist();\n        }\n        let hasNoPromiseError = true;\n        let fieldValues = Object.assign({}, _formValues);\n        // console.log(\"dyno ;)\", _formValues,\"_formValues\")\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        try {\n            if (formOptions.resolver) {\n                const { errors, values } = await executeResolver();\n                _formState.errors = errors;\n                fieldValues = values;\n            }\n            else {\n                await validateForm(_fields);\n            }\n            if (isEmptyObject(_formState.errors) &&\n                Object.keys(_formState.errors).every((name) => get(fieldValues, name))) {\n                _subjects.state.next({\n                    errors: {},\n                    isSubmitting: true,\n                });\n                await onValid(fieldValues, e);\n            }\n            else {\n                onInvalid && (await onInvalid(_formState.errors, e));\n                formOptions.shouldFocusError &&\n                    focusFieldBy(_fields, (key) => get(_formState.errors, key), _names.mount);\n            }\n        }\n        catch (err) {\n            hasNoPromiseError = false;\n            throw err;\n        }\n        finally {\n            _formState.isSubmitted = true;\n            _subjects.state.next({\n                isSubmitted: true,\n                isSubmitting: false,\n                isSubmitSuccessful: isEmptyObject(_formState.errors) && hasNoPromiseError,\n                submitCount: _formState.submitCount + 1,\n                errors: _formState.errors,\n            });\n        }\n    };\n    const reset = (values, keepStateOptions = {}) => {\n        const updatedValues = values || _defaultValues;\n        if (isWeb && !keepStateOptions.keepValues) {\n            for (const name of _names.mount) {\n                const field = get(_fields, name);\n                if (field && field._f) {\n                    const inputRef = Array.isArray(field._f.refs)\n                        ? field._f.refs[0]\n                        : field._f.ref;\n                    try {\n                        isHTMLElement(inputRef) && inputRef.closest('form').reset();\n                        break;\n                    }\n                    catch (_a) { }\n                }\n            }\n        }\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = Object.assign({}, updatedValues);\n            _formValues = Object.assign({}, updatedValues);\n        }\n        if (!keepStateOptions.keepValues) {\n            _fields = {};\n            _formValues = {};\n            _subjects.control.next({\n                values: keepStateOptions.keepDefaultValues\n                    ? _defaultValues\n                    : Object.assign({}, updatedValues),\n            });\n            _subjects.watch.next({});\n            _subjects.array.next({\n                values: Object.assign({}, updatedValues),\n                isReset: true,\n            });\n        }\n        _names = {\n            mount: new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            watch: new Set(),\n            watchAll: false,\n        };\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: keepStateOptions.keepDirty\n                ? _formState.isDirty\n                : keepStateOptions.keepDefaultValues\n                    ? deepEqual(values, _defaultValues)\n                    : false,\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: keepStateOptions.keepDirty ? _formState.dirtyFields : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitting: false,\n            isSubmitSuccessful: false,\n        });\n        _isMounted = !!keepStateOptions.keepIsValid;\n    };\n    const setFocus = (name) => get(_fields, name)._f.ref.focus();\n    return {\n        control: {\n            register,\n            unregister,\n            _getIsDirty,\n            _getWatch,\n            _updateValid,\n            _updateFormValues,\n            _bathFieldArrayUpdate,\n            _getFieldArrayValue,\n            _subjects,\n            _shouldUnregister: formOptions.shouldUnregister,\n            _fields,\n            _proxyFormState,\n            get _formValues() {\n                return _formValues;\n            },\n            set _formValues(value) {\n                _formValues = value;\n            },\n            get _isMounted() {\n                return _isMounted;\n            },\n            set _isMounted(value) {\n                _isMounted = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            set _defaultValues(value) {\n                _defaultValues = value;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            _isInAction: {\n                get val() {\n                    return _isInAction;\n                },\n                set val(value) {\n                    _isInAction = value;\n                },\n            },\n            _formState: {\n                get val() {\n                    return _formState;\n                },\n                set val(value) {\n                    _formState = value;\n                },\n            },\n            _updateProps: (options) => {\n                formOptions = Object.assign(Object.assign({}, defaultOptions), options);\n            },\n        },\n        trigger,\n        triggerBackground,\n        triggerBackgroundOptimised,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n    };\n}\n","import * as React from 'react';\nimport { createFormControl } from './logic/createFormControl';\nimport { createFormControlV4 } from './logic/createFormControlV4';\nimport getProxyFormState from './logic/getProxyFormState';\nimport shouldRenderFormState from './logic/shouldRenderFormState';\nimport get from './utils/get';\nimport live from './utils/live';\nimport set from './utils/set';\nexport function useForm(props = {}) {\n    const _formControl = React.useRef();\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        dirtyFields: {},\n        isSubmitted: false,\n        submitCount: 0,\n        touchedFields: {},\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        errors: {},\n    });\n    if (_formControl.current) {\n        _formControl.current.control._updateProps(props);\n    }\n    else {\n        _formControl.current = Object.assign(Object.assign({}, createFormControlV4(props)), { formState });\n    }\n    const control = _formControl.current.control;\n    React.useEffect(() => {\n        const formStateSubscription = control._subjects.state.subscribe({\n            next(formState) {\n                // console.log(\"dyno ;)\", \"##1\", formState,control._proxyFormState)\n                if (shouldRenderFormState(formState, control._proxyFormState, true)) {\n                    control._formState.val = Object.assign(Object.assign({}, control._formState.val), formState);\n                    updateFormState(Object.assign({}, control._formState.val));\n                }\n            },\n        });\n        const useFieldArraySubscription = control._subjects.array.subscribe({\n            next(state) {\n                if (state.values && state.name && control._proxyFormState.isValid) {\n                    set(control._formValues, state.name, state.values);\n                    control._updateValid();\n                }\n            },\n        });\n        return () => {\n            formStateSubscription.unsubscribe();\n            useFieldArraySubscription.unsubscribe();\n        };\n    }, [control]);\n    React.useEffect(() => {\n        const unregisterFieldNames = [];\n        if (!control._isMounted) {\n            control._isMounted = true;\n            control._proxyFormState.isValid && control._updateValid();\n            !props.shouldUnregister &&\n                control._updateFormValues(control._defaultValues);\n        }\n        for (const name of control._names.unMount) {\n            const field = get(control._fields, name);\n            field &&\n                (field._f.refs ? field._f.refs.every(live) : live(field._f.ref)) &&\n                unregisterFieldNames.push(name);\n        }\n        console.log(\"dyno ;)\", unregisterFieldNames,'unregisterFieldNames',control._names,control)\n        unregisterFieldNames.length &&\n            _formControl.current.unregister(unregisterFieldNames);\n        control._names.unMount = new Set();\n    });\n    _formControl.current.formState = getProxyFormState(formState, control._proxyFormState);\n    return _formControl.current;\n}","import React, { useCallback, useEffect, useState, useRef } from 'react'\n\nimport {\n    useWatch\n} from \"../useWatch\"\nimport {\n    useFieldArray\n} from \"../useFieldArray\"\nimport {\n    FormProvider,\n    useFormContext\n} from \"../useFormContext\"\nimport {\n    useForm\n} from \"../useFormV1\"\nimport {\n    Controller\n} from \"../controller\"\n\nimport _ from 'lodash'\n// import deepEqual from \"../utils/deepEqual\"\nimport deepEqual from \"../utils/deepEqual\"\nimport { defaultValidationResolver } from \"../utils/defaultValidationResolver\"\nimport { dataTransformer as defaultDataTransformer } from '../middleware/dataTransformer'\n// import { defaultValidationResolver } from \"../dynamo/utils/defaultValidationResolver\"\n\nconst renderComponentInd = (name, data, { updateReference,\n    myComponents,\n    getValues,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    undefined,\n    sharedItems,\n    index,\n    parent,\n    givenName = undefined,\n    dataTransformer\n}\n) => {\n\n    const selectedComponent = { ...data[name], givenName };\n    // Add givenName here ;)\n    // selectedComponent.givenName = givenName;\n\n\n    if (selectedComponent === undefined) return null;\n    // if (proxyItem === undefined) return null;\n\n    //proxy here ;)\n    const proxyHandler = {\n        get(target, prop, receiver) {\n            if (typeof target[prop] === \"object\" && target[prop] !== null) {\n                console.log(\"dyno ;)\", target[prop], \"proxyHanlerrrrrrrr me ;)\");\n                return new Proxy(target[prop], proxyHandler);\n            }\n            return dataTransformer(target[prop], prop, target)({\n                ...sharedItems.localFunction,\n                sharedItems: sharedItems,\n                // ...sharedItems\n            });\n        }\n    };\n\n    const proxyItem = new Proxy({\n        ...selectedComponent,\n        sharedItems: sharedItems\n    }, proxyHandler);\n    // debugger;\n    // if (selectedComponent?.visible === false) return null\n    // name === \"howAreYouThen\" && console.log(proxyItem?.visible, 'Vaaaaala Result proxyItem?.visible', name, proxyItem?.visible === false)\n    if (proxyItem?.visible === false) return null\n\n    return renderComponentForm(\n        proxyItem,\n        updateReference,\n        myComponents,\n        getValues,\n        { ...errors },\n        ControlledComponents,\n        components,\n        managedCallback,\n        undefined,\n        sharedItems,\n        index,\n        data,\n        parent,\n        dataTransformer\n    )\n}\n\nconst renderComponentForm = (\n    item,\n    updateReference,\n    myControl,\n    getValue,\n    errorss,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    index,\n    data,\n    parent,\n    dataTransformer\n) => {\n    console.log(\"dyno ;)\", errorss, 'dataerrors')\n    //console.time('renderFormmm')\n    // const r = data\n    //     .filter((element) => element.visible)\n    //     .map((item, index) => {\n    //         // console.log(\"dyno ;)\", item, \"ittttem\")\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground\n    } = sharedItems\n\n    // if (!item.visible) return null\n    const name = parentName && `${parentName}.${item.name}` || item.givenName && item.givenName || item.name\n\n    let result = null\n    let child = []\n    if (item.items) {\n        child = item.items.map((name, idx) => renderComponentInd(name, data, {\n            updateReference,\n            myControl,\n            getValue,\n            errors,\n            ControlledComponents,\n            components,\n            managedCallback,\n            parentName: item?.items && name || undefined,\n            sharedItems,\n            index: idx,\n            data,\n            parent: { name: item.name, index, id: item.id },\n            itemName: name,\n            dataTransformer\n        }))\n\n        // renderComponentForm(\n        //     item.items,\n        //     updateReference,\n        //     myControl,\n        //     getValue,\n        //     errors,\n        //     ControlledComponents,\n        //     components,\n        //     managedCallback,\n        //     item?.items && name || undefined,\n        //     sharedItems,\n        //     setValue\n        // )\n    }\n\n    const validation = {\n        maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n        minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n        max: item.max && item.max.value !== \"\" && item.max || undefined,\n        min: item.min && item.min.value !== \"\" && item.min || undefined,\n        pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n        required: item.required && item.required.value !== \"\" && item.required || undefined\n    }\n\n    const { validate = {} } = item?.rule || { validate: {} };\n\n    if (item?.rule) {\n        console.log(\"dyno ;)\", validate, 'validate[', sharedItems?.localFunction)\n        Object.keys(validate).forEach(key => {\n            if (typeof validate[key] === \"function\") return;\n            validate[key] = sharedItems?.localFunction[key](validate[key])({ ...sharedItems, getItem: () => item });\n            console.log(\"dyno ;)\", validate, 'validate[ within', validate[key])\n        });\n        console.log(\"dyno ;)\", validate, 'validate[ after')\n    }\n\n\n    // let rule = _.cloneDeep(item?.rule || {});\n    // debugger;\n    // rule.pattern?.value = new RegExp(item.rule?.pattern?.value);\n\n    result = (\n        <Controller\n            key={item.isArray === true && `${name}container` || name}\n            name={item.isArray === true && `${name}container` || name}\n            control={control}\n            item={item}\n            rules={{ ...item.rule } || validation}\n            // eventBus={sharedItems?.eventBus}\n            render={({ field }) => {\n\n                if (item.isArray) {\n                    console.log(\"dyno ;)\", name, item.items, \"useFieldArray\")\n                    const { fields, append, remove } = useFieldArray({\n                        control,\n                        name: name\n                    });\n\n                    child =\n                        <div>\n                            <ul>\n                                {fields.map((el, index) => (\n                                    <li key={el.id}>\n                                        {item.items.map((element, indx) => (\n                                            <Controller\n                                                key={`${name}.${index}.${data[element].name}`}\n                                                name={`${name}.${index}.${data[element].name}`}\n                                                control={control}\n                                                render={({ field }) => {\n                                                    console.log(\"dyno ;)\", `${name}.${index}.${element}`, '`${name}.${index}.${element}`')\n                                                    return renderComponentInd(element, data, {\n                                                        updateReference,\n                                                        myControl,\n                                                        getValue,\n                                                        errors,\n                                                        ControlledComponents,\n                                                        components,\n                                                        managedCallback,\n                                                        parentName: item?.items && name || undefined,\n                                                        sharedItems,\n                                                        index: index,\n                                                        data,\n                                                        parent: { name: item.name, index, id: item.id },\n                                                        givenName: `${name}.${index}.${data[element].name}`,\n                                                        dataTransformer\n                                                    })\n\n                                                    const Component = components(element.type, {\n                                                        field,\n                                                        item: element,\n                                                        name: `${name}.${index}.${element.name}`,\n                                                        indx,\n                                                        managedCallback,\n                                                        child,\n                                                        useFieldArray\n                                                    })\n                                                    return Component\n                                                }}\n                                            />\n                                        ))}\n                                        <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                    </li>\n                                ))}\n\n                            </ul>\n                            {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                            {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                            <button\n                                type=\"button\"\n                                // onClick={() => append({ \"actionURL\": \"\" })}\n                                onClick={() => append({})}\n\n                            >\n                                +\n                            </button>\n                        </div>\n                }\n\n                // //proxy here ;)\n                // const proxyHandler = {\n                //     get(target, prop, receiver) {\n                //         if (typeof target[prop] === \"object\" && target[prop] !== null) {\n                //             console.log(\"dyno ;)\", target[prop], \"proxyHanlerrrrrrrr me ;)\");\n                //             return new Proxy(target[prop], proxyHandler);\n                //         }\n                //         return dataTransformer(target[prop], prop, target)({\n                //             ...sharedItems.localFunction,\n                //             sharedItems: sharedItems,\n                //             // ...sharedItems\n                //         });\n                //     }\n                // };\n\n                // const proxyItem = new Proxy({\n                //     ...item,\n                //     sharedItems: sharedItems\n                // }, proxyHandler);\n\n\n                //end of proxy\n\n\n                const Component = components(item.type, {\n                    field,\n                    // item: proxyItem,//item,\n                    item,\n                    name,\n                    index,\n                    managedCallback,\n                    child,\n                    useFieldArray,\n                    error: errors,\n                    sharedItems,\n                    parent\n                })\n\n                return Component\n            }}\n\n        />\n    )\n\n    //     return result\n    // })\n    //console.timeEnd('renderFormmm')\n    return result\n}\n\nconst renderForm = (\n    data,\n    updateReference,\n    myControl,\n    getValue,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    setValue\n) => {\n    console.log(\"dyno ;)\", errors, 'dataerrors')\n    //console.time('renderFormmm')\n    const r = data\n        .filter((element) => element.visible)\n        .map((item, index) => {\n            // console.log(\"dyno ;)\", item, \"ittttem\")\n\n            const {\n                register,\n                handleSubmit,\n                watch,\n                errors,\n                control,\n                trigger,\n                setFocus,\n                getValues,\n                setValue,\n                useFieldArray,\n                useWatch,\n                triggerBackground\n            } = sharedItems\n\n            // if (!item.visible) return null\n            const name = parentName && `${parentName}.${item.name}` || item.name\n\n            let result = null\n            let child = []\n            if (item.items) {\n                child = renderForm(\n                    item.items,\n                    updateReference,\n                    myControl,\n                    getValue,\n                    errors,\n                    ControlledComponents,\n                    components,\n                    managedCallback,\n                    item?.items && name || undefined,\n                    sharedItems,\n                    setValue\n                )\n            }\n\n            const validation = {\n                maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n                minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n                max: item.max && item.max.value !== \"\" && item.max || undefined,\n                min: item.min && item.min.value !== \"\" && item.min || undefined,\n                pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n                required: item.required && item.required.value !== \"\" && item.required || undefined\n            }\n            // console.log(\"dyno ;)\", \"validationValidation\", validation)\n\n            // if (!item.visible) return null\n\n            // const name = parentName && `${parentName}.0.${item.name}` || item.name\n            // console.log(\"dyno ;)\", name, \"namename\")\n            result = (\n                <Controller\n                    key={item.isArray === true && `${name}container` || name}\n                    name={item.isArray === true && `${name}container` || name}\n                    control={control}\n                    item={item}\n                    rules={item.rule || validation}\n                    // eventBus={sharedItems?.eventBus}\n                    render={({ field }) => {\n\n                        if (item.isArray) {\n                            // console.log(\"dyno ;)\", name, \"useFieldArray\")\n                            const { fields, append, remove } = useFieldArray({\n                                control,\n                                name: name\n                            });\n\n                            // const myaCondition = useWatch({\n                            //     control,\n                            //     name: 'textbox-0.test.0.firstName', // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                            //     defaultValue: undefined // default value before the render\n                            // });\n                            // console.log(\"dyno ;)\", myaCondition, \"myaCondition\", getValue(\"textbox-3\"))\n                            child =\n                                <div>\n                                    {/* <>\n                                        {`${item.name}`}\n                                        <br />\n                                        <input {...field} />\n                                        {errors && errors[item.name] && `${item.name} errororrr`}\n                                        {child && child}\n                                        <br />\n                                        <br />\n                                        <br />\n                                    </> */}\n                                    <ul>\n                                        {fields.map((el, index) => (\n                                            <li key={el.id}>\n                                                {item.items.map((element, indx) => (\n                                                    <Controller\n                                                        name={`${name}.${index}.${element.name}`}\n                                                        control={control}\n                                                        render={({ field }) => {\n                                                            const Component = components(element.type, {\n                                                                field,\n                                                                item: element,\n                                                                name: `${name}.${index}.${element.name}`,\n                                                                indx,\n                                                                managedCallback,\n                                                                child,\n                                                                useFieldArray\n                                                            })\n                                                            return Component\n                                                        }}\n                                                    />\n                                                ))}\n                                                <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                            </li>\n                                        ))}\n\n                                    </ul>\n                                    {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                                    {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                                    <button\n                                        type=\"button\"\n                                        // onClick={() => append({ \"actionURL\": \"\" })}\n                                        onClick={() => append({})}\n\n                                    >\n                                        +\n                                    </button>\n                                </div>\n\n                        }\n\n                        const Component = components(item.type, {\n                            field,\n                            item,\n                            name,\n                            index,\n                            managedCallback,\n                            child,\n                            useFieldArray,\n                            error: errors,\n                            sharedItems\n                        })\n\n                        return Component\n                    }}\n\n                />\n            )\n\n            return result\n        })\n    //console.timeEnd('renderFormmm')\n    return r\n}\n\n// where is item\n// need 1st render recursive\n// -> DFS & flat => ref for each field\n// preCondition -> array(store) - flat, value -> set?\n// leftIconA => 7\n// _.set({}, \"b.c.d\")\n\nconst convertIdToRef = (array, key, name, parent, isArray) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        const itemName = isArray === undefined && item[key] || `${parent}.0.${item[key]}`\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent, itemName, isArray)\n\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [itemName]: {\n                ...item,\n                name: itemName,\n                refId,\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key], item.isArray)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst resetItems = (array, key, name, parent) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent)\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: {\n                ...item,\n                refId,\n                value: \"\",\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key])),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst convertIdToRefV2 = (array, key, name) => {\n    // const initialValue = {};\n    const initialValue = new Map()\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, \"convertIdToRefconvertIdToRef\", item)\n        const refId = (name && `${name}.items[${currentIndex}]`) || item[key] // `[${currentIndex}]`;\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: { ...item, refId },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst prepareWtchingComponents = (items, key) => {\n    // const initialValue = {};\n    // //console.time('prepareWtchingComponents')\n    const initialValue = new Map()\n\n    Object.keys(items).forEach((key) => {\n        if (items[key].watch) {\n            initialValue.set(items[key].name);//POC only\n        }\n        if (items[key].preCondition) {\n            const preConditionObj = convertArrayToObject(items[key].preCondition, 'value')\n\n            // const thisShitIsBananas = items[key].preCondition.reduce((accumulator, fruit) => {\n            //     return accumulator.concat(fruit.value);\n            // }, []);\n            // console.log(\"dyno ;)\", items[key], \"prepareWtchingComponents\", Object.values(preConditionObj), '----===----', preConditionObj)\n            const keys = Object.keys(preConditionObj)\n            for (let index = 0; index < keys.length; index++) {\n                const internalItem = preConditionObj[keys[index]]\n                console.log(\"dyno ;)\", items[key], 'items[key]')\n                initialValue.set(internalItem.name, [\n                    ...((initialValue.get(internalItem.name) && initialValue.get(internalItem.name)) || []),\n                    { refId: items[key].id, ...internalItem },\n                ])\n            }\n            // keys.forEach( e => {\n            //     // initialValue[preConditionObj[e].name] = [\n            //     //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     //     ...(initialValue[preConditionObj[e].name] && initialValue[preConditionObj[e].name] || []),\n            //     //     // {refId: items[key].refId, ...preConditionObj  }\n            //     //     {refId: items[key].refId, ...preConditionObj[e] }\n            //     // ];\n            //     initialValue.set(preConditionObj[e].name, [\n            //         // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //         ...(initialValue.get(preConditionObj[e].name) && initialValue.get(preConditionObj[e].name) || []),\n            //         // {refId: items[key].refId, ...preConditionObj  }\n            //         {refId: items[key].refId, ...preConditionObj[e] }\n            //     ]);\n            //     // console.log(\"dyno ;)\", thisShitIsBananas, \"prepareWtchingComponentsYY ---->\", initialValue.get(preConditionObj[e].name),initialValue)\n\n            // })\n\n            // initialValue[preConditionObj.name] = [\n            // initialValue[items[key].preCondition.name] = [\n            //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     ...(initialValue[items[key].preCondition.name] && initialValue[items[key].preCondition.name] || []),\n            //     // {refId: items[key].refId, ...preConditionObj  }\n            //     {refId: items[key].refId, ...items[key].preCondition }\n            // ];\n        }\n    })\n    //console.timeEnd('prepareWtchingComponents')\n    return initialValue\n}\n\nconst convertArrayToObject = (array, key, value) => {\n    const initialValue = {}\n    if (!Array.isArray(array)) return\n    const givenArray = array.concat()\n    return givenArray.reduce((obj, item) => {\n        return {\n            ...obj,\n            [item[key]]: (value && item[value]) || (value === undefined && item) || '',\n        }\n    }, initialValue)\n}\n\nconst convertArrayToObjectPOC = (array, key, value, isParent, original) => {\n    // //console.time(\"convertArrayToObjectPOC\")\n    const initialValue = {}\n    const givenArray =\n        (isParent && array.concat()) || array.filter((el) => el.parent === undefined).concat()\n\n    const result = givenArray.reduce((obj, item) => {\n        // console.log(\"dyno ;)\", item, obj, \"reducereduce\", item[key], original[[item[key]]][value], original)\n\n        return {\n            ...obj,\n            [item[key]]:\n                (item.items && convertArrayToObjectPOC(item.items, key, 'value', true, original)) ||\n                (isParent && original[[item[key]]][value]) ||\n                (value && item[value]) ||\n                (value === undefined && item) ||\n                '',\n        }\n    }, initialValue)\n    // //console.timeEnd(\"convertArrayToObjectPOC\")\n    return result\n}\n\nlet renderCount = 0\nconst FormBuilderNext = React.forwardRef(({ items,\n    validationResolver,\n    // = defaultValidationResolver,\n    ControlledComponents,\n    components,\n    managedCallback,\n    localFunction,\n    shouldUnregister = true,\n    defaultValues = {},\n    devMode = false,\n    dataTransformer = defaultDataTransformer,\n    dataStore\n    // eventBus\n}, ref) => {\n\n    if (!devMode) {\n        console.log = (function () {\n            const log = console.log;\n\n            return function () {\n                const args = Array.from(arguments);\n                if (!args.includes(\"dyno ;)\")) {\n                    log.apply(console, args);\n                }\n            }\n        })();\n    }\n\n    //proxy here ;)\n    const proxyHandler = {\n        get(target, prop, receiver) {\n            if (typeof target[prop] === \"object\" && target[prop] !== null) {\n                console.log(\"dyno ;)\", target[prop], \"dddproxyHanlerrrrrrrr me ;)\");\n                return new Proxy(target[prop], proxyHandler);\n            }\n            return dataTransformer(target[prop], prop, target)({\n                ...localFunction,\n                sharedItems: { dataStore },\n                // ...sharedItems\n            });\n        }\n    };\n\n    const proxyDefaultValues = new Proxy({\n        ...defaultValues\n    }, proxyHandler);\n\n    console.log(\"dyno ;)\", defaultValues, \"defaultValues\", {...proxyDefaultValues}, dataStore, proxyDefaultValues.whatsMyName)\n\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        formState: { errors, isDirty, isValid },\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        triggerBackground,\n        triggerBackgroundOptimised,\n        unregister,\n        clearErrors,\n        reset\n    } = useForm({\n        mode: 'onChange',\n        shouldUnregister: true,\n        reValidateMode: 'onChange',\n        // resolver: async (data, context) => {\n        //     const { error, value: values } = validationSchema.validate(data, {\n        //         abortEarly: false,\n        //     });\n\n        //     if (!error) return { values: values, errors: {} };\n\n        //     return {\n        //         values: {},\n        //         errors: error.details.reduce(\n        //             (previous, currentError) => ({\n        //                 ...previous,\n        //                 [currentError.path[0]]: currentError,\n        //             }),\n        //             {},\n        //         ),\n        //     };\n        // },,\n        // criteriaMode: \"firstError\",\n        defaultValues: {...proxyDefaultValues}\n    })\n\n    React.useEffect(() => {\n        reset({ ...proxyDefaultValues })\n    }, [defaultValues]);\n\n    // Shared Items\n    const sharedItems = {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground,\n        triggerBackgroundOptimised,\n        unregister,\n        localFunction: {\n            ...localFunction,\n            reset: reset,\n            triggerBackground: () => !_.isEmpty(errors),\n            getValues,\n            triggerBackgroundOptimised: (formId) => {\n                // console.log(triggerBackground(), 'triggerSyncBackground()')\n                const result = triggerBackgroundOptimised(formId)().then(r => r);\n                console.log('yasssss', result)\n                return result;\n            },\n            triggerGroup: async (resources) => {\n                const localErrors = await triggerBackgroundOptimised()(true);\n                // if (!isValid) return true;\n\n                // console.log(resources, errors, 'triggerreggirt',\n                //     isDirty,\n                //     '---=====----',\n                //     isValid,\n                //     localErrors\n                // )\n                let result = true;\n                for (let i = 0; i < resources.length; i++) {\n                    const item = resources[i];\n                    const isItemExist = localErrors[item];\n                    if (isItemExist) {\n                        // console.log(item, '------>', 'triggerreggirt', errors[item], 'found', result)\n                        result = false;\n                        break;\n                    }\n                }\n                // console.log('triggerreggirt ', result)\n                return result;\n            },\n        },\n        dataStore,\n        // eventBus,\n        clearErrors\n    }\n    // console.log(\"dyno ;)\", typeof errors, 'hereeeeeeeeeerroooooors')\n\n    const myComponents = React.useRef()\n    // const errors = React.useRef({})\n    const watchingComponents = React.useRef()\n    const preConditionItems = React.useRef()\n\n\n    const [data, setData] = useState()\n\n    React.useEffect(() => {\n        if (items === undefined) return\n\n        // if(items !== data && data !== undefined){\n        //     for (const [key, value] of Object.entries(data)) {\n        //         unregister(value?.name);\n        //     }\n        // }\n\n\n        //console.time('convertIdToRefffff')\n        myComponents.current = items; // convertIdToRef(items, 'name')\n        //console.timeEnd('convertIdToRefffff')\n        watchingComponents.current = prepareWtchingComponents(myComponents.current)\n        console.log(\"dyno ;)\", myComponents, 'myComponentsmyComponents')\n        console.log(\"dyno ;)\", watchingComponents, 'prepareWtchingComponents', [...watchingComponents.current.keys()])\n\n        const subscription = watch(async (value, { name, type }) => {\n            //  For watch items\n            //  Re-render watch items\n\n\n            // has better than get ;)\n            // if (watchingComponents.current.get(name)) {\n            if (watchingComponents.current.get(name)) {\n                const allValues = Object.assign(value, dataStore);\n                console.log(\"dyno ;)\", \"origincheckPreCondition ;) checkPreCondition\", value, name, type, data, items)\n                // const [a, b] = await checkPreCondition(name, value[name], items);\n                const [a, b] = await checkPreCondition(name, allValues[name], items);\n\n                if (!deepEqual(data, b) && a) {\n                    setData({ ...b });\n                    return;\n                }\n            } else if (watchingComponents.current.has(name)) {\n                console.log(\"dyno ;)\", watchingComponents.current.has(name), \"before checkPreCondition ;) checkPreCondition\", value, name, type, { data }, items)\n                setData({ ...items });\n                return;\n            }\n        });\n\n        setData(items)\n    }, [items])\n\n    const getValue = (name) => {\n        return myComponents.current[name].value\n    }\n\n    const resetValues = () => {\n        myComponents.current = resetItems(items, 'name');\n        setData(items);\n    }\n\n    const onSubmit = (data) => {\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM\", data)\n        return data;\n    }\n\n    const getValuesBackground = async () => {\n        //TODO: hot fix for double validations\n        if (Object.keys(errors).length > 0) return false;\n        const result = await triggerBackgroundOptimised()(true) //trigger();\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n        if (_.isEmpty(result)) {\n            return await getValues();\n        } else {\n            return false;\n        }\n    }\n\n    const getValuesPOC = async () => {\n        //TODO: hot fix for double validations\n        if (Object.keys(errors).length > 0) return false;\n        const result = await trigger();\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n        if (result === true) {\n            return await getValues();\n        } else {\n            return false;\n        }\n    }\n\n    const getValuesWithoutValidation = async () => {\n        return await getValues();\n    }\n\n    ref.current = {\n        getValuesByGroup: async (props) => {\n            const valid = await sharedItems.localFunction.triggerGroup(props);\n            if (valid) {\n                const result = await getValues();\n                return result;\n            }\n            return valid;\n\n        },\n        getValues: getValuesPOC,\n        getGroupValuesBackground: async (props) => {\n            console.log(props, 'getValuesBackgroundgetValuesBackgroundgetValuesBackground')\n            if (Array.isArray(props)) {\n                const valid = await sharedItems.localFunction.triggerGroup(props);\n                if (valid) {\n                    const result = await getValues();\n                    return result;\n                }\n                return valid;\n            }\n            return getValuesPOC();\n        },\n        getValuesBackground: async (validation = true) => {\n            if (validation) {\n                if (Object.keys(errors).length > 0) return false;\n                const result = await triggerBackgroundOptimised()(true);\n                console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n                if (_.isEmpty(result)) {\n                    return await getValues();\n                } else {\n                    return false;\n                }\n            }\n            const result = await getValues();\n            return result;\n        },\n        resetValues: resetValues,\n        setValue: setValue,\n        errors: errors,\n        reset,\n        clearErrors,\n        localFunction: sharedItems.localFunction\n    }\n\n    const validationOnce = async (name, value, result) => {\n        //console.time('validationssss')\n        const validatedItem = myComponents.current[name];\n        let n = result\n        const originalErrors = { ...errors.current } || {}\n        const newErrors = errors.current || {}\n\n        let error = false\n\n        // if (item && item.visible) {\n        if (value !== '') {\n            const error = value === '313'\n            if (error) {\n                newErrors[name] = {\n                    error,\n                    errorMsg: validatedItem.errorMsg && validatedItem.errorMsg || '313 cant be here.',\n                }\n            } else {\n                delete newErrors[name]\n            }\n            // n = _.set({ a: n }, `a${item.refId}.error`, error).a;\n            // console.log(\"dyno ;)\", \"error\", n, error, value)\n        } else {\n            delete newErrors[name]\n        }\n        // }\n\n        errors.current = { ...newErrors } // {...errors.current ,...newErrors};\n        // console.log(\"dyno ;)\", \"errorolo\", errors.current, originalErrors, _.isEqual(originalErrors, newErrors))\n        console.log(\"dyno ;)\", errors, \"errrrrrrrrr\", newErrors,)\n        if (error.current !== originalErrors) {\n        }\n\n        // setData([...n])\n\n        // setData([...n])\n        // Object.values(newC).forEach(element => {\n        //     if(element.value){\n        //         element[\"error\"] = true;\n        //         error = element.value !== \"313\";\n        //     }\n        // });\n        // error && pubsub.publish('textbox-3', {error: Date.now()});\n\n        //console.timeEnd('validationssss')\n        return [!_.isEqual(originalErrors, newErrors), [...n], newErrors[name]]\n    }\n\n    const updateReference = async (value, name) => {\n\n        //console.time('myComponentsFind')\n        myComponents.current[name].value = value\n        //console.timeEnd('myComponentsFind')\n\n        console.log(\"dyno ;)\", myComponents.current, 'getValues', await getValuesPOC())\n\n        //console.time('iam here')\n        const [hasValidationChanged, result, error] = await validationOnce(name, value, { ...data })\n        const [hasPreconditionChanged, preResult] = await checkPreCondition(name, value, data)\n        // console.log(\"dyno ;)\", error, \"asyncValidation\", result, hasValidationChanged)\n\n        if (hasValidationChanged === true || hasPreconditionChanged === true) {\n            // if (hasPreconditionChanged === true) {\n\n            console.log(\"dyno ;)\",\n                'lololololololololololoolol',\n                hasValidationChanged,\n                hasPreconditionChanged,\n                errors,\n            )\n            setData({ ...preResult })\n        }\n\n        // console.log(\"dyno ;)\", \"getValues\", await getValues())\n        //console.timeEnd('iam here')\n        // return [value, error]\n    }\n\n    const checkPreCondition = async (name, value, result) => {\n        // const hasCondition = watchingComponents.current[name];\n        const hasCondition = watchingComponents.current.get(name)\n\n        console.log(\"dyno ;)\", data, \"checkPreConditionInside\", name, myComponents.current, hasCondition, watchingComponents.current);\n\n        // TODO: ;)\n        // how to update the Array\n        // OR update and don't iterate the Object\n        // _.set({ a: myComponents.current }, \"a.textbox-2.items[0].value\", \"leila\")\n        // let n = _.cloneDeep(result);\n        let n = { ...result }\n\n        let updated = false\n\n        if (hasCondition !== undefined) {\n            // for(let i = 0; i < hasCondition.length; i++){\n            //     const touched = item.value == value;\n            //         console.log(\"dyno ;)\", \"hashas\", _.get({a:n},`a${item.refId}.visible` ))\n            //         n = _.set({ a: n }, `a${item.refId}.visible`, touched).a;\n\n            // }\n\n            await hasCondition.map(async (item) => {\n                const realValue = value && value[\"value\"] || value;\n                const touched = item?.type && (await validationResolver[item.type](item, realValue)) // || validationResolver[\"eq\"](item,value); //value !== \"\" && item.value.includes(value) || false;\n                // if(touched){\n                // debugger\n                // if (n[item.refId] && n[item.refId].visible !== touched) {\n                //     n[item.refId].visible = touched;\n                //     updated = true\n                // }\n                const i = n[item.refId];\n                console.log(\"dyno ;)\", n[\"accountNo\"], \"accountNoaccountNo\", '-----', i)\n                if (i !== undefined && i.visible !== touched) {\n                    n[item.refId].visible = touched;\n                    updated = true\n                }\n                // if (_.get({ a: n }, `a${item.refId}.visible`) !== touched) { //touched\n                //     // myComponents.current[item.name].visible = touched;\n                //     n = _.set({ a: n }, `a${item.refId}.visible`, touched).a\n                //     updated = true\n                //     console.log(\"dyno ;)\", \n                //         'hashas',\n                //         await _.get({ a: n }, `a${item.refId}.visible`),\n                //         await touched,\n                //         hasCondition,\n                //         updated,\n                //     )\n                // }\n\n                // }\n            })\n        }\n        return [updated, n]\n        return [updated, { ...n }]\n    }\n\n    console.log(\"dyno ;)\", 'renderCount', renderCount++)\n\n    return (\n        (data && data.root?.items?.map((name, index) => renderComponentInd(name, data, {\n            updateReference,\n            myComponents,\n            getValues,\n            errors,\n            ControlledComponents,\n            components,\n            managedCallback,\n            undefined,\n            sharedItems,\n            index,\n            dataTransformer\n        })\n        )) || null\n    )\n\n\n    return (\n        (data &&\n            renderForm(\n                data,\n                updateReference,\n                myComponents,\n                getValues,\n                { ...errors },\n                ControlledComponents,\n                components,\n                managedCallback,\n                undefined,\n                sharedItems,\n                setValue\n            ))\n        ||\n        null\n    )\n});\n\nFormBuilderNext.whyDidYouRender = true\nFormBuilderNext.displayName = \"FormBuilderNext\"\n\nexport default FormBuilderNext\n"],"names":["element","type","data","Date","value","isObjectType","isNullOrUndefined","Array","isArray","isDateObject","event","isObject","target","isCheckBoxInput","checked","name","substring","search","names","concat","some","current","getNodeParentName","filter","Boolean","val","undefined","obj","path","defaultValue","result","compact","split","reduce","key","isUndefined","EVENTS","BLUR","CHANGE","VALIDATION_MODE","onBlur","onChange","onSubmit","onTouched","all","INPUT_VALIDATION_RULES","max","min","maxLength","minLength","pattern","required","validate","source","copy","Object","assign","FormContext","React","displayName","useFormContext","FormProvider","props","Provider","omit","children","formState","_proxyFormState","localProxyFormState","isRoot","createGetter","prop","defineProperty","get","keys","length","formStateData","isEmptyObject","find","useFormState","methods","_ref","_ref$control","control","disabled","visible","nameRef","_React$useState","_formState","updateFormState","_localProxyFormState","isDirty","dirtyFields","touchedFields","isValidating","isValid","errors","formStateSubscription","_subjects","state","subscribe","next","convertToArrayPayload","includes","shouldRenderFormState","unsubscribe","getProxyFormState","useController","_props$control","shouldUnregister","item","console","log","_formValues","_defaultValues","setInputStateValue","registerProps","register","_extends","rules","updateMounted","field","_fields","_f","mount","controllerSubscription","values","_shouldUnregisterField","_shouldUnregister","isNameInFieldArray","_names","array","_isInAction","unregister","getControllerValue","ref","elm","focus","setCustomValidity","message","reportValidity","fieldState","invalid","isTouched","error","Controller","render","validateAllFieldCriteria","_Object$assign","types","test","input","replace","set","object","index","tempPath","isKey","stringToPath","lastIndex","newValue","objValue","isNaN","focusFieldBy","fields","callback","fieldsNames","_iterator","_createForOfIteratorHelperLoose","_step","done","refs","options","shouldFocus","focusName","focusIndex","d","performance","now","c","r","Math","random","toString","keyName","map","generateId","append","fill","insert","slice","from","to","splice","prepend","removeAtIndexes","indexes","i","temp","sort","a","b","indexA","indexB","baseGet","updatePath","unset","childObject","previousObjRef","k","objectRef","currentPaths","currentPathsLength","isBoolean","fieldValues","useFieldArray","_props$keyName","_focusName","mapIds","_getFieldArrayValue","setFields","add","appendValue","updatedFieldArrayValues","appendAt","_bathFieldArrayUpdate","argA","fillEmptyArray","getFocusFieldName","prependAt","remove","removeArrayAt","insertAt","argB","swap","swapArrayAt","move","moveArrayAt","update","updateAt","watchAll","watch","watchField","startsWith","omitKey","_updateValid","fieldArraySubscription","payload","isReset","fieldArrayValues","wait","timer","_len","arguments","args","_key","clearTimeout","window","setTimeout","apply","deepEqual","object1","object2","isPrimitive","keys1","keys2","_i","_keys","val1","val2","mode","isOnSubmit","isOnBlur","isOnChange","isOnAll","isOnTouch","HTMLElement","isRadioInput","document","Subscription","tearDowns","_proto","prototype","tearDown","push","teardown","Subscriber","observer","subscription","_this","closed","_proto2","Subject","observers","_proto3","_iterator2","_step2","subscriber","defaultResult","validResult","option","attributes","valueAsNumber","valueAsDate","setValueAs","NaN","selected","_ref2","defaultReturn","previous","getFieldValue","isFileInput","files","getRadioValue","isMultipleSelect","getMultipleSelectValue","isCheckBox","getCheckboxValue","getFieldValueAs","_fieldss","criteriaMode","shouldUseNativeValidation","mounted","deepMerge","targetValue","sourceValue","_a","setDirtyFields","defaultValues","parentNode","parentName","isReValidateOnBlur","isReValidateOnChange","isBlurEvent","isSubmitted","isString","RegExp","getValidateError","isMessage","every","validationData","isRegex","inputValue","_temp4","_result3","_exit","setCustomValidty","_field$_f","Promise","resolve","inputRef","isRadio","isRadioOrCheckbox","isEmpty","appendErrorsCurry","appendErrors","bind","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","getValueAndMessage","exceedMin","maxOutput","minOutput","valueNumber","parseFloat","valueDate","maxLengthOutput","minLengthOutput","_getValueAndMessage","patternValue","match","_temp3","isFunction","then","validateError","_temp2","validationResult","_interrupt","_temp","_forIn","_validate$key","e","reject","defaultOptions","reValidateMode","shouldFocusError","isWindowUndefined","createFormControlV3","formOptions","_delayCallback","submitCount","isSubmitting","isSubmitSuccessful","_isMounted","Set","unMount","validationMode","getValidationModes","isValidateAllFieldCriteria","isFieldWatched","has","updateErrorState","shouldRenderBaseOnValid","validateForm","shouldRenderBaseOnError","shouldSkipRender","isValidFromResolver","isWatched","previousError","resolver","delayError","debounce","updatedFormState","setFieldValue","shouldRender","fieldValue","isWeb","isHTMLElement","forEach","selectRef","checkboxRef","radioRef","getValues","shouldDirty","shouldTouch","updateTouchAndDirtyState","shouldValidate","trigger","isCurrentTouched","isChanged","previousIsDirty","_getIsDirty","isPreviousFieldDirty","isCurrentFieldDirty","isPreviousFieldTouched","executeResolver","_formOptions$resolver2","context","getResolverOptions","executeResolverValidation","shouldCheckValid","valid","_temp6","_temp5","_validateForm","validateField","fieldError","handleChange","_ref2$target","inputType","_temp8","_getValidationModes","shouldSkipValidation","hasValidation","skipValidation","_temp7","_ref3","parentNodeName","valError","_validateField","_updateValidAndInputValue","shouldSkipValueAs","isValueUndefined","defaultChecked","_formOptions$resolver3","_executeResolver","setValues","entries","_ref4","fieldKey","fieldName","isFieldArray","_getWatch","fieldNames","isGlobal","resultChanges","Map","_updateFormValues","method","shouldSet","shouldSetFields","output","unsetEmptyArray","setFieldArrayDirtyFields","setValue","_temp11","_temp10","schemaResult","_temp9","_ref5","_Promise$all","triggerBackground","_temp14","_temp13","_temp12","_ref6","_Promise$all2","_validateForm3","clearErrors","inputName","setError","info","_iterator3","_step3","keepValue","keepError","keepDirty","keepTouched","keepDefaultValue","keepIsValid","registerFieldRef","fieldRef","querySelectorAll","isRadioOrCheckboxFunction","contains","handleSubmit","onValid","onInvalid","preventDefault","persist","hasNoPromiseError","_finallyRethrows","_catch","_temp18","_temp16","_temp15","_onInvalid","_temp17","_ref8","err","_wasThrown","_result2","reset","keepStateOptions","updatedValues","keepValues","_iterator4","_step4","closest","keepDefaultValues","keepSubmitCount","keepIsSubmitted","keepErrors","setFocus","_updateProps","useForm","_formControl","createFormControlV2","useFieldArraySubscription","unregisterFieldNames","live","useWatch","_name","updateValue","watchSubscription","rebuildHistory","history","newHistory","useHistory","init","_init","_useState","useState","states","setStates","_useState2","updateHistory","_useState3","setIndex","_useState4","currentPage","updateCurrentPage","useMemo","setState","pageName","existing","_","cloneDeep","size","newIndex","isEqual","resetState","goBack","steps","Number","goBackByIndex","goBackByName","previousPageName","existingPage","goForward","updatePage","jsonataOriginal","require","htmltotext","registerWithJSONATA","expression","registerFunction","TypeError","jsonataExtended","expr","transformer","schema","jsonata","evaluate","useDynamoHistory","initialArr","id","preventDuplicates","replaceDuplicate","Error","setHistory","currentIndex","setCurrentIndex","useEffect","findIndex","prevHistory","updatedFirstObj","getNextIndex","getPreviousIndex","nextIndex","previousIndex","goToStart","goTo","newId","removeAfter","removeAfterIndex","goNext","goToIndex","goBackToPrimary","skipSecondary","goForwardToType","goToEnd","insertObjectAtIndex","insertIndex","newArray","insertObject","customIgnoreDuplicates","customReplaceDuplicate","existingIndex","previousObject","objectType","objectWithDefaultType","updateCurrent","updatedObject","updatedArray","updateObjectById","removeObjectByIndex","removeIndex","removeObjectByName","removeName","removeAtIndex","newArr","removeByName","removeFirst","removeLast","removeAll","getHistory","historyDict","objId","dataTransformer","local","sharedItems","dataStore","ExpRE","matched","Function","eval","response","patternResult","w","schemaTransformation","_$get","flattenHelper","currentObject","newObject","previousKeyName","constructor","flattenObject","oldObject","schemaProxy","extraValues","extraFunctions","proxyHandler","receiver","Proxy","proxySchema","action","setupProxy","proxyItems","newSchema","y","el","actionsRunner","localFunction","resultPromise","_loop","functionName","config","asyncFunction","defaultValidationResolver","noteq","eq","notEmptyAndEqual","ControlledComponentsV2","_props$errors","setField","updateReference","IIN","memo","createElement","prevProps","nextProps","_prevProps$errors","_prevProps$errors2","_nextProps$errors","_nextProps$errors2","oldE","newE","errror","errrorlol","JSON","stringify","renderForm","myControl","getValue","ControlledComponents","components","managedCallback","child","items","validation","rule","_useFieldArray","Fragment","indx","Component","onClick","RenderForm","InRenderform","whyDidYouRender","convertIdToRef","parent","_extends2","itemName","refId","resetItems","_extends3","prepareWtchingComponents","initialValue","preCondition","preConditionObj","convertArrayToObject","internalItem","givenArray","_extends5","renderCount","FormBuilderV1","forwardRef","_ref4$validationResol","validationResolver","_ref4$defaultValues","_useForm","myComponents","useRef","watchingComponents","preConditionItems","setData","checkPreCondition","resetValues","getValuesPOC","validationOnce","validatedItem","n","originalErrors","newErrors","errorMsg","_myComponents$current","_getValuesPOC","_ref7","hasValidationChanged","hasPreconditionChanged","preResult","updated","hasCondition","touched","_touched","realValue","_item$type","renderComponentInd","_ref$givenName","givenName","selectedComponent","renderComponentForm","errorss","idx","FormBuilderNext","_data$root","_data$root$items","_ref6$shouldUnregiste","_ref6$defaultValues","_ref9","_ref10","root","createFormControlV4","formId","validateFormBackground","_interrupt2","localErrors","_validateForm2","_temp21","_temp20","_temp19","_validateForm4","triggerBackgroundOptimised","list","_temp24","_temp23","_temp22","_validateFormBackgrou","_validateForm6","_temp28","_temp26","_temp25","_temp27","proxyItem","_ref2$validate","getItem","_ref7$shouldUnregiste","_ref7$defaultValues","_ref7$devMode","devMode","_ref7$dataTransformer","defaultDataTransformer","proxyDefaultValues","whatsMyName","_useForm$formState","triggerGroup","resources","isItemExist","allValues","getValuesByGroup","getGroupValuesBackground","_exit2","_exit3","_result4","getValuesBackground","_result5","_exit4","_await$getValues","_ref11"],"mappings":"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"}