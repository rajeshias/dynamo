{"version":3,"file":"index.js","sources":["../src/utils/isCheckBoxInput.js","../src/utils/isDateObject.js","../src/utils/isNullOrUndefined.js","../src/utils/isObject.js","../src/logic/getControllerValue.js","../src/logic/getNodeParentName.js","../src/logic/isNameInFieldArray.js","../src/utils/compact.js","../src/utils/isUndefined.js","../src/utils/get.js","../src/constants.js","../src/utils/omit.js","../src/useFormContext.js","../src/logic/getProxyFormState.js","../src/utils/isEmptyObject.js","../src/logic/shouldRenderFormState.js","../src/utils/convertToArrayPayload.js","../src/useFormState.js","../src/useController.js","../src/controller.js","../src/logic/appendErrors.js","../src/utils/isKey.js","../src/utils/stringToPath.js","../src/utils/set.js","../src/logic/focusFieldBy.js","../src/logic/getFocusFieldName.js","../src/logic/generateId.js","../src/logic/mapId.js","../src/utils/append.js","../src/utils/fillEmptyArray.js","../src/utils/insert.js","../src/utils/move.js","../src/utils/omitKeys.js","../src/utils/prepend.js","../src/utils/remove.js","../src/utils/swap.js","../src/utils/isBoolean.js","../src/utils/unset.js","../src/utils/update.js","../src/useFieldArray.js","../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/utils/debounce.js","../src/utils/isPrimitive.js","../src/utils/deepEqual.js","../src/utils/getValidationModes.js","../src/utils/isFileInput.js","../src/utils/isFunction.js","../src/utils/isHTMLElement.js","../src/utils/isMultipleSelect.js","../src/utils/isRadioInput.js","../src/utils/isRadioOrCheckbox.js","../src/utils/isString.js","../src/utils/isWeb.js","../src/utils/Subject.js","../src/logic/getCheckboxValue.js","../src/logic/getFieldValueAs.js","../src/logic/getMultipleSelectValue.js","../src/logic/getRadioValue.js","../src/logic/getFieldValue.js","../src/logic/getResolverOptions.js","../src/logic/hasValidation.js","../src/utils/deepMerge.js","../src/logic/setFieldArrayDirtyFields.js","../src/logic/skipValidation.js","../src/logic/unsetEmptyArray.js","../src/utils/isMessage.js","../src/utils/isRegex.js","../src/logic/getValidateError.js","../src/logic/getValueAndMessage.js","../src/logic/validateField.js","../src/logic/createFormControlV3.js","../src/utils/live.js","../src/useForm.js","../src/useWatch.js","../src/tools/useHistory.js","../src/utils/jsonata.js","../src/tools/transformer.js","../src/tools/useDynamoHistory.js","../src/middleware/dataTransformer.js","../src/middleware/schemaTransformer.js","../src/utils/flattenObject.js","../src/middleware/schemaProxy.js","../src/middleware/setupProxy.js","../src/middleware/actionsRunner.js","../src/utils/defaultValidationResolver.js","../src/builder/FormBuilderV1.js","../src/builder/FormBuilderV2.js","../src/logic/createFormControlV4.js","../src/useFormV1.js","../src/builder/FormBuilderV5.js"],"sourcesContent":["export default (element) => element.type === 'checkbox';\n","export default (data) => data instanceof Date;","export default (value) => value == null;\n","import isDateObject from './isDateObject';\nimport isNullOrUndefined from './isNullOrUndefined';\nexport const isObjectType = (value) => typeof value === 'object';\nexport default (value) => !isNullOrUndefined(value) &&\n    !Array.isArray(value) &&\n    isObjectType(value) &&\n    !isDateObject(value);","import isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isObject from '../utils/isObject';\nexport default (event) => isObject(event) && event.target\n    ? isCheckBoxInput(event.target)\n        ? event.target.checked\n        : event.target.value\n    : event;","export default (name) => name.substring(0, name.search(/.\\d/)) || name;\n","import getNodeParentName from './getNodeParentName';\nexport default (names, name) => [...names].some((current) => getNodeParentName(name) === current);\n","export default (value) => value.filter(Boolean);\n","export default (val) => val === undefined;\n","import compact from './compact';\nimport isNullOrUndefined from './isNullOrUndefined';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\nexport default (obj, path, defaultValue) => {\n    if (isObject(obj) && path) {\n        const result = compact(path.split(/[,[\\].]+?/)).reduce((result, key) => (isNullOrUndefined(result) ? result : result[key]), obj);\n        return isUndefined(result) || result === obj\n            ? isUndefined(obj[path])\n                ? defaultValue\n                : obj[path]\n            : result;\n    }\n    return undefined;\n};","export const EVENTS = {\n  BLUR: 'blur',\n  CHANGE: 'change',\n};\nexport const VALIDATION_MODE = {\n  onBlur: 'onBlur',\n  onChange: 'onChange',\n  onSubmit: 'onSubmit',\n  onTouched: 'onTouched',\n  all: 'all',\n};\nexport const INPUT_VALIDATION_RULES = {\n  max: 'max',\n  min: 'min',\n  maxLength: 'maxLength',\n  minLength: 'minLength',\n  pattern: 'pattern',\n  required: 'required',\n  validate: 'validate',\n};","export default (source, key) => {\n  const copy = Object.assign({}, source);\n  delete copy[key];\n  return copy;\n};","import * as React from 'react';\nimport omit from './utils/omit';\nconst FormContext = React.createContext(null);\nFormContext.displayName = 'RHFContext';\nexport const useFormContext = () => React.useContext(FormContext);\nexport const FormProvider = (props) => (React.createElement(FormContext.Provider, { value: omit(props, 'children') }, props.children));\n","import { VALIDATION_MODE } from '../constants';\n\nexport default (\n  formState,\n  _proxyFormState,\n  localProxyFormState,\n  isRoot = true,\n) => {\n  function createGetter(prop) {\n    return () => {\n      if (prop in formState) {\n        if (_proxyFormState[prop] !== VALIDATION_MODE.all) {\n          _proxyFormState[prop] = !isRoot || VALIDATION_MODE.all;\n        }\n        localProxyFormState && (localProxyFormState[prop] = true);\n        return formState[prop];\n      }\n      return undefined;\n    };\n  }\n\n  const result = {};\n  for (const key in formState) {\n    Object.defineProperty(result, key, {\n      get: createGetter(key),\n    });\n  }\n\n  return result;\n};\n","import isObject from './isObject';\nexport default (value) => isObject(value) && !Object.keys(value).length;\n","import { VALIDATION_MODE } from '../constants';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport omit from '../utils/omit';\nexport default (formStateData, _proxyFormState, isRoot) => {\n    const formState = omit(formStateData, 'name');\n    return (isEmptyObject(formState) ||\n        Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n        Object.keys(formState).find((key) => _proxyFormState[key] ===\n            (!isRoot || VALIDATION_MODE.all)));\n};","export default (value) => Array.isArray(value) ? value : [value];\n","import * as React from 'react';\nimport getProxyFormState from './logic/getProxyFormState';\nimport shouldRenderFormState from './logic/shouldRenderFormState';\nimport convertToArrayPayload from './utils/convertToArrayPayload';\nimport { useFormContext } from './useFormContext';\nfunction useFormState(props) {\n    const methods = useFormContext();\n    const { control = methods.control, disabled, visible, name } = props || {};\n    const nameRef = React.useRef(name);\n    const [formState, updateFormState] = React.useState(control._formState.val);\n    const _localProxyFormState = React.useRef({\n        isDirty: false,\n        dirtyFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    });\n    nameRef.current = name;\n    React.useEffect(() => {\n        const formStateSubscription = control._subjects.state.subscribe({\n            next: (formState) => (!nameRef.current ||\n                !formState.name ||\n                convertToArrayPayload(nameRef.current).includes(formState.name)) &&\n                shouldRenderFormState(formState, _localProxyFormState.current) &&\n                updateFormState(Object.assign(Object.assign({}, control._formState.val), formState)),\n        });\n        disabled && formStateSubscription.unsubscribe();\n        //Yasser ;)\n        // !visible && formStateSubscription.unsubscribe();\n        return () => formStateSubscription.unsubscribe();\n    }, [disabled, control]);\n    return getProxyFormState(formState, control._proxyFormState, _localProxyFormState.current, false);\n}\nexport { useFormState };\n","import * as React from 'react';\nimport getControllerValue from './logic/getControllerValue';\nimport isNameInFieldArray from './logic/isNameInFieldArray';\nimport get from './utils/get';\nimport { EVENTS } from './constants';\nimport { useFormContext } from './useFormContext';\nimport { useFormState } from './useFormState';\nexport function useController(props) {\n    const methods = useFormContext();\n    const { name, control = methods.control, shouldUnregister, item } = props;\n    console.log(\"dyno ;)\", item, \"useController\");\n    const [value, setInputStateValue] = React.useState(get(control._formValues, name, get(control._defaultValues, name, props.defaultValue)));\n    const formState = useFormState({\n        control: control || methods.control,\n        name,\n    });\n    // WTACHME: disable bug ;)\n    // TODO: move item from ref into item object seperately \n    // to prevent disable reaction about validation and submission\n    const registerProps = control.register(name, Object.assign(Object.assign({}, {...props.rules, item: {...item} }), { value }));\n    // console.log(\"dyno ;)\", registerProps,\"useController\")\n\n    const updateMounted = React.useCallback((name, value) => {\n        const field = get(control._fields, name);\n        if (field) {\n            field._f.mount = value;\n        }\n    }, [control]);\n    React.useEffect(() => {\n        const controllerSubscription = control._subjects.control.subscribe({\n            next: (data) => (!data.name || name === data.name) &&\n                setInputStateValue(get(data.values, name)),\n        });\n        updateMounted(name, true);\n        return () => {\n            controllerSubscription.unsubscribe();\n            const _shouldUnregisterField = control._shouldUnregister || shouldUnregister;\n            if (isNameInFieldArray(control._names.array, name)\n                ? _shouldUnregisterField && !control._isInAction.val\n                : _shouldUnregisterField) {\n                control.unregister(name);\n            }\n            else {\n                updateMounted(name, false);\n            }\n        };\n    }, [name, control, shouldUnregister, updateMounted]);\n    return {\n        field: {\n            onChange: (event) => {\n                const value = getControllerValue(event);\n                setInputStateValue(value);\n                registerProps.onChange({\n                    target: {\n                        value,\n                        name: name,\n                    },\n                    type: EVENTS.CHANGE,\n                });\n            },\n            onBlur: () => {\n                registerProps.onBlur({\n                    target: {\n                        name: name,\n                    },\n                    type: EVENTS.BLUR,\n                });\n            },\n            name,\n            value,\n            ref: (elm) => elm &&\n                registerProps.ref({\n                    //todo item ;)\n                    // ...(props.item && props.item || {}),\n                    focus: () => elm.focus && elm.focus(),\n                    setCustomValidity: (message) => elm.setCustomValidity(message),\n                    reportValidity: () => elm.reportValidity(),\n                }),\n        },\n        formState,\n        fieldState: {\n            invalid: !!get(formState.errors, name),\n            isDirty: !!get(formState.dirtyFields, name),\n            isTouched: !!get(formState.touchedFields, name),\n            error: get(formState.errors, name),\n        },\n    };\n}","import { useController } from './useController';\nconst Controller = (props) => props.render(useController(props));\nexport { Controller };","export default (name, validateAllFieldCriteria, errors, type, message) => validateAllFieldCriteria\n  ? Object.assign(Object.assign({}, errors[name]), { types: Object.assign(Object.assign({}, (errors[name] && errors[name].types ? errors[name].types : {})), { [type]: message || true }) }) : {};\n","export default (value) => /^\\w*$/.test(value);\n","import compact from './compact';\n\nexport default (input) =>\n  compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n","import isKey from './isKey';\nimport isObject from './isObject';\nimport stringToPath from './stringToPath';\nexport default function set(object, path, value) {\n  let index = -1;\n  // console.log(\"dyno ;)\", isKey(path),stringToPath(path), \"setset\", object)\n  const tempPath = isKey(path) ? [path] : stringToPath(path);\n  const length = tempPath.length;\n  const lastIndex = length - 1;\n  while (++index < length) {\n    const key = tempPath[index];\n    let newValue = value;\n    if (index !== lastIndex) {\n      const objValue = object[key];\n      newValue =\n        isObject(objValue) || Array.isArray(objValue)\n          ? objValue\n          : !isNaN(+tempPath[index + 1])\n            ? []\n            : {};\n    }\n    object[key] = newValue;\n    object = object[key];\n  }\n  return object;\n}\n","import { get } from '../utils';\nimport isObject from '../utils/isObject';\nimport isUndefined from '../utils/isUndefined';\nimport omit from '../utils/omit';\nconst focusFieldBy = (fields, callback, fieldsNames) => {\n    for (const key of fieldsNames || Object.keys(fields)) {\n        const field = get(fields, key);\n        if (field) {\n            const _f = field._f;\n            const current = omit(field, '_f');\n            if (_f && callback(_f.name)) {\n                if (_f.ref.focus && isUndefined(_f.ref.focus())) {\n                    break;\n                }\n                else if (_f.refs) {\n                    _f.refs[0].focus();\n                    break;\n                }\n            }\n            else if (isObject(current)) {\n                focusFieldBy(current, callback);\n            }\n        }\n    }\n};\nexport default focusFieldBy;","export default (name, index, options) => options && !options.shouldFocus\n    ? options.focusName || `${name}.${options.focusIndex}.`\n    : `${name}.${index}.`;","export default () => {\n  const d =\n    typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16 + d) % 16 | 0;\n\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n  });\n};\n","import generateId from './generateId';\nexport default (values = [], keyName) => values.map((value) => (Object.assign({ [keyName]: (value && value[keyName]) || generateId() }, value)));\n","import convertToArrayPayload from './convertToArrayPayload';\nexport default function append(data, value) {\n    return [...convertToArrayPayload(data), ...convertToArrayPayload(value)];\n}","export default (value) =>\n  Array.isArray(value) ? Array(value.length).fill(undefined) : undefined;\n","import convertToArrayPayload from './convertToArrayPayload';\nexport default function insert(data, index, value) {\n    return [\n        ...data.slice(0, index),\n        ...convertToArrayPayload(value),\n        ...data.slice(index),\n    ];\n}","import isUndefined from './isUndefined';\n\nexport default (\n  data,\n  from,\n  to,\n) => {\n  if (Array.isArray(data)) {\n    if (isUndefined(data[to])) {\n      data[to] = undefined;\n    }\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    return data;\n  }\n\n  return [];\n};\n","import omit from './omit';\nexport default (fields, keyName) => fields.map((field = {}) => omit(field, keyName));\n","import convertToArrayPayload from './convertToArrayPayload';\nexport default function prepend(data, value) {\n    return [...convertToArrayPayload(value), ...convertToArrayPayload(data)];\n}","import compact from './compact';\nimport convertToArrayPayload from './convertToArrayPayload';\nimport isUndefined from './isUndefined';\n\nfunction removeAtIndexes(data, indexes) {\n  let i = 0;\n  const temp = [...data];\n  for (const index of indexes) {\n    temp.splice(index - i, 1);\n    i++;\n  }\n  return compact(temp).length ? temp : [];\n}\n\nexport default (data, index) =>\n  isUndefined(index)\n    ? []\n    : removeAtIndexes(\n      data,\n      (convertToArrayPayload(index)).sort((a, b) => a - b),\n    );\n","export default (data, indexA, indexB) => {\n  data[indexA] = [data[indexB], (data[indexB] = data[indexA])][0];\n};\n","export default (value) => typeof value === 'boolean';\n","import isBoolean from './isBoolean';\nimport isEmptyObject from './isEmptyObject';\nimport isKey from './isKey';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\nimport stringToPath from './stringToPath';\nfunction baseGet(object, updatePath) {\n  const length = updatePath.slice(0, -1).length;\n  let index = 0;\n  while (index < length) {\n    object = isUndefined(object) ? index++ : object[updatePath[index++]];\n  }\n  return object;\n}\nexport default function unset(object, path) {\n  const updatePath = isKey(path) ? [path] : stringToPath(path);\n  const childObject = updatePath.length == 1 ? object : baseGet(object, updatePath);\n  const key = updatePath[updatePath.length - 1];\n  let previousObjRef;\n  if (childObject) {\n    delete childObject[key];\n  }\n  for (let k = 0; k < updatePath.slice(0, -1).length; k++) {\n    let index = -1;\n    let objectRef;\n    const currentPaths = updatePath.slice(0, -(k + 1));\n    const currentPathsLength = currentPaths.length - 1;\n    if (k > 0) {\n      previousObjRef = object;\n    }\n    while (++index < currentPaths.length) {\n      const item = currentPaths[index];\n      objectRef = objectRef ? objectRef[item] : object[item];\n      if (currentPathsLength === index &&\n        ((isObject(objectRef) && isEmptyObject(objectRef)) ||\n          (Array.isArray(objectRef) &&\n            !objectRef.filter((data) => (isObject(data) && !isEmptyObject(data)) || isBoolean(data)).length))) {\n        previousObjRef ? delete previousObjRef[item] : delete object[item];\n      }\n      previousObjRef = objectRef;\n    }\n  }\n  return object;\n}","export default (fieldValues, index, value) => {\n  fieldValues[index] = value;\n  return fieldValues;\n};\n","import * as React from 'react';\nimport focusFieldBy from './logic/focusFieldBy';\nimport getFocusFieldName from './logic/getFocusFieldName';\nimport mapIds from './logic/mapId';\nimport appendAt from './utils/append';\nimport convertToArrayPayload from './utils/convertToArrayPayload';\nimport fillEmptyArray from './utils/fillEmptyArray';\nimport get from './utils/get';\nimport insertAt from './utils/insert';\nimport moveArrayAt from './utils/move';\nimport omitKey from './utils/omitKeys';\nimport prependAt from './utils/prepend';\nimport removeArrayAt from './utils/remove';\nimport set from './utils/set';\nimport swapArrayAt from './utils/swap';\nimport unset from './utils/unset';\nimport updateAt from './utils/update';\nimport { useFormContext } from './useFormContext';\nexport const useFieldArray = (props) => {\n    const methods = useFormContext();\n    const { control = methods.control, name, keyName = 'id', shouldUnregister, } = props;\n    const _focusName = React.useRef('');\n    const [fields, setFields] = React.useState(mapIds(control._getFieldArrayValue(name), keyName));\n    control._names.array.add(name);\n    const append = (value, options) => {\n        const appendValue = convertToArrayPayload(value);\n        const updatedFieldArrayValues = appendAt(control._getFieldArrayValue(name), appendValue);\n        control._bathFieldArrayUpdate(keyName, name, appendAt, {\n            argA: fillEmptyArray(value),\n        }, updatedFieldArrayValues, false);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n        _focusName.current = getFocusFieldName(name, updatedFieldArrayValues.length - appendValue.length, options);\n    };\n    const prepend = (value, options) => {\n        const updatedFieldArrayValues = prependAt(control._getFieldArrayValue(name), convertToArrayPayload(value));\n        control._bathFieldArrayUpdate(keyName, name, prependAt, {\n            argA: fillEmptyArray(value),\n        }, updatedFieldArrayValues);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n        _focusName.current = getFocusFieldName(name, 0, options);\n    };\n    const remove = (index) => {\n        const updatedFieldArrayValues = removeArrayAt(control._getFieldArrayValue(name), index);\n        control._bathFieldArrayUpdate(keyName, name, removeArrayAt, {\n            argA: index,\n        }, updatedFieldArrayValues);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n    };\n    const insert = (index, value, options) => {\n        const updatedFieldArrayValues = insertAt(control._getFieldArrayValue(name), index, convertToArrayPayload(value));\n        control._bathFieldArrayUpdate(keyName, name, insertAt, {\n            argA: index,\n            argB: fillEmptyArray(value),\n        }, updatedFieldArrayValues);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n        _focusName.current = getFocusFieldName(name, index, options);\n    };\n    const swap = (indexA, indexB) => {\n        const fieldValues = control._getFieldArrayValue(name);\n        swapArrayAt(fieldValues, indexA, indexB);\n        control._bathFieldArrayUpdate(keyName, name, swapArrayAt, {\n            argA: indexA,\n            argB: indexB,\n        }, fieldValues, false);\n        setFields(mapIds(fieldValues, keyName));\n    };\n    const move = (from, to) => {\n        const fieldValues = control._getFieldArrayValue(name);\n        moveArrayAt(fieldValues, from, to);\n        control._bathFieldArrayUpdate(keyName, name, moveArrayAt, {\n            argA: from,\n            argB: to,\n        }, fieldValues, false);\n        setFields(mapIds(fieldValues, keyName));\n    };\n    const update = (index, value) => {\n        const fieldValues = control._getFieldArrayValue(name);\n        const updatedFieldArrayValues = updateAt(fieldValues, index, value);\n        control._bathFieldArrayUpdate(keyName, name, updateAt, {\n            argA: index,\n            argB: value,\n        }, fieldValues, true, false);\n        setFields(mapIds(updatedFieldArrayValues, keyName));\n    };\n    React.useEffect(() => {\n        control._isInAction.val = false;\n        if (control._names.watchAll) {\n            control._subjects.state.next({});\n        }\n        else {\n            for (const watchField of control._names.watch) {\n                if (name.startsWith(watchField)) {\n                    control._subjects.state.next({});\n                    break;\n                }\n            }\n        }\n        control._subjects.watch.next({\n            name,\n            values: control._formValues,\n        });\n        _focusName.current &&\n            focusFieldBy(control._fields, (key) => key.startsWith(_focusName.current));\n        _focusName.current = '';\n        control._subjects.array.next({\n            name,\n            values: omitKey([...fields], keyName),\n        });\n        control._proxyFormState.isValid && control._updateValid();\n    }, [fields, name, control, keyName]);\n    React.useEffect(() => {\n        const fieldArraySubscription = control._subjects.array.subscribe({\n            next(payload) {\n                if (payload.isReset) {\n                    unset(control._fields, payload.name || name);\n                    unset(control._formValues, payload.name || name);\n                    payload.name\n                        ? set(control._formValues, payload.name, payload.values)\n                        : payload.values && (control._formValues = payload.values);\n                    setFields(mapIds(get(control._formValues, name), keyName));\n                }\n            },\n        });\n        !get(control._formValues, name) && set(control._formValues, name, []);\n        return () => {\n            fieldArraySubscription.unsubscribe();\n            if (control._shouldUnregister || shouldUnregister) {\n                control.unregister(name);\n                unset(control._formValues, name);\n            }\n            else {\n                const fieldArrayValues = get(control._formValues, name);\n                fieldArrayValues && set(control._formValues, name, fieldArrayValues);\n            }\n        };\n    }, [name, control, keyName, shouldUnregister]);\n    return {\n        swap: React.useCallback(swap, [name, control, keyName]),\n        move: React.useCallback(move, [name, control, keyName]),\n        prepend: React.useCallback(prepend, [name, control, keyName]),\n        append: React.useCallback(append, [name, control, keyName]),\n        remove: React.useCallback(remove, [name, control, keyName]),\n        insert: React.useCallback(insert, [name, control, keyName]),\n        update: React.useCallback(update, [name, control, keyName]),\n        fields: fields,\n    };\n};","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","export default (callback, wait) => {\n  let timer = 0;\n  return (...args) => {\n      clearTimeout(timer);\n      timer = window.setTimeout(() => callback(...args), wait);\n  };\n};","import isNullOrUndefined from './isNullOrUndefined';\nimport { isObjectType } from './isObject';\nexport default (value) => isNullOrUndefined(value) || !isObjectType(value);\n","import isObject from './isObject';\nimport isDateObject from './isDateObject';\nimport isPrimitive from './isPrimitive';\nexport default function deepEqual(object1, object2) {\n    if (isPrimitive(object1) ||\n        isPrimitive(object2) ||\n        isDateObject(object1) ||\n        isDateObject(object2)) {\n        return object1 === object2;\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (const key of keys1) {\n        const val1 = object1[key];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (key !== 'ref') {\n            const val2 = object2[key];\n            if ((isObject(val1) || Array.isArray(val1)) &&\n                (isObject(val2) || Array.isArray(val2))\n                ? !deepEqual(val1, val2)\n                : val1 !== val2) {\n                return false;\n            }\n        }\n    }\n    return true;\n}","import { VALIDATION_MODE } from '../constants';\nexport default (mode) => ({\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange,\n    isOnAll: mode === VALIDATION_MODE.all,\n    isOnTouch: mode === VALIDATION_MODE.onTouched,\n});","export default (element) => element.type === 'file';\n","export default (value) => typeof value === 'function';\n","export default (value) => value instanceof HTMLElement;\n","export default (element) => element.type === `select-multiple`;\n","export default (element) => element.type === 'radio';\n","import isCheckBoxInput from './isCheckBoxInput';\nimport isRadioInput from './isRadioInput';\nexport default (ref) => isRadioInput(ref) || isCheckBoxInput(ref);","export default (value) => typeof value === 'string';\n","export default typeof window !== 'undefined' &&\n    typeof window.HTMLElement !== 'undefined' &&\n    typeof document !== 'undefined';\n","export class Subscription {\n  constructor() {\n      this.tearDowns = [];\n  }\n  add(tearDown) {\n      this.tearDowns.push(tearDown);\n  }\n  unsubscribe() {\n      for (const teardown of this.tearDowns) {\n          teardown();\n      }\n      this.tearDowns = [];\n  }\n}\nclass Subscriber {\n  constructor(observer, subscription) {\n      this.observer = observer;\n      this.closed = false;\n      subscription.add(() => (this.closed = true));\n  }\n  next(value) {\n      if (!this.closed) {\n          this.observer.next(value);\n      }\n  }\n}\nexport default class Subject {\n  constructor() {\n      this.observers = [];\n  }\n  next(value) {\n      for (const observer of this.observers) {\n          observer.next(value);\n      }\n  }\n  subscribe(observer) {\n      const subscription = new Subscription();\n      const subscriber = new Subscriber(observer, subscription);\n      this.observers.push(subscriber);\n      return subscription;\n  }\n  unsubscribe() {\n      this.observers = [];\n  }\n}","import isUndefined from '../utils/isUndefined';\nconst defaultResult = {\n    value: false,\n    isValid: false,\n};\nconst validResult = { value: true, isValid: true };\nexport default (options) => {\n    if (Array.isArray(options)) {\n        if (options.length > 1) {\n            const values = options\n                .filter((option) => option && option.checked && !option.disabled)\n                .map((option) => option.value);\n            return { value: values, isValid: !!values.length };\n        }\n        return options[0].checked && !options[0].disabled\n            ? // @ts-expect-error expected to work in the browser\n                options[0].attributes && !isUndefined(options[0].attributes.value)\n                    ? isUndefined(options[0].value) || options[0].value === ''\n                        ? validResult\n                        : { value: options[0].value, isValid: true }\n                    : validResult\n            : defaultResult;\n    }\n    return defaultResult;\n};\n","import isUndefined from '../utils/isUndefined';\nexport default (value, { valueAsNumber, valueAsDate, setValueAs }) => isUndefined(value)\n    ? value\n    : valueAsNumber\n        ? value === ''\n            ? NaN\n            : +value\n        : valueAsDate\n            ? new Date(value)\n            : setValueAs\n                ? setValueAs(value)\n                : value;","export default (options) => [...options]\n    .filter(({ selected }) => selected)\n    .map(({ value }) => value);","const defaultReturn = {\n  isValid: false,\n  value: null,\n};\nexport default (options) => Array.isArray(options)\n  ? options.reduce((previous, option) => option && option.checked && !option.disabled\n      ? {\n          isValid: true,\n          value: option.value,\n      }\n      : previous, defaultReturn)\n  : defaultReturn;","import isCheckBox from '../utils/isCheckBoxInput';\nimport isFileInput from '../utils/isFileInput';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport isRadioInput from '../utils/isRadioInput';\nimport isUndefined from '../utils/isUndefined';\nimport getCheckboxValue from './getCheckboxValue';\nimport getFieldValueAs from './getFieldValueAs';\nimport getMultipleSelectValue from './getMultipleSelectValue';\nimport getRadioValue from './getRadioValue';\nexport default function getFieldValue(field) {\n    if (field && field._f) {\n        const ref = field._f.ref;\n        //TODO: findout why it is here ;) thanks to Edward ;)\n        // if (field._f.refs ? field._f.refs.every((ref) => ref.disabled) : ref.disabled) {\n        //     return;\n        // }\n        if (isFileInput(ref)) {\n            return ref.files;\n        }\n        if (isRadioInput(ref)) {\n            return getRadioValue(field._f.refs).value;\n        }\n        if (isMultipleSelect(ref)) {\n            return getMultipleSelectValue(ref.options);\n        }\n        if (isCheckBox(ref)) {\n            return getCheckboxValue(field._f.refs).value;\n        }\n        return getFieldValueAs(isUndefined(ref.value) ? field._f.ref.value : ref.value, field._f);\n    }\n}\n","import { get } from '../utils';\nimport set from '../utils/set';\n\nexport default (\n  fieldsNames,\n  _fieldss,\n  criteriaMode,\n  shouldUseNativeValidation,\n) => {\n  const fields = {};\n\n  for (const name of fieldsNames) {\n    const field = get(_fieldss, name);\n\n    field && set(fields, name, field._f);\n  }\n\n  return {\n    criteriaMode,\n    names: [...fieldsNames],\n    fields,\n    shouldUseNativeValidation,\n  };\n};\n","export default (options, mounted) => mounted &&\n    options &&\n    (options.required ||\n        options.min ||\n        options.max ||\n        options.maxLength ||\n        options.minLength ||\n        options.pattern ||\n        options.validate);","import isObject from './isObject';\nimport isPrimitive from './isPrimitive';\nexport function deepMerge(target, source) {\n    if (isPrimitive(target) || isPrimitive(source)) {\n        return source;\n    }\n    for (const key in source) {\n        const targetValue = target[key];\n        const sourceValue = source[key];\n        try {\n            target[key] =\n                (isObject(targetValue) && isObject(sourceValue)) ||\n                    (Array.isArray(targetValue) && Array.isArray(sourceValue))\n                    ? deepMerge(targetValue, sourceValue)\n                    : sourceValue;\n        }\n        catch (_a) { }\n    }\n    return target;\n}","import { get } from '../utils';\nimport deepEqual from '../utils/deepEqual';\nimport { deepMerge } from '../utils/deepMerge';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport set from '../utils/set';\nfunction setDirtyFields(values, defaultValues, dirtyFields, parentNode, parentName) {\n    let index = -1;\n    while (++index < values.length) {\n        for (const key in values[index]) {\n            if (Array.isArray(values[index][key])) {\n                !dirtyFields[index] && (dirtyFields[index] = {});\n                dirtyFields[index][key] = [];\n                setDirtyFields(values[index][key], get(defaultValues[index] || {}, key, []), dirtyFields[index][key], dirtyFields[index], key);\n            }\n            else {\n                !isNullOrUndefined(defaultValues) &&\n                    deepEqual(get(defaultValues[index] || {}, key), values[index][key])\n                    ? set(dirtyFields[index] || {}, key)\n                    : (dirtyFields[index] = Object.assign(Object.assign({}, dirtyFields[index]), { [key]: true }));\n            }\n        }\n        parentNode &&\n            !dirtyFields.length &&\n            delete parentNode[parentName];\n    }\n    return dirtyFields;\n}\nexport default (values, defaultValues, dirtyFields) => deepMerge(setDirtyFields(values, defaultValues, dirtyFields.slice(0, values.length)), setDirtyFields(defaultValues, values, dirtyFields.slice(0, values.length)));\n","export default ({ isOnBlur, isOnChange, isOnTouch, isTouched, isReValidateOnBlur, isReValidateOnChange, isBlurEvent, isSubmitted, isOnAll, }) => {\n  if (isOnAll) {\n      return false;\n  }\n  else if (!isSubmitted && isOnTouch) {\n      return !(isTouched || isBlurEvent);\n  }\n  else if (isSubmitted ? isReValidateOnBlur : isOnBlur) {\n      return !isBlurEvent;\n  }\n  else if (isSubmitted ? isReValidateOnChange : isOnChange) {\n      return isBlurEvent;\n  }\n  return true;\n};","import compact from '../utils/compact';\nimport get from '../utils/get';\nimport unset from '../utils/unset';\n\nexport default (ref, name) =>\n  !compact(get(ref, name, [])).length && unset(ref, name);\n","import * as React from 'react';\nimport isString from './isString';\nexport default (value) => isString(value) || React.isValidElement(value);\n","export default (value) => value instanceof RegExp;\n","import isBoolean from '../utils/isBoolean';\nimport isMessage from '../utils/isMessage';\nexport default function getValidateError(result, ref, type = 'validate') {\n    if (isMessage(result) ||\n        (Array.isArray(result) && result.every(isMessage)) ||\n        (isBoolean(result) && !result)) {\n        return {\n            type,\n            message: isMessage(result) ? result : '',\n            ref,\n        };\n    }\n}","import isObject from '../utils/isObject';\nimport isRegex from '../utils/isRegex';\n\nexport default (validationData) =>\n  isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n      };\n","import { INPUT_VALIDATION_RULES } from '../constants';\nimport isBoolean from '../utils/isBoolean';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isFileInput from '../utils/isFileInput';\nimport isFunction from '../utils/isFunction';\nimport isMessage from '../utils/isMessage';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isRadioInput from '../utils/isRadioInput';\nimport isRegex from '../utils/isRegex';\nimport isString from '../utils/isString';\nimport appendErrors from './appendErrors';\nimport getCheckboxValue from './getCheckboxValue';\nimport getRadioValue from './getRadioValue';\nimport getValidateError from './getValidateError';\nimport getValueAndMessage from './getValueAndMessage';\nexport default async (field, inputValue, validateAllFieldCriteria, shouldUseNativeValidation) => {\n    const { ref, refs, required, maxLength, minLength, min, max, pattern, validate, name, valueAsNumber, mount, } = field._f;\n    if (!mount) {\n        return {};\n    }\n    const inputRef = refs ? refs[0] : ref;\n    const setCustomValidty = (message) => {\n        if (shouldUseNativeValidation && inputRef.reportValidity) {\n            inputRef.setCustomValidity(isBoolean(message) ? '' : message || ' ');\n            inputRef.reportValidity();\n        }\n    };\n    const error = {};\n    const isRadio = isRadioInput(ref);\n    const isCheckBox = isCheckBoxInput(ref);\n    const isRadioOrCheckbox = isRadio || isCheckBox;\n    const isEmpty = ((valueAsNumber || isFileInput(ref)) && !ref.value) ||\n        inputValue === '' ||\n        (Array.isArray(inputValue) && !inputValue.length);\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\n        error[name] = Object.assign({ type: exceedMax ? maxType : minType, message,\n            ref }, appendErrorsCurry(exceedMax ? maxType : minType, message));\n    };\n    if (required &&\n        ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n            (isBoolean(inputValue) && !inputValue) ||\n            (isCheckBox && !getCheckboxValue(refs).isValid) ||\n            (isRadio && !getRadioValue(refs).isValid))) {\n        const { value, message } = isMessage(required)\n            ? { value: !!required, message: required }\n            : getValueAndMessage(required);\n        if (value) {\n            error[name] = Object.assign({ type: INPUT_VALIDATION_RULES.required, message, ref: inputRef }, appendErrorsCurry(INPUT_VALIDATION_RULES.required, message));\n            if (!validateAllFieldCriteria) {\n                setCustomValidty(message);\n                return error;\n            }\n        }\n    }\n    if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n        let exceedMax;\n        let exceedMin;\n        const maxOutput = getValueAndMessage(max);\n        const minOutput = getValueAndMessage(min);\n        if (!isNaN(inputValue)) {\n            const valueNumber = ref.valueAsNumber || parseFloat(inputValue);\n            if (!isNullOrUndefined(maxOutput.value) && maxOutput.value != '') {\n                exceedMax = valueNumber > maxOutput.value;\n            }\n            if (!isNullOrUndefined(minOutput.value) && minOutput.value != '') {\n                exceedMin = valueNumber < minOutput.value;\n            }\n        }\n        else {\n            const valueDate = ref.valueAsDate || new Date(inputValue);\n            if (isString(maxOutput.value)) {\n                exceedMax = valueDate > new Date(maxOutput.value);\n            }\n            if (isString(minOutput.value)) {\n                exceedMin = valueDate < new Date(minOutput.value);\n            }\n        }\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(!!exceedMax, maxOutput.message, minOutput.message, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n            if (!validateAllFieldCriteria) {\n                setCustomValidty(error[name].message);\n                return error;\n            }\n        }\n    }\n    if ((maxLength || minLength) && !isEmpty && isString(inputValue)) {\n        const maxLengthOutput = getValueAndMessage(maxLength);\n        const minLengthOutput = getValueAndMessage(minLength);\n        const exceedMax = !isNullOrUndefined(maxLengthOutput.value) &&\n            inputValue.length > maxLengthOutput.value;\n        const exceedMin = !isNullOrUndefined(minLengthOutput.value) &&\n            inputValue.length < minLengthOutput.value;\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(exceedMax, maxLengthOutput.message, minLengthOutput.message);\n            if (!validateAllFieldCriteria) {\n                setCustomValidty(error[name].message);\n                return error;\n            }\n        }\n    }\n    if (pattern && !isEmpty && isString(inputValue)) {\n        const { value: patternValue, message } = getValueAndMessage(pattern);\n        console.log(\"dyno ;)\", isRegex(new RegExp(patternValue)), !inputValue.match(patternValue), patternValue, \"patternValue\")\n        if (isRegex(new RegExp(patternValue)) && !inputValue.match(patternValue)) {\n            error[name] = Object.assign({ type: INPUT_VALIDATION_RULES.pattern, message,\n                ref }, appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message));\n            if (!validateAllFieldCriteria) {\n                setCustomValidty(message);\n                return error;\n            }\n        }\n    }\n    if (validate) {\n        if (isFunction(validate)) {\n            const result = await validate(inputValue);\n            const validateError = getValidateError(result, inputRef);\n            if (validateError) {\n                error[name] = Object.assign(Object.assign({}, validateError), appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message));\n                if (!validateAllFieldCriteria) {\n                    setCustomValidty(validateError.message);\n                    return error;\n                }\n            }\n        }\n        else if (isObject(validate)) {\n            let validationResult = {};\n            for (const key in validate) {\n                if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n                    break;\n                }\n                const validateError = getValidateError(await validate[key](inputValue), inputRef, key);\n                if (validateError) {\n                    validationResult = Object.assign(Object.assign({}, validateError), appendErrorsCurry(key, validateError.message));\n                    setCustomValidty(validateError.message);\n                    if (validateAllFieldCriteria) {\n                        error[name] = validationResult;\n                    }\n                }\n            }\n            if (!isEmptyObject(validationResult)) {\n                error[name] = Object.assign({ ref: inputRef }, validationResult);\n                if (!validateAllFieldCriteria) {\n                    return error;\n                }\n            }\n        }\n    }\n    setCustomValidty(true);\n    return error;\n};\n","import { EVENTS, VALIDATION_MODE } from '../constants';\nimport { set } from '../utils';\nimport compact from '../utils/compact';\nimport convertToArrayPayload from '../utils/convertToArrayPayload';\nimport debounce from '../utils/debounce';\nimport deepEqual from '../utils/deepEqual';\nimport get from '../utils/get';\nimport getValidationModes from '../utils/getValidationModes';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isDateObject from '../utils/isDateObject';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isFileInput from '../utils/isFileInput';\nimport isFunction from '../utils/isFunction';\nimport isHTMLElement from '../utils/isHTMLElement';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isPrimitive from '../utils/isPrimitive';\nimport isRadioOrCheckboxFunction from '../utils/isRadioOrCheckbox';\nimport isString from '../utils/isString';\nimport isUndefined from '../utils/isUndefined';\nimport isWeb from '../utils/isWeb';\nimport omit from '../utils/omit';\nimport omitKey from '../utils/omitKeys';\nimport Subject from '../utils/Subject';\nimport unset from '../utils/unset';\nimport focusFieldBy from './focusFieldBy';\nimport getFieldValue from './getFieldValue';\nimport getFieldValueAs from './getFieldValueAs';\nimport getNodeParentName from './getNodeParentName';\nimport getResolverOptions from './getResolverOptions';\nimport hasValidation from './hasValidation';\nimport isNameInFieldArray from './isNameInFieldArray';\nimport setFieldArrayDirtyFields from './setFieldArrayDirtyFields';\nimport skipValidation from './skipValidation';\nimport unsetEmptyArray from './unsetEmptyArray';\nimport validateField from './validateField';\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nconst isWindowUndefined = typeof window === 'undefined';\nexport function createFormControlV3(props = {}) {\n    let formOptions = Object.assign(Object.assign({}, defaultOptions), props);\n    let _delayCallback;\n    let _formState = {\n        isDirty: false,\n        isValidating: false,\n        dirtyFields: {},\n        isSubmitted: false,\n        submitCount: 0,\n        touchedFields: {},\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        errors: {},\n    };\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    let _fields = {};\n    let _formValues = {};\n    let _defaultValues = formOptions.defaultValues || {};\n    let _isInAction = false;\n    let _isMounted = false;\n    const _subjects = {\n        watch: new Subject(),\n        control: new Subject(),\n        array: new Subject(),\n        state: new Subject(),\n    };\n    let _names = {\n        mount: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n        watchAll: false,\n    };\n    const validationMode = getValidationModes(formOptions.mode);\n    const isValidateAllFieldCriteria = formOptions.criteriaMode === VALIDATION_MODE.all;\n    const isFieldWatched = (name) => _names.watchAll ||\n        _names.watch.has(name) ||\n        _names.watch.has((name.match(/\\w+/) || [])[0]);\n    const updateErrorState = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const shouldRenderBaseOnValid = async () => {\n        const isValid = await validateForm(_fields, true);\n        if (isValid !== _formState.isValid) {\n            _formState.isValid = isValid;\n            _subjects.state.next({\n                isValid,\n            });\n        }\n    };\n    const shouldRenderBaseOnError = async (shouldSkipRender, name, error, fieldState, isValidFromResolver, isWatched) => {\n        const previousError = get(_formState.errors, name);\n        const isValid = !!(_proxyFormState.isValid &&\n            (formOptions.resolver ? isValidFromResolver : shouldRenderBaseOnValid()));\n        if (props.delayError && error) {\n            _delayCallback =\n                _delayCallback || debounce(updateErrorState, props.delayError);\n            _delayCallback(name, error);\n        }\n        else {\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((isWatched ||\n            (error ? !deepEqual(previousError, error) : previousError) ||\n            !isEmptyObject(fieldState) ||\n            _formState.isValid !== isValid) &&\n            !shouldSkipRender) {\n            const updatedFormState = Object.assign(Object.assign(Object.assign({}, fieldState), (_proxyFormState.isValid && formOptions.resolver ? { isValid } : {})), { errors: _formState.errors, name });\n            _formState = Object.assign(Object.assign({}, _formState), updatedFormState);\n            //everywhere has isWatched ;)\n            _subjects.state.next(isWatched ? { name } : updatedFormState);\n        }\n        _subjects.state.next({\n            isValidating: false,\n        });\n    };\n    const setFieldValue = (name, value, options = {}, shouldRender) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", \"setValuesetValue\", field, field._f.ref.visible, value,_formValues)\n        if (field) {\n            const _f = field._f;\n            if (_f) {\n                // if(!field._f.ref.visible) return;\n                set(_formValues, name, getFieldValueAs(value, _f));\n                const fieldValue = isWeb && isHTMLElement(_f.ref) && isNullOrUndefined(value)\n                    ? ''\n                    : value;\n                if (isFileInput(_f.ref) && !isString(fieldValue)) {\n                    _f.ref.files = fieldValue;\n                }\n                else if (isMultipleSelect(_f.ref)) {\n                    [..._f.ref.options].forEach((selectRef) => (selectRef.selected = fieldValue.includes(selectRef.value)));\n                }\n                else if (_f.refs) {\n                    if (isCheckBoxInput(_f.ref)) {\n                        _f.refs.length > 1\n                            ? _f.refs.forEach((checkboxRef) => (checkboxRef.checked = Array.isArray(fieldValue)\n                                ? !!fieldValue.find((data) => data === checkboxRef.value)\n                                : fieldValue === checkboxRef.value))\n                            : (_f.refs[0].checked = !!fieldValue);\n                    }\n                    else {\n                        _f.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else {\n                    _f.ref.value = fieldValue;\n                }\n                if (shouldRender) {\n                    _subjects.control.next({\n                        values: getValues(),\n                        name,\n                    });\n                }\n                (options.shouldDirty || options.shouldTouch) &&\n                    updateTouchAndDirtyState(name, fieldValue, options.shouldTouch);\n                options.shouldValidate && trigger(name);\n            }\n        }\n    };\n    const updateTouchAndDirtyState = (name, inputValue, isCurrentTouched, shouldRender = true) => {\n        const state = {\n            name,\n        };\n        let isChanged = false;\n        if (_proxyFormState.isDirty) {\n            const previousIsDirty = _formState.isDirty;\n            _formState.isDirty = _getIsDirty();\n            state.isDirty = _formState.isDirty;\n            isChanged = previousIsDirty !== state.isDirty;\n        }\n        if (_proxyFormState.dirtyFields && !isCurrentTouched) {\n            const isPreviousFieldDirty = get(_formState.dirtyFields, name);\n            const isCurrentFieldDirty = !deepEqual(get(_defaultValues, name), inputValue);\n            isCurrentFieldDirty\n                ? set(_formState.dirtyFields, name, true)\n                : unset(_formState.dirtyFields, name);\n            state.dirtyFields = _formState.dirtyFields;\n            isChanged =\n                isChanged || isPreviousFieldDirty !== get(_formState.dirtyFields, name);\n        }\n        const isPreviousFieldTouched = get(_formState.touchedFields, name);\n        if (isCurrentTouched && !isPreviousFieldTouched) {\n            set(_formState.touchedFields, name, isCurrentTouched);\n            state.touchedFields = _formState.touchedFields;\n            isChanged =\n                isChanged ||\n                    (_proxyFormState.touchedFields &&\n                        isPreviousFieldTouched !== isCurrentTouched);\n        }\n        isChanged && shouldRender && _subjects.state.next(state);\n        return isChanged ? state : {};\n    };\n    const executeResolver = async (name) => {\n        return formOptions.resolver\n            ? await formOptions.resolver(Object.assign({}, _formValues), formOptions.context, getResolverOptions(name || _names.mount, _fields, formOptions.criteriaMode, formOptions.shouldUseNativeValidation))\n            : {};\n    };\n    const executeResolverValidation = async (names) => {\n        const { errors } = await executeResolver();\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const validateForm = async (_fields, shouldCheckValid, context = {\n        valid: true,\n    }) => {\n        // console.log(\"dyno ;)\", \"SUBMITFORM here\", _fields)\n        for (const name in _fields) {\n            const field = _fields[name];\n            if (field) {\n                const _f = field._f;\n                const val = omit(field, '_f');\n                // && field._f.ref.formId === \"ALL\"\n                if (_f) {\n                    //To do for formId ;)\n                    const fieldError = await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                    // const fieldError = field._f.ref.formId === \"ALL\" &&  await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                    console.log(\"dyno ;)\", fieldError,\"fieldError\")\n                    if (shouldCheckValid) {\n                        if (fieldError[_f.name]) {\n                            context.valid = false;\n                            break;\n                        }\n                    }\n                    else {\n                        if (fieldError[_f.name]) {\n                            context.valid = false;\n                        }\n                        fieldError[_f.name]\n                            ? set(_formState.errors, _f.name, fieldError[_f.name])\n                            : unset(_formState.errors, _f.name);\n                    }\n                }\n                val && (await validateForm(val, shouldCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const handleChange = async ({ type, target, target: { value, name, type: inputType }, }) => {\n        let error;\n        let isValid;\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", field, \"field from library Yasser ;) Thanks Allah :):)\");\n        if (field) {\n            let inputValue = inputType ? getFieldValue(field) : undefined;\n            inputValue = isUndefined(inputValue) ? value : inputValue;\n            // console.log(\"dyno ;)\", inputValue, \"field from library Yasser ;) inputValue :)\");\n            const isBlurEvent = type === EVENTS.BLUR;\n            const { isOnBlur: isReValidateOnBlur, isOnChange: isReValidateOnChange } = getValidationModes(formOptions.reValidateMode);\n            const shouldSkipValidation = (!hasValidation(field._f, field._f.mount) &&\n                !formOptions.resolver &&\n                !get(_formState.errors, name)) ||\n                skipValidation(Object.assign({ isBlurEvent, isTouched: !!get(_formState.touchedFields, name), isSubmitted: _formState.isSubmitted, isReValidateOnBlur,\n                    isReValidateOnChange }, validationMode));\n            const isWatched = !isBlurEvent && isFieldWatched(name);\n            if (!isUndefined(inputValue)) {\n                set(_formValues, name, inputValue);\n            }\n            const fieldState = updateTouchAndDirtyState(name, inputValue, isBlurEvent, false);\n            const shouldRender = !isEmptyObject(fieldState) || isWatched;\n            if (shouldSkipValidation) {\n                !isBlurEvent &&\n                    _subjects.watch.next({\n                        name,\n                        type,\n                    });\n                return (shouldRender &&\n                    _subjects.state.next(isWatched ? { name } : Object.assign(Object.assign({}, fieldState), { name })));\n            }\n            _subjects.state.next({\n                isValidating: true,\n            });\n            if (formOptions.resolver) {\n                const { errors } = await executeResolver([name]);\n                error = get(errors, name);\n                if (isCheckBoxInput(target) && !error) {\n                    const parentNodeName = getNodeParentName(name);\n                    const valError = get(errors, parentNodeName, {});\n                    valError.type && valError.message && (error = valError);\n                    if (valError || get(_formState.errors, parentNodeName)) {\n                        name = parentNodeName;\n                    }\n                }\n                isValid = isEmptyObject(errors);\n            }\n            else {\n                error = (await validateField(field, get(_formValues, name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation))[name];\n            }\n            !isBlurEvent &&\n                _subjects.watch.next({\n                    name,\n                    type,\n                    values: getValues(),\n                });\n            shouldRenderBaseOnError(false, name, error, fieldState, isValid, isWatched);\n        }\n    };\n    const _updateValidAndInputValue = (name, ref, shouldSkipValueAs) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", name,ref, '_updateValidAndInputValue')\n        if (field) {\n            const fieldValue = get(_formValues, name);\n            const isValueUndefined = isUndefined(fieldValue);\n            const defaultValue = isValueUndefined\n                ? get(_defaultValues, name)\n                : fieldValue;\n            if (isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipValueAs) {\n                ref && ref.visible && //todo ;)\n                set(_formValues, name, shouldSkipValueAs ? defaultValue : getFieldValue(field));\n            }\n            else {\n                setFieldValue(name, defaultValue);\n            }\n        }\n        _isMounted && _proxyFormState.isValid && _updateValid();\n    };\n    const _getIsDirty = (name, data) => {\n        name && data && set(_formValues, name, data);\n        return !deepEqual(Object.assign({}, getValues()), _defaultValues);\n    };\n    const _updateValid = async () => {\n        const isValid = formOptions.resolver\n            ? isEmptyObject((await executeResolver()).errors)\n            : await validateForm(_fields, true);\n        if (isValid !== _formState.isValid) {\n            _formState.isValid = isValid;\n            _subjects.state.next({\n                isValid,\n            });\n        }\n    };\n    const setValues = (name, value, options) => Object.entries(value).forEach(([fieldKey, fieldValue]) => {\n        const fieldName = `${name}.${fieldKey}`;\n        const field = get(_fields, fieldName);\n        const isFieldArray = _names.array.has(name);\n        (isFieldArray || !isPrimitive(fieldValue) || (field && !field._f)) &&\n            !isDateObject(fieldValue)\n            ? setValues(fieldName, fieldValue, options)\n            : setFieldValue(fieldName, fieldValue, options, true);\n    });\n    const _getWatch = (fieldNames, defaultValue, isGlobal) => {\n        const fieldValues = Object.assign({}, (_isMounted\n            ? Object.assign({}, Object.assign(Object.assign({}, _defaultValues), _formValues)) : isUndefined(defaultValue)\n            ? _defaultValues\n            : defaultValue));\n        if (!fieldNames) {\n            isGlobal && (_names.watchAll = true);\n            return fieldValues;\n        }\n        const resultChanges = [];\n        const result = new Map();\n        for (const fieldName of convertToArrayPayload(fieldNames)) {\n            isGlobal && _names.watch.add(fieldName);\n            resultChanges.push(get(fieldValues, fieldName));\n            result.set(fieldName, get(fieldValues, fieldName));\n        }\n        return Array.isArray(fieldNames)\n            ? [resultChanges,result]\n            : isObject(result[0])\n                ? Object.assign({}, result[0]) : Array.isArray(result[0])\n                ? [...result[0]]\n                : result[0];\n    };\n    const _updateFormValues = (defaultValues, name = '') => {\n        console.log(\"dyno ;)\", defaultValues,\"_updateFormValues\")\n        for (const key in defaultValues) {\n            const value = defaultValues[key];\n            const fieldName = name + (name ? '.' : '') + key;\n            const field = get(_fields, fieldName);\n            if (!field || !field._f) {\n                if (isObject(value) || Array.isArray(value)) {\n                    _updateFormValues(value, fieldName);\n                }\n                else if (!field) {\n                    set(_formValues, fieldName, value);\n                }\n            }\n        }\n    };\n    const _bathFieldArrayUpdate = (keyName, name, method, args, updatedFieldArrayValues = [], shouldSet = true, shouldSetFields = true) => {\n        _isInAction = true;\n        if (shouldSetFields && get(_fields, name)) {\n            const output = method(get(_fields, name), args.argA, args.argB);\n            shouldSet && set(_fields, name, output);\n        }\n        set(_formValues, name, updatedFieldArrayValues);\n        if (Array.isArray(get(_formState.errors, name))) {\n            const output = method(get(_formState.errors, name), args.argA, args.argB);\n            shouldSet && set(_formState.errors, name, output);\n            unsetEmptyArray(_formState.errors, name);\n        }\n        if (_proxyFormState.touchedFields && get(_formState.touchedFields, name)) {\n            const output = method(get(_formState.touchedFields, name), args.argA, args.argB);\n            shouldSet && set(_formState.touchedFields, name, output);\n            unsetEmptyArray(_formState.touchedFields, name);\n        }\n        if (_proxyFormState.dirtyFields || _proxyFormState.isDirty) {\n            set(_formState.dirtyFields, name, setFieldArrayDirtyFields(omitKey(updatedFieldArrayValues, keyName), get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n            updatedFieldArrayValues &&\n                set(_formState.dirtyFields, name, setFieldArrayDirtyFields(omitKey(updatedFieldArrayValues, keyName), get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n            unsetEmptyArray(_formState.dirtyFields, name);\n        }\n        _subjects.state.next({\n            isDirty: _getIsDirty(name, omitKey(updatedFieldArrayValues, keyName)),\n            dirtyFields: _formState.dirtyFields,\n            errors: _formState.errors,\n            isValid: _formState.isValid,\n        });\n    };\n    const _getFieldArrayValue = (name) => get(_isMounted ? _formValues : _defaultValues, name, []);\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        set(_formValues, name, value);\n        if (isFieldArray) {\n            _subjects.array.next({\n                values: value,\n                name,\n                isReset: true,\n            });\n            if ((_proxyFormState.isDirty || _proxyFormState.dirtyFields) &&\n                options.shouldDirty) {\n                set(_formState.dirtyFields, name, setFieldArrayDirtyFields(value, get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n                _subjects.state.next({\n                    name,\n                    dirtyFields: _formState.dirtyFields,\n                    isDirty: _getIsDirty(name, value),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(value)\n                ? setValues(name, value, options)\n                : setFieldValue(name, value, options, true);\n        }\n        isFieldWatched(name) && _subjects.state.next({});\n        _subjects.watch.next({\n            name,\n        });\n    };\n    const trigger = async (name, options = {}) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        _subjects.state.next({\n            isValidating: true,\n        });\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                await validateForm(_fields);\n                isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        return isValid;\n    };\n    const triggerBackground = async (name, options = {}) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        // _subjects.state.next({\n        //     isValidating: true,\n        // });\n        console.log(\"dyno ;)\", \"trigger\", _formState.errors);\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                isValid = await validateForm(_fields, true);\n                // isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        // _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        console.log(\"dyno ;)\", \"trigger\", _formState.errors, \"end\");\n        return isValid;\n    };\n    const getValues = (fieldNames) => {\n        console.log(\"dyno ;)\", _formValues, _fields, \"fdfdfdfdfdfd\")\n        const values = Object.assign(Object.assign({}, _defaultValues), _formValues);\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const clearErrors = (name) => {\n        name\n            ? convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName))\n            : (_formState.errors = {});\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        set(_formState.errors, name, Object.assign(Object.assign({}, error), { ref }));\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (fieldName, defaultValue) => isFunction(fieldName)\n        ? _subjects.watch.subscribe({\n            next: (info) => fieldName(_getWatch(undefined, defaultValue), info),\n        })\n        : _getWatch(fieldName, defaultValue, true);\n    const unregister = (name, options = {}) => {\n        for (const inputName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(inputName);\n            _names.array.delete(inputName);\n            if (get(_fields, inputName)) {\n                if (!options.keepValue) {\n                    unset(_fields, inputName);\n                    unset(_formValues, inputName);\n                }\n                !options.keepError && unset(_formState.errors, inputName);\n                !options.keepDirty && unset(_formState.dirtyFields, inputName);\n                !options.keepTouched && unset(_formState.touchedFields, inputName);\n                !formOptions.shouldUnregister &&\n                    !options.keepDefaultValue &&\n                    unset(_defaultValues, inputName);\n            }\n        }\n        _subjects.watch.next({});\n        _subjects.state.next(Object.assign(Object.assign({}, _formState), (!options.keepDirty ? {} : { isDirty: _getIsDirty() })));\n        !options.keepIsValid && _updateValid();\n    };\n    const registerFieldRef = (name, fieldRef, options) => {\n        register(name, options);\n        let field = get(_fields, name);\n        const ref = isUndefined(fieldRef.value)\n            ? fieldRef.querySelectorAll\n                ? fieldRef.querySelectorAll('input,select,textarea')[0] ||\n                    fieldRef\n                : fieldRef\n            : fieldRef;\n        const isRadioOrCheckbox = isRadioOrCheckboxFunction(ref);\n        if (ref === field._f.ref ||\n            (isRadioOrCheckbox &&\n                compact(field._f.refs || []).find((option) => option === ref))) {\n            return;\n        }\n        field = {\n            _f: isRadioOrCheckbox\n                ? Object.assign(Object.assign({}, field._f), { refs: [\n                        ...compact(field._f.refs || []).filter((ref) => isHTMLElement(ref) && document.contains(ref)),\n                        ref,\n                    ], ref: { type: ref.type, name } }) : Object.assign(Object.assign({}, field._f), { ref }),\n        };\n        set(_fields, name, field);\n        _updateValidAndInputValue(name, ref);\n    };\n    const register = (name, options = {}) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", \"registerRegister\", field, name, _fields)\n        set(_fields, name, {\n            _f: Object.assign(Object.assign(Object.assign({}, (field && field._f ? field._f : { ref: { name } })), { name, mount: true }), options),\n        });\n        console.log(\"dyno ;)\", Object.assign(Object.assign(Object.assign({}, (field && field._f ? field._f : { ref: { name } })), { name, mount: true }), options),\"registerRegister after\", field, name, _fields)\n        if (options.value) {\n            set(_formValues, name, options.value);\n        }\n        if (!isUndefined(options.disabled) &&\n            field &&\n            field._f &&\n            field._f.ref.disabled !== options.disabled) {\n            set(_formValues, name, options.disabled ? undefined : field._f.ref.value);\n        }\n        _names.mount.add(name);\n        !field && _updateValidAndInputValue(name, undefined, true);\n        return isWindowUndefined\n            ? { name: name }\n            : Object.assign(Object.assign({ name }, (isUndefined(options.disabled)\n                ? {}\n                : { disabled: options.disabled })), { onChange: handleChange, onBlur: handleChange, ref: (ref) => {\n                    if (ref) {\n                        registerFieldRef(name, ref, options);\n                    }\n                    else {\n                        const field = get(_fields, name, {});\n                        const _shouldUnregister = formOptions.shouldUnregister || options.shouldUnregister;\n                        if (field._f) {\n                            field._f.mount = false;\n                        }\n                        _shouldUnregister &&\n                            !(isNameInFieldArray(_names.array, name) && _isInAction) &&\n                            _names.unMount.add(name);\n                    }\n                } });\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist && e.persist();\n        }\n        let hasNoPromiseError = true;\n        let fieldValues = Object.assign({}, _formValues);\n        // console.log(\"dyno ;)\", _formValues,\"_formValues\")\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        try {\n            if (formOptions.resolver) {\n                const { errors, values } = await executeResolver();\n                _formState.errors = errors;\n                fieldValues = values;\n            }\n            else {\n                await validateForm(_fields);\n            }\n            if (isEmptyObject(_formState.errors) &&\n                Object.keys(_formState.errors).every((name) => get(fieldValues, name))) {\n                _subjects.state.next({\n                    errors: {},\n                    isSubmitting: true,\n                });\n                await onValid(fieldValues, e);\n            }\n            else {\n                onInvalid && (await onInvalid(_formState.errors, e));\n                formOptions.shouldFocusError &&\n                    focusFieldBy(_fields, (key) => get(_formState.errors, key), _names.mount);\n            }\n        }\n        catch (err) {\n            hasNoPromiseError = false;\n            throw err;\n        }\n        finally {\n            _formState.isSubmitted = true;\n            _subjects.state.next({\n                isSubmitted: true,\n                isSubmitting: false,\n                isSubmitSuccessful: isEmptyObject(_formState.errors) && hasNoPromiseError,\n                submitCount: _formState.submitCount + 1,\n                errors: _formState.errors,\n            });\n        }\n    };\n    const reset = (values, keepStateOptions = {}) => {\n        const updatedValues = values || _defaultValues;\n        if (isWeb && !keepStateOptions.keepValues) {\n            for (const name of _names.mount) {\n                const field = get(_fields, name);\n                if (field && field._f) {\n                    const inputRef = Array.isArray(field._f.refs)\n                        ? field._f.refs[0]\n                        : field._f.ref;\n                    try {\n                        isHTMLElement(inputRef) && inputRef.closest('form').reset();\n                        break;\n                    }\n                    catch (_a) { }\n                }\n            }\n        }\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = Object.assign({}, updatedValues);\n            _formValues = Object.assign({}, updatedValues);\n        }\n        if (!keepStateOptions.keepValues) {\n            _fields = {};\n            _formValues = {};\n            _subjects.control.next({\n                values: keepStateOptions.keepDefaultValues\n                    ? _defaultValues\n                    : Object.assign({}, updatedValues),\n            });\n            _subjects.watch.next({});\n            _subjects.array.next({\n                values: Object.assign({}, updatedValues),\n                isReset: true,\n            });\n        }\n        _names = {\n            mount: new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            watch: new Set(),\n            watchAll: false,\n        };\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: keepStateOptions.keepDirty\n                ? _formState.isDirty\n                : keepStateOptions.keepDefaultValues\n                    ? deepEqual(values, _defaultValues)\n                    : false,\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: keepStateOptions.keepDirty ? _formState.dirtyFields : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitting: false,\n            isSubmitSuccessful: false,\n        });\n        _isMounted = !!keepStateOptions.keepIsValid;\n    };\n    const setFocus = (name) => get(_fields, name)._f.ref.focus();\n    return {\n        control: {\n            register,\n            unregister,\n            _getIsDirty,\n            _getWatch,\n            _updateValid,\n            _updateFormValues,\n            _bathFieldArrayUpdate,\n            _getFieldArrayValue,\n            _subjects,\n            _shouldUnregister: formOptions.shouldUnregister,\n            _fields,\n            _proxyFormState,\n            get _formValues() {\n                return _formValues;\n            },\n            set _formValues(value) {\n                _formValues = value;\n            },\n            get _isMounted() {\n                return _isMounted;\n            },\n            set _isMounted(value) {\n                _isMounted = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            set _defaultValues(value) {\n                _defaultValues = value;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            _isInAction: {\n                get val() {\n                    return _isInAction;\n                },\n                set val(value) {\n                    _isInAction = value;\n                },\n            },\n            _formState: {\n                get val() {\n                    return _formState;\n                },\n                set val(value) {\n                    _formState = value;\n                },\n            },\n            _updateProps: (options) => {\n                formOptions = Object.assign(Object.assign({}, defaultOptions), options);\n            },\n        },\n        trigger,\n        triggerBackground,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n    };\n}\n","import isHTMLElement from './isHTMLElement';\nexport default (ref) => !isHTMLElement(ref) || !document.contains(ref);\n","import * as React from 'react';\nimport { createFormControl } from './logic/createFormControl';\nimport { createFormControlV3 as createFormControlV2 } from './logic/createFormControlV3';\nimport getProxyFormState from './logic/getProxyFormState';\nimport shouldRenderFormState from './logic/shouldRenderFormState';\nimport get from './utils/get';\nimport live from './utils/live';\nimport set from './utils/set';\nexport function useForm(props = {}) {\n    const _formControl = React.useRef();\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        dirtyFields: {},\n        isSubmitted: false,\n        submitCount: 0,\n        touchedFields: {},\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        errors: {},\n    });\n    if (_formControl.current) {\n        _formControl.current.control._updateProps(props);\n    }\n    else {\n        _formControl.current = Object.assign(Object.assign({}, createFormControlV2(props)), { formState });\n    }\n    const control = _formControl.current.control;\n    React.useEffect(() => {\n        const formStateSubscription = control._subjects.state.subscribe({\n            next(formState) {\n                // console.log(\"dyno ;)\", \"##1\", formState,control._proxyFormState)\n                if (shouldRenderFormState(formState, control._proxyFormState, true)) {\n                    control._formState.val = Object.assign(Object.assign({}, control._formState.val), formState);\n                    updateFormState(Object.assign({}, control._formState.val));\n                }\n            },\n        });\n        const useFieldArraySubscription = control._subjects.array.subscribe({\n            next(state) {\n                if (state.values && state.name && control._proxyFormState.isValid) {\n                    set(control._formValues, state.name, state.values);\n                    control._updateValid();\n                }\n            },\n        });\n        return () => {\n            formStateSubscription.unsubscribe();\n            useFieldArraySubscription.unsubscribe();\n        };\n    }, [control]);\n    React.useEffect(() => {\n        const unregisterFieldNames = [];\n        if (!control._isMounted) {\n            control._isMounted = true;\n            control._proxyFormState.isValid && control._updateValid();\n            !props.shouldUnregister &&\n                control._updateFormValues(control._defaultValues);\n        }\n        for (const name of control._names.unMount) {\n            const field = get(control._fields, name);\n            field &&\n                (field._f.refs ? field._f.refs.every(live) : live(field._f.ref)) &&\n                unregisterFieldNames.push(name);\n        }\n        console.log(\"dyno ;)\", unregisterFieldNames,'unregisterFieldNames',control._names,control)\n        unregisterFieldNames.length &&\n            _formControl.current.unregister(unregisterFieldNames);\n        control._names.unMount = new Set();\n    });\n    _formControl.current.formState = getProxyFormState(formState, control._proxyFormState);\n    return _formControl.current;\n}","import * as React from 'react';\nimport convertToArrayPayload from './utils/convertToArrayPayload';\nimport isUndefined from './utils/isUndefined';\nimport { useFormContext } from './useFormContext';\nexport function useWatch(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, defaultValue, disabled, } = props || {};\n    const _name = React.useRef(name);\n    _name.current = name;\n    const [value, updateValue] = React.useState(isUndefined(defaultValue)\n        ? control._getWatch(name)\n        : defaultValue);\n    React.useEffect(() => {\n        const watchSubscription = control._subjects.watch.subscribe({\n            next: ({ name }) => {\n                console.log(\"dyno ;)\", \"##1 watchSubscription\", name)\n                return(!_name.current ||\n                !name ||\n                convertToArrayPayload(_name.current).some((fieldName) => name &&\n                    fieldName &&\n                    (fieldName.startsWith(name) ||\n                        name.startsWith(fieldName)))) &&\n                updateValue(control._getWatch(_name.current, defaultValue))},\n        });\n        disabled && watchSubscription.unsubscribe();\n        return () => watchSubscription.unsubscribe();\n    }, [disabled, control, defaultValue]);\n    return value;\n}","import { useMemo, useState } from \"react\";\nimport _ from \"lodash\";\n\nconst rebuildHistory = (history = {}, to = 0, from = 0) => {\n    const newHistory = [...history].slice(from, to);\n    console.log(\"dyno ;)\", 'rebuildHistory', newHistory, to)\n    return new Set(newHistory);\n}\n\nexport default function useHistory(init = { name: \"\" }) {\n\n    const [states, setStates] = useState(init);\n\n    //history\n    const [history, updateHistory] = useState(new Set());\n    const [index, setIndex] = useState(0);\n    const [currentPage, updateCurrentPage] = useState(init?.name);\n\n    const state = useMemo(() => states[currentPage], [index, currentPage]);\n    // const state = useMemo(() => states[init?.name], [states, init.name]);\n\n    // {\n    //     \"dashboard\": { }\n    // }\n\n    const setState = (value) => {\n        if (value === undefined || value === null || value === {}) return;\n        // check the existing one with name\n        // { name: \"pageName\" }\n        const pageName = value.name;\n\n        const existing = _.get(states, pageName);\n\n        // check whether equal or it changed ;)\n        if (history.has(pageName)) {\n            // if (_.isEqual(existing, value)) {\n            // const existingPage = _.get(states,pageName);\n            // const newHistory = [...history].slice(0,existing[\"x-index\"]);\n            const newHistory = rebuildHistory(history, existing[\"x-index\"]);\n            updateHistory(newHistory)\n\n            const copy = _.cloneDeep(_.set(states, pageName, { ...value, \"x-index\": existing[\"x-index\"] }));\n            setStates(copy);\n\n            // updateHistory(new Set(newHistory));\n            setIndex(existing[\"x-index\"])\n            updateCurrentPage(pageName);\n\n            console.log(\"dyno ;)\", \"lolllllllllllllllllll\", history, '99999', existing[\"x-index\"], newHistory);\n            return;\n        }\n        console.log(\"dyno ;)\", \"histlori\", value, _.set(states, pageName, value), state, history.size)\n        const newIndex = index + 1;\n        const copy = _.cloneDeep(_.set(states, pageName, { ...value, \"x-index\": newIndex }));\n        // setIndex(pageName);\n        setIndex(newIndex);\n        // copy = _.set(copy,value.name, value);\n        updateHistory(history.add(pageName));\n        setStates(copy);\n        updateCurrentPage(pageName);\n        console.log(\"dyno ;)\", 'hissssstory', history)\n        console.log(\"dyno ;)\", value, 'drooooomemppppppphistlori', existing)\n        console.log(\"dyno ;)\", states, '31231232323132', state, currentPage, _.isEqual(existing, value))\n    }\n\n    const setStateOld = (value) => {\n        if (_.isEqual(state, value)) {\n            return;\n        }\n        const copy = _.cloneDeep(states);\n        copy.length = index + 1;\n        copy.push(value);\n        setStates(copy);\n        setIndex(copy.length - 1);\n        console.log(\"dyno ;)\", states, 'drooooomemppppppp', _.isEqual(state, value), copy, index)\n    };\n\n    const resetState = (init = { name: \"\" }) => {\n        setIndex(0);\n        setStates({});\n        updateHistory([])\n        console.log(\"dyno ;)\", \":::::resetState\", history, states, index)\n    };\n\n    const goBack = (steps = 1, reset = false) => {\n        if(Number(steps)){\n            goBackByIndex(steps, reset);\n            return;\n        }\n        console.log(\"dyno ;)\", 'gobackbyname', steps)\n        if(!states[steps]){\n            throw \"gobackbyname is not available ;)\";\n        }\n        goBackByName(steps, reset);\n    }\n\n\n    const goBackByIndex = (steps = 1, reset = false) => {\n        console.log(\"dyno ;)\", steps, 'stepsssssss')\n        const newIndex = Math.max(0, Number(index) - (Number(steps) || 1));\n        const previousPageName = Object.keys(states)[newIndex - 1];\n        // setIndex(Math.max(0, Number(index) - (Number(steps) || 1)));\n        console.log(\"dyno ;)\", Math.max(0, Number(index) - (Number(steps) || 1)), 'drooooomempppppppdrooooo45678mempppppppdrooooomemppppppp', index, previousPageName, states[previousPageName])\n        updateCurrentPage(previousPageName);\n        setIndex(newIndex);\n        if (reset) {\n            const existingPage = _.get(states, previousPageName);\n            const newHistory = rebuildHistory(history, newIndex);\n            // let copy = {}\n            // newHistory.map(page => copy = _.set(copy, states[page]))\n            // setStates(copy);\n            updateHistory(newHistory)\n            console.log(\"dyno ;)\", \n                previousPageName,\n                newIndex,\n                'resetHardddddddd',\n                history,\n                newHistory,\n                existingPage[\"x-index\"],\n                // copy\n            )\n        }\n    };\n\n    const goBackByName = (steps = 1, reset = false) => {\n        console.log(\"dyno ;)\", steps, 'stepsssssss')\n        const existingPage = _.get(states, steps);\n\n\n        const newIndex = Math.max(0, Number(index) - (Number(steps) || 1));\n        const previousPageName = Object.keys(states)[newIndex - 1];\n        // setIndex(Math.max(0, Number(index) - (Number(steps) || 1)));\n        console.log(\"dyno ;)\", Math.max(0, Number(index) - (Number(steps) || 1)), 'drooooomempppppppdrooooo45678mempppppppdrooooomemppppppp', index, previousPageName, states[previousPageName])\n        updateCurrentPage(previousPageName);\n        setIndex(newIndex);\n        if (reset) {\n            const existingPage = _.get(states, previousPageName);\n            const newHistory = rebuildHistory(history, newIndex);\n            // let copy = {}\n            // newHistory.map(page => copy = _.set(copy, states[page]))\n            // setStates(copy);\n            updateHistory(newHistory)\n            console.log(\"dyno ;)\", \n                previousPageName,\n                newIndex,\n                'resetHardddddddd',\n                history,\n                newHistory,\n                existingPage[\"x-index\"],\n                // copy\n            )\n        }\n    };\n\n    const goForward = (steps = 1) => {\n        setIndex(Math.min(states.length - 1, Number(index) + (Number(steps) || 1)));\n    };\n\n    const updatePage = (value) => {\n        const existing = _.get(states, currentPage);\n        existing.defaultValues = { ...value };\n        console.log(\"dyno ;)\", value, 'updatePage youuuuupppp', existing)\n    }\n\n    return {\n        state: state,\n        setState: setState,\n        resetState: resetState,\n        currentPage,\n        index: index,\n        lastIndex: states?.length - 1 || 0,\n        goBack: goBack,\n        goForward: goForward,\n        updatePage: updatePage,\n        history\n    };\n}","const jsonataOriginal = require('jsonata');\n\nconst htmltotext = (value, options) => { \n    return `${value} yasserrrrrrrr`\n}\n\nconst registerWithJSONATA = (expression) => {\n    if (typeof expression === 'undefined' || typeof expression.registerFunction === 'undefined') {\n      throw new TypeError('Invalid JSONata Expression');\n    }\n    expression.registerFunction(\n      'htmltotext',\n      (value, options) => htmltotext(value, options),\n      '<s?o?:s>'\n    );\n}\n\nfunction jsonataExtended(expr, options) {\n    const expression = jsonataOriginal(expr, options);\n    registerWithJSONATA(expression);\n    return expression;\n}\n\nexport default jsonataExtended;","import jsonata from \"../utils/jsonata\";\n\nexport default async function transformer(data, schema)  {\n    const expression = jsonata(schema);\n    const result = await expression.evaluate(data);\n    return result;\n}","import { useState, useEffect } from 'react';\n\nconst useDynamoHistory = (initialArr, field, id, preventDuplicates = false, replaceDuplicate = false) => {\n  if (!Array.isArray(initialArr)) {\n    throw new Error('initialArr must be an array.');\n  }\n\n  const [history, setHistory] = useState(initialArr);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  useEffect(() => {\n    if (history.length === 0) {\n      setCurrentIndex(0);\n    } else {\n      const newIndex = history.findIndex(e => e[field] === id);\n      setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n    }\n  }, [id]);\n\n  useEffect(() => {\n    // Assign the type of the first object as primary if not explicitly specified\n    if (history.length > 0 && !history[0].type) {\n      setHistory(prevHistory => {\n        const updatedFirstObj = { ...prevHistory[0], type: 'primary' };\n        return [updatedFirstObj, ...prevHistory.slice(1)];\n      });\n    }\n  }, [history]);\n\n  const getNextIndex = () => (currentIndex + 1 >= history.length ? false : currentIndex + 1);\n  const getPreviousIndex = () => (currentIndex - 1 < 0 ? false : currentIndex - 1);\n\n  const next = () => {\n    if (history.length === 0) return false;\n    const nextIndex = getNextIndex();\n    return nextIndex !== false ? history[nextIndex] : false;\n  };\n\n  const current = () => (currentIndex >= 0 && currentIndex < history.length ? history[currentIndex] : false);\n\n  const previous = () => {\n    if (history.length === 0) return false;\n    const previousIndex = getPreviousIndex();\n    return previousIndex !== false ? history[previousIndex] : false;\n  };\n\n  const goToStart = () => {\n    if (history.length === 0) return;\n    setCurrentIndex(0);\n  };\n\n  const goTo = (newId, removeAfter = false) => {\n    if (history.length === 0) return;\n    const newIndex = history.findIndex(e => e[field] === newId);\n    if (newIndex >= 0) {\n      setCurrentIndex(newIndex);\n      if (removeAfter) {\n        removeAfterIndex(newIndex);\n      }\n    }\n  };\n\n  const goNext = () => {\n    if (history.length === 0) return;\n    const nextIndex = getNextIndex();\n    if (nextIndex !== false) {\n      setCurrentIndex(nextIndex);\n    }\n  };\n\n  const goToIndex = (index, removeAfter = false) => {\n    if (history.length === 0) return;\n    if (index >= 0 && index < history.length) {\n      setCurrentIndex(index);\n      if (removeAfter) {\n        removeAfterIndex(index);\n      }\n    }\n  };\n\n  const goBack = (removeAfter = false) => {\n    if (history.length === 0) return;\n    const previousIndex = getPreviousIndex();\n    if (previousIndex !== false) {\n      setCurrentIndex(previousIndex);\n      if (removeAfter) {\n        removeAfterIndex(previousIndex);\n      }\n    }\n  };\n\n  const goBackToPrimary = (removeAfter = false, skipSecondary = true) => {\n    if (history.length === 0) return;\n  \n    let previousIndex = currentIndex - 1;\n    if (skipSecondary) {\n      while (previousIndex >= 0 && history[previousIndex].type === 'secondary') {\n        previousIndex--;\n      }\n    }\n  \n    if (previousIndex >= 0) {\n      setCurrentIndex(previousIndex);\n      if (removeAfter) {\n        removeAfterIndex(previousIndex);\n      }\n    }\n  };\n\n  const goForwardToType = (removeAfter = false, skipSecondary = true, type = \"primary\") => {\n    if (history.length === 0) return;\n  \n    let nextIndex = currentIndex + 1;\n    if (skipSecondary) {\n      while (nextIndex < history.length && history[nextIndex].type !== type) {\n        nextIndex++;\n      }\n    }\n    \n    if (nextIndex < history.length) {\n      setCurrentIndex(nextIndex);\n      if (removeAfter) {\n        removeAfterIndex(nextIndex);\n      }\n    }\n  };\n\n  const goToEnd = () => {\n    if (history.length === 0) return;\n    setCurrentIndex(history.length - 1);\n  };\n\n  const insertObjectAtIndex = (object, insertIndex) => {\n    if(insertIndex > history.length) return;\n    const newArray = [...history];\n    newArray.splice(insertIndex, 0, object);\n    setHistory(newArray);\n    setCurrentIndex(insertIndex);\n  };\n\n  const insertObject = (object, insertIndex, customIgnoreDuplicates = false, customReplaceDuplicate = undefined) => {\n    if (preventDuplicates && !customIgnoreDuplicates) {\n      const existingIndex = history.findIndex(e => e[field] === object[field]);\n      if (existingIndex !== -1) {\n        if (customReplaceDuplicate !== undefined ? customReplaceDuplicate : replaceDuplicate) {\n          const newArray = [...history];\n          newArray[existingIndex] = object;\n          setHistory(newArray);\n          setCurrentIndex(existingIndex); // Update current index to reflect the new position\n        } else {\n          setCurrentIndex(existingIndex); // Update current index to the existing position\n        }\n        return; // Duplicate object found, do not insert or replace\n      }\n    }\n  \n    const previousObject = previous();\n    const objectType = previousObject && previousObject.type === 'primary' ? 'secondary' : 'primary';\n  \n    const objectWithDefaultType = {\n      ...object,\n      ...(!object.type && {type: objectType}),\n    };\n  \n    if (insertIndex !== undefined) {\n      insertObjectAtIndex(objectWithDefaultType, insertIndex);\n    } else {\n      setHistory([...history, objectWithDefaultType]);\n      setCurrentIndex(history.length);\n    }\n  };\n\n  const updateCurrent = (updatedObject) => {\n    if (history.length === 0) return;\n  \n    // If the current object is the first object and its type is secondary,\n    // replace the type with \"primary\"\n    if (currentIndex === 0 && updatedObject.type === 'secondary') {\n      updatedObject.type = 'primary';\n    }\n  \n    const updatedArray = [...history];\n    updatedArray[currentIndex] = updatedObject;\n    setHistory(updatedArray);\n  };\n\n  const updateObjectById = (updatedObject) => {\n    if (history.length === 0) return;\n\n    // If the current object is the first object and its type is secondary,\n    // replace the type with \"primary\"\n    if (currentIndex === 0 && updatedObject.type === 'secondary') {\n      updatedObject.type = 'primary';\n    }\n\n    const index = history.findIndex(e => e[field] === updatedObject[field]);\n    if (index !== -1) {\n      const updatedArray = [...history];\n      updatedArray[index] = updatedObject;\n      setHistory(updatedArray);\n    }\n  };\n  \n  const removeObjectByIndex = removeIndex => {\n    if (removeIndex >= 0 && removeIndex < history.length) {\n      const newArray = [...history];\n      newArray.splice(removeIndex, 1);\n      setHistory(newArray);\n\n      // Adjust the current index if the removed item is before the current index\n      if (removeIndex < currentIndex) {\n        setCurrentIndex(currentIndex - 1);\n      }\n      // Set the current index to the last item if it was the last item that got removed\n      if (currentIndex >= history.length - 1) {\n        setCurrentIndex(history.length - 2);\n      }\n    }\n  };\n\n  const removeObjectByName = removeName => {\n    const removeIndex = history.findIndex(e => e[field] === removeName);\n    removeObjectByIndex(removeIndex);\n  };\n\n  const removeAtIndex = index => {\n    if (index >= 0 && index < history.length) {\n      const newArr = [...history];\n      newArr.splice(index, 1);\n      setHistory(newArr);\n      if (currentIndex >= history.length) {\n        setCurrentIndex(history.length > 0 ? history.length - 1 : 0);\n      }\n    }\n  };\n\n  const removeByName = name => {\n    const index = history.findIndex(e => e[field] === name);\n    if (index !== -1) {\n      removeAtIndex(index);\n    }\n  };\n\n  const removeFirst = () => {\n    if (history.length > 0) {\n      removeAtIndex(0);\n    }\n  };\n\n  const removeLast = () => {\n    if (history.length > 0) {\n      removeAtIndex(history.length - 1);\n    }\n  };\n\n  const removeAll = () => {\n    setHistory([]);\n    setCurrentIndex(0);\n  };\n\n  const removeAfterIndex = index => {\n    if (index >= 0 && index < history.length - 1) {\n      const newArr = [...history];\n      newArr.splice(index + 1);\n      setHistory(newArr);\n      if (currentIndex >= history.length) {\n        setCurrentIndex(history.length > 0 ? history.length - 1 : 0);\n      }\n    }\n  };\n\n  const getHistory = () => {\n    const historyDict = {};\n    history.forEach((obj, index) => {\n      const objId = obj[field];\n      historyDict[objId] = obj;\n    });\n    return historyDict;\n  };\n\n  return {\n    history,\n    currentIndex,\n    next,\n    current,\n    previous,\n    goToStart,\n    goTo,\n    goNext,\n    goToIndex,\n    goBack,\n    goToEnd,\n    insertObject,\n    insertObjectAtIndex,\n    removeAtIndex,\n    removeByName,\n    removeFirst,\n    removeLast,\n    removeAll,\n    removeAfterIndex,\n    removeObjectByIndex,\n    removeObjectByName,\n    updateCurrent,\n    goBackToPrimary,\n    updateObjectById,\n    goForwardToType,\n    getHistory\n  };\n};\n\nexport default useDynamoHistory;\n\n// import { useState, useEffect } from 'react';\n\n// const useNavigatableObjectsArray = (initialArr, field, id, preventDuplicates = false, replaceDuplicate = false) => {\n//   if (!Array.isArray(initialArr)) {\n//     throw new Error('initialArr must be an array.');\n//   }\n\n//   const [history, setHistory] = useState(initialArr);\n//   const [currentIndex, setCurrentIndex] = useState(0);\n\n//   useEffect(() => {\n//     if (history.length === 0) {\n//       setCurrentIndex(0);\n//       return;\n//     }\n\n//     const newIndex = history.findIndex(e => e[field] === id);\n//     setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n//   }, [history, field, id]);\n\n//   const getNextIndex = () => (currentIndex + 1 >= history.length ? false : currentIndex + 1);\n//   const getPreviousIndex = () => (currentIndex - 1 < 0 ? false : currentIndex - 1);\n\n//   const next = () => {\n//     if (history.length === 0) return false;\n//     const nextIndex = getNextIndex();\n//     return nextIndex !== false ? history[nextIndex] : false;\n//   };\n\n//   const current = () => (currentIndex >= 0 && currentIndex < history.length ? history[currentIndex] : false);\n\n//   const previous = () => {\n//     if (history.length === 0) return false;\n//     const previousIndex = getPreviousIndex();\n//     return previousIndex !== false ? history[previousIndex] : false;\n//   };\n\n//   const goToStart = () => {\n//     if (history.length === 0) return;\n//     setCurrentIndex(0);\n//   };\n\n//   const goTo = (newId, removeAfter = false) => {\n//     if (history.length === 0) return;\n//     const newIndex = history.findIndex(e => e[field] === newId);\n//     if (newIndex >= 0) {\n//       setCurrentIndex(newIndex);\n//       if (removeAfter) {\n//         removeAfterIndex(newIndex);\n//       }\n//     }\n//   };\n\n//   const goNext = () => {\n//     if (history.length === 0) return;\n//     const nextIndex = getNextIndex();\n//     if (nextIndex !== false) {\n//       setCurrentIndex(nextIndex);\n//     }\n//   };\n\n//   const goToIndex = (index, removeAfter = false) => {\n//     if (history.length === 0) return;\n//     if (index >= 0 && index < history.length) {\n//       setCurrentIndex(index);\n//       if (removeAfter) {\n//         removeAfterIndex(index);\n//       }\n//     }\n//   };\n\n//   const goToEnd = () => setCurrentIndex(history.length - 1);\n\n//   const goBack = (removeAfter = false) => {\n//     if (history.length === 0) return;\n//     const previousIndex = getPreviousIndex();\n//     if (previousIndex !== false) {\n//       setCurrentIndex(previousIndex);\n//       if (removeAfter) {\n//         removeAfterIndex(previousIndex);\n//       }\n//     }\n//   };\n\n//   const insertObject = (obj, insertIndex = history.length, preventDuplicates = false, replaceDuplicate = false) => {\n//     if (preventDuplicates) {\n//       const duplicateIndex = history.findIndex(e => e[field] === obj[field]);\n//       if (duplicateIndex !== -1) {\n//         if (replaceDuplicate) {\n//           const newArr = [...history];\n//           newArr.splice(duplicateIndex, 1, obj);\n//           setHistory(newArr);\n//           setCurrentIndex(history.length > 0 ? currentIndex : 0);\n//         }\n//         return;\n//       }\n//     }\n//     const newArr = [...history];\n//     newArr.splice(insertIndex, 0, obj);\n//     setHistory(newArr);\n//     setCurrentIndex(history.length > 0 ? currentIndex : 0);\n//   };\n\n//   const removeAtIndex = index => {\n//     if (history.length === 0 || index < 0 || index >= history.length) return;\n//     const newArr = [...history];\n//     newArr.splice(index, 1);\n//     setHistory(newArr);\n//     setCurrentIndex(history.length > 0 ? currentIndex : 0);\n//   };\n\n//   const removeByName = name => {\n//     if (history.length === 0) return;\n//     const index = history.findIndex(e => e[field] === name);\n//     if (index !== -1) {\n//       removeAtIndex(index);\n//     }\n//   };\n\n//   const removeFirst = () => {\n//     removeAtIndex(0);\n//   };\n\n//   const removeLast = () => {\n//     removeAtIndex(history.length - 1);\n//   };\n\n//   const removeAll = () => {\n//     setHistory([]);\n//     setCurrentIndex(0);\n//   };\n\n//   const removeAfterIndex = index => {\n//     if (index < 0 || index >= history.length - 1) return;\n//     const newArr = history.slice(0, index + 1);\n//     setHistory(newArr);\n//     setCurrentIndex(index);\n//   };\n\n//   return {\n//     history,\n//     next,\n//     current,\n//     previous,\n//     goToStart,\n//     goTo,\n//     goNext,\n//     goToEnd,\n//     goBack,\n//     goToIndex,\n//     insertObject,\n//     removeAtIndex,\n//     removeByName,\n//     removeFirst,\n//     removeLast,\n//     removeAll,\n//     removeAfterIndex,\n//     currentIndex\n//   };\n// };\n\n// export default useNavigatableObjectsArray;\n\n// // import { useState, useEffect } from 'react';\n\n// // const useNavigatableObjectsArray = (initialArr, field, id, preventDuplicates = false, replaceDuplicate = false) => {\n// //   const [history, setHistory] = useState(initialArr);\n// //   const [currentIndex, setCurrentIndex] = useState(0);\n\n// //   useEffect(() => {\n// //     const newIndex = history.map(e => e[field]).indexOf(id);\n// //     setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n// //   }, [history, field, id]);\n\n// //   useEffect(() => {\n// //     const newIndex = history.findIndex(e => e[field] === history[currentIndex][field]);\n// //     setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n// //   }, [history, field, currentIndex]);\n\n// //   const getNextIndex = () => (currentIndex + 1 >= history.length ? false : currentIndex + 1);\n// //   const getPreviousIndex = () => (currentIndex - 1 < 0 ? false : currentIndex - 1);\n\n// //   const next = () => {\n// //     const nextIndex = getNextIndex();\n// //     return nextIndex !== false ? history[nextIndex] : false;\n// //   };\n\n// //   const current = () => (currentIndex >= 0 && currentIndex < history.length ? history[currentIndex] : false);\n\n// //   const previous = () => {\n// //     const previousIndex = getPreviousIndex();\n// //     return previousIndex !== false ? history[previousIndex] : false;\n// //   };\n\n// //   const goToStart = () => setCurrentIndex(0);\n\n// //   // const goTo = newId => {\n// //   //   const newIndex = history.map(e => e[field]).indexOf(newId);\n// //   //   if (newIndex >= 0) setCurrentIndex(newIndex);\n// //   // };\n\n// //   const goTo = (newId, removeAfter = false) => {\n// //     const newIndex = history.map(e => e[field]).indexOf(newId);\n// //     if (newIndex >= 0) {\n// //       setCurrentIndex(newIndex);\n// //       if (removeAfter) {\n// //         removeAfterIndex(newIndex);\n// //       }\n// //     }\n// //   };\n\n// //   const goNext = () => {\n// //     const nextIndex = getNextIndex();\n// //     if (nextIndex !== false) setCurrentIndex(nextIndex);\n// //   };\n\n// //   // const goBack = () => {\n// //   //   const previousIndex = getPreviousIndex();\n// //   //   if (previousIndex !== false) setCurrentIndex(previousIndex);\n// //   // };\n\n// //   const goToEnd = () => setCurrentIndex(history.length - 1);\n\n// //   // const goToIndex = index => {\n// //   //   if (index >= 0 && index < history.length) {\n// //   //     setCurrentIndex(index);\n// //   //   }\n// //   // };\n\n// //   const goToIndex = (index, removeAfter = false) => {\n// //     if (index >= 0 && index < history.length) {\n// //       setCurrentIndex(index);\n// //       if (removeAfter) {\n// //         removeAfterIndex(index);\n// //       }\n// //     }\n// //   };\n\n// //   const goBack = (removeAfter = false) => {\n// //     const previousIndex = getPreviousIndex();\n// //     if (previousIndex !== false) {\n// //       setCurrentIndex(previousIndex);\n// //       console.log(removeAfter, 'removeAfter');\n// //       if (removeAfter) {\n// //         removeAfterIndex(previousIndex);\n// //       }\n// //     }\n// //   };\n\n// //   const insertObjectAtIndex = (object, insertIndex) => {\n// //     const newArray = [...history];\n// //     newArray.splice(insertIndex, 0, object);\n// //     setHistory(newArray);\n// //     setCurrentIndex(insertIndex);\n// //   };\n\n// //   const insertObject = (object, insertIndex, ignoreDuplicates = false, customReplaceDuplicate = undefined) => {\n// //     if (preventDuplicates && !ignoreDuplicates) {\n// //       const existingIndex = history.findIndex(e => e[field] === object[field]);\n// //       if (existingIndex !== -1) {\n// //         if (customReplaceDuplicate !== undefined ? customReplaceDuplicate : replaceDuplicate) {\n// //           const newArray = [...history];\n// //           newArray[existingIndex] = object;\n// //           setHistory(newArray);\n// //           setCurrentIndex(existingIndex); // Update current index to reflect the new position\n// //         } else {\n// //           setCurrentIndex(existingIndex); // Update current index to the existing position\n// //         }\n// //         return; // Duplicate object found, do not insert or replace\n// //       }\n// //     }\n\n// //     if (insertIndex !== undefined) {\n// //       insertObjectAtIndex(object, insertIndex);\n// //     } else {\n// //       setHistory([...history, object]);\n// //       setCurrentIndex(history.length);\n// //     }\n// //   };\n\n// //   const removeObjectByIndex = removeIndex => {\n// //     if (removeIndex >= 0 && removeIndex < history.length) {\n// //       const newArray = [...history];\n// //       newArray.splice(removeIndex, 1);\n// //       setHistory(newArray);\n\n// //       // Adjust the current index if the removed item is before the current index\n// //       if (removeIndex < currentIndex) {\n// //         setCurrentIndex(currentIndex - 1);\n// //       }\n// //       // Set the current index to the last item if it was the last item that got removed\n// //       if (currentIndex >= history.length - 1) {\n// //         setCurrentIndex(history.length - 2);\n// //       }\n// //     }\n// //   };\n\n// //   const removeObjectByName = removeName => {\n// //     const removeIndex = history.findIndex(e => e[field] === removeName);\n// //     removeObjectByIndex(removeIndex);\n// //   };\n\n// //   const removeAfterIndex = removeIndex => {\n// //     if (removeIndex >= 0 && removeIndex < history.length - 1) {\n// //       const newArray = history.slice(0, removeIndex + 1);\n// //       setHistory(newArray);\n// //       setCurrentIndex(Math.min(currentIndex, newArray.length - 1));\n// //     }\n// //   };\n\n// //   return {\n// //     history,\n// //     next,\n// //     current,\n// //     previous,\n// //     goToStart,\n// //     goTo,\n// //     goNext,\n// //     goBack,\n// //     goToEnd,\n// //     goToIndex,\n// //     insertObject,\n// //     removeObjectByIndex,\n// //     removeObjectByName,\n// //     removeAfterIndex\n// //   };\n// // };\n\n// // export default useNavigatableObjectsArray;\n// // // Usage example:\n// // // const MyComponent = () => {\n// // //   const initialData = [\n// // //     { id: 1, name: 'Object 1' },\n// // //     { id: 2, name: 'Object 2' },\n// // //     { id: 3, name: 'Object 3' }\n// // //   ];\n\n// // //   const navigatableArray = useNavigatableObjectsArray(initialData, 'id', 2);\n\n// // //   const handleInsertObject = () => {\n// // //     const newObject = { id: 4, name: 'Object 4' };\n// // //     const insertIndex = 2; // Insert at index 2\n// // //     navigatableArray.insertObject(newObject, insertIndex);\n// // //   };\n\n// // //   const handleInsertObjectAtEnd = () => {\n// // //     const newObject = { id: 5, name: 'Object 5' };\n// // //     navigatableArray.insertObject(newObject);\n// // //   };\n\n// // //   return (\n// // //     <div>\n// // //       <button onClick={navigatableArray.goToStart}>Go to Start</button>\n// // //       <button onClick={navigatableArray.goNext}>Go Next</button>\n// // //       <button onClick={navigatableArray.goBack}>Go Back</button>\n// // //       <button onClick={navigatableArray.goToEnd}>Go to End</button>\n// // //       <button onClick={handleInsertObject}>Insert Object at Index</button>\n// // //       <button onClick={handleInsertObjectAtEnd}>Insert Object at End</button>\n// // //       <div>\n// // //         Current Object: {navigatableArray.current()?.name}\n// // //       </div>\n// // //       <ul>\n// // //         {navigatableArray.history.map(obj => (\n// // //           <li key={obj.id}>{obj.name}</li>\n// // //         ))}\n// // //       </ul>\n// // //     </div>\n// // //   );\n// // // };\n\n\n\n\n  // const insertObject = (obj, insertIndex = history.length, preventDuplicates = false, replaceDuplicate = false) => {\n  //   if (preventDuplicates) {\n  //     const duplicateIndex = history.findIndex(e => e[field] === obj[field]);\n  //     if (duplicateIndex !== -1) {\n  //       if (replaceDuplicate) {\n  //         const newArr = [...history];\n  //         newArr.splice(duplicateIndex, 1, obj);\n  //         setHistory(newArr);\n  //         setCurrentIndex(history.length > 0 ? currentIndex : 0);\n  //       }\n  //       return;\n  //     }\n  //   }\n  //   const newArr = [...history];\n  //   newArr.splice(insertIndex, 0, obj);\n  //   setHistory(newArr);\n  //   setCurrentIndex(history.length > 0 ? currentIndex : 0);\n  // };\n\n  // const insertObjectAtIndex = (obj, index, preventDuplicates = false, replaceDuplicate = false) => {\n  //   if (preventDuplicates) {\n  //     const duplicateIndex = history.findIndex(e => e[field] === obj[field]);\n  //     if (duplicateIndex !== -1) {\n  //       if (replaceDuplicate) {\n  //         const newArr = [...history];\n  //         newArr.splice(duplicateIndex, 1, obj);\n  //         setHistory(newArr);\n  //         setCurrentIndex(history.length > 0 ? currentIndex : 0);\n  //       }\n  //       return;\n  //     }\n  //   }\n  //   const newArr = [...history];\n  //   newArr.splice(index, 0, obj);\n  //   setHistory(newArr);\n  //   setCurrentIndex(history.length > 0 ? currentIndex : 0);\n  // };\n\n    // const updateCurrent = (updatedObject) => {\n  //   if (history.length === 0) return;\n  //   const updatedArray = [...history];\n  //   updatedArray[currentIndex] = updatedObject;\n  //   setHistory(updatedArray);\n  // };\n\n    // const insertObjectOLD = (object, insertIndex, customIgnoreDuplicates = false, customReplaceDuplicate = undefined) => {\n  //   if (preventDuplicates && !customIgnoreDuplicates) {\n  //     const existingIndex = history.findIndex(e => e[field] === object[field]);\n  //     if (existingIndex !== -1) {\n  //       if (customReplaceDuplicate !== undefined ? customReplaceDuplicate : replaceDuplicate) {\n  //         const newArray = [...history];\n  //         newArray[existingIndex] = object;\n  //         setHistory(newArray);\n  //         setCurrentIndex(existingIndex); // Update current index to reflect the new position\n  //       } else {\n  //         setCurrentIndex(existingIndex); // Update current index to the existing position\n  //       }\n  //       return; // Duplicate object found, do not insert or replace\n  //     }\n  //   }\n\n  //   if (insertIndex !== undefined) {\n  //     insertObjectAtIndex(object, insertIndex);\n  //   } else {\n  //     setHistory([...history, object]);\n  //     setCurrentIndex(history.length);\n  //   }\n  // };\n\n    \n\n  // useEffect(() => {\n  //   if (history.length === 0) {\n  //     setCurrentIndex(0);\n  //     return;\n  //   }\n\n  //   const newIndex = history.findIndex(e => e[field] === id);\n  //   setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n  // }, [history, field, id]);\n\n  // useEffect(() => {\n  //   if (history.length === 0) {\n  //     setCurrentIndex(0);\n  //     return;\n  //   }\n\n  //   const newIndex = history.findIndex(e => e[field] === history[currentIndex][field]);\n  //   // setCurrentIndex(newIndex >= 0 ? newIndex : 0);\n  // }, [history, currentIndex]);\n\n  // console.log(newIndex, 'useEffect [history, field, id]')\n  // console.log(newIndex, 'useEffect [history, field, currentIndex]')","import _ from \"lodash\";\n// const console = {\n//     log: () => null\n// }\n\nconst debug = (...args) => {\n    console.log(\"dynamo transformerrrrr ->\", ...args)\n}\nconst dataTransformer = (data, name, obj) => (local) => {\n    // const { getValues, dataStore } = obj.sharedItems || { getValues: undefined };\n    // const values = { ...dataStore, ...(getValues() || {}) };\n    // console.log(\"dyno ;)\", data, values, 'getValues()()()')\n    //\n\n    const { getValues, dataStore,  index = 1 } = local.sharedItems || { getValues: undefined };\n    const values = { ...dataStore, ...(getValues && getValues() || {}), index, displayIndex: index + 1 };\n\n\n    //Need to check later ;)\n    // if (typeof data === 'function') {\n    //     return data()(values)\n    // }\n\n    if (typeof data === \"string\") {\n\n        //Happy birthday ;)\n        // $$\n        // fx\n        // {{ amount && Valid() }}\n        const ExpRE = /^\\s*\\{\\{([\\s\\S]*)\\}\\}\\s*$/\n        const matched = data.match(ExpRE)\n        if (matched) {\n            console.log(\"dyno ;)\", name, 'me getValues()()()')\n            try {\n                const result = new Function('root', `return root.${matched[1]}`)({\n                    ...values,\n                    local,\n                });\n\n                // const result = new Function('$root', `with($root) { return (${matched[1]}); }`)(\n                //     {\n                //         ...values,\n                //         local\n                //     }\n                // )\n                return result;\n            } catch (error) {\n                console.log(error, '{{ error transformer }}');\n                return data;\n            }\n        }\n        //End fo Happy moment of birthday ;)\n\n\n\n        if (data !== undefined && data.includes(\"$$\")) {\n            console.log(\"dyno ;)\", \"blaherebla\", data, dataStore, _.get(values, data.substring(2)))\n            return _.get(values, data.substring(2));\n        }\n        // check fx first \n        if (data !== undefined && data.includes(\"fx\")) {\n            console.log(\"dyno ;)\", data.slice(2), 'sliceeeeeee')\n            try {\n\n                // const result = eval(`local.${data.slice(2)}`);\n\n                const result = new Function('root', `return root.${data.slice(2)}`)({\n                    ...values,\n                    local,\n                });\n\n                if (typeof result === 'function') {\n                    console.log(\"dyno ;)\", result, 'rrrrrrrsulttttttttt function')\n                    return result(values);\n                }\n                if (result?.then) {\n                    console.log(\"dyno ;)\", result, 'rrrrrrrsulttttttttt function.then')\n                    return result.then(function (response) {\n                        console.log(\"dyno ;)\", response, 'rrrrrrrsulttttttttt [2] function.then result')\n                        return response\n                    })\n                }\n                console.log(\"dyno ;)\", result, 'rrrrrrrsulttttttttt [3] function.then lol')\n                return result;\n            } catch (error) {\n                console.log(\"dyno ;)\", name, '----->', error, 'rrrrrrrsulttttttttt errorororrororor')\n            }\n        };\n\n        let patternResult = data;\n\n        // \"hi dxTransform()\"\n        // no {{ 'hi ' && Transform()}}\n        if (data !== undefined && data.includes(\"dx\")) {\n            patternResult = patternResult.replace(/dx.*?\\(.*?\\)/g, (_, name) => {\n\n                try {\n                    console.log(\"dyno ;)\", _, name, 'pattern waaaaaalalala 2nd', patternResult)\n                    const result = eval(`local.${_}`);\n                    if (typeof result === 'function') {\n                        return result(values);\n                    }\n                    return result;\n                } catch (error) {\n                    console.log(\"dyno ;)\", error, 'dxxxxxxxxxxxxdxdxxdxdxx')\n                    return _;\n                }\n            });\n        }\n\n        patternResult = patternResult.replace(/\\$\\{(.*?)\\}/g, (w, name) => {\n\n            const result = _.get(values, name) || ''; //_.get(values, name); values[name]\n            // console.log(\"dyno ;)\", values, 'valuesssssssssssssssssRGEX')\n            // console.log(\"dyno ;)\", name, '------>>>>>>------', result, 'pattern waaaaaalalala only', patternResult)\n\n            return result !== undefined && result//\"\";//field[name];\n        });\n\n        return patternResult;\n\n    };\n\n    return data;\n}\n\nexport { dataTransformer };","import _ from \"lodash\";\n\nconst schemaTransformation = (data, name, obj) => (local) => {\n    const values = { ...obj.sharedItems };\n    if (data === undefined || data === null) return data;\n\n    if (typeof data === \"string\") {\n        // check fx first\n        if (data !== undefined && data.includes(\"fx\")) {\n            try {\n                // const result = eval(data.slice(2));\n                const result = eval(`extraFunctions.${data.slice(2)}`);\n                if (typeof result === \"function\") {\n                    return result(values);\n                }\n                return result;\n            } catch (error) {\n                console.log(\"dyno ;)\", error, \"rrrrrrrsulttttttttt errorororrororor\");\n            }\n        }\n\n        if (data !== \"\") {\n            const result = _.get(values, data.substring(2)) ?? data; // values[data] || data;\n            // if(result!== undefined) return result;\n            return result;\n        }\n    }\n\n    return data;\n};\n\nexport default schemaTransformation;","const flattenHelper = (currentObject, newObject, previousKeyName) => {\n    for (let key in currentObject) {\n        let value = currentObject[key];\n\n        if (value?.constructor !== Object) {\n            if (previousKeyName == null || previousKeyName == \"\") {\n                newObject[key] = value;\n            } else {\n                if (key == null || key == \"\") {\n                    newObject[previousKeyName] = value;\n                } else {\n                    newObject[previousKeyName + \".\" + key] = value;\n                }\n            }\n        } else {\n            if (previousKeyName == null || previousKeyName == \"\") {\n                flattenHelper(value, newObject, key);\n            } else {\n                flattenHelper(value, newObject, previousKeyName + \".\" + key);\n            }\n        }\n    }\n};\n\nconst flattenObject = (oldObject) => {\n    const newObject = {};\n\n    flattenHelper(oldObject, newObject, \"\");\n\n    return newObject;\n};\n\nexport default flattenObject\n","import flattenObject from \"../utils/flattenObject\";\nimport schemaTransformation from \"./schemaTransformer\";\n\nconst schemaProxy = (item, extraValues = {}, extraFunctions = {}) => {\n    if (item === undefined) return {};\n\n    const proxyHandler = {\n        get(target, prop, receiver) {\n            if (typeof target[prop] === \"object\" && target[prop] !== null) {\n                console.log(\"dyno ;)\", target[prop], \"proxyHanlerrrrrrrr ;)\");\n                return new Proxy(target[prop], proxyHandler);\n            } else {\n                return schemaTransformation(\n                    target[prop],\n                    prop,\n                    target\n                )({\n                    ...extraFunctions\n                });\n            }\n        }\n    };\n\n    const proxySchema = new Proxy(\n        {\n            ...flattenObject({\n                ...item.action.schema\n            }),\n            sharedItems: { ...extraValues, ...item }\n        },\n        proxyHandler\n    );\n    return proxySchema\n}\n\nexport default schemaProxy;\n\n\n","import _ from \"lodash\";\nimport schemaProxy from \"./schemaProxy\";\n\nconst setupProxy = (item, extraValues = {}, extraFunctions = {}) => {\n    const proxyItems = schemaProxy(item, extraValues, extraFunctions);\n\n    let newSchema = {};\n    const y = Object.keys(proxyItems).map((el) => {\n        if (el === \"sharedItems\") return;\n        newSchema = _.set(newSchema, el, proxyItems[el]);\n        console.log(\"dyno ;)\", el, \"flattttttttten\");\n    });\n\n    return _.cloneDeep(newSchema);\n}\n\nexport default setupProxy;\n","function actionsRunner(action, localFunction, item, dataStore) {\n    let resultPromise = Promise.resolve(item);\n\n    for (const functionName in action) {\n        const config = action[functionName];\n        const asyncFunction = localFunction[functionName];\n        resultPromise = resultPromise.then((result) => {\n            console.log(functionName, asyncFunction, 'dyno actionsRunner', result)\n            return asyncFunction(config)(dataStore)(result);\n        });\n    }\n\n    return resultPromise;\n}\n\nexport default actionsRunner;","const defaultValidationResolver = {\n    noteq: async (item, value) => {\n        return (value !== '' && !item.value.includes(value)) || false;\n    },\n    eq: async (item, value) => {\n        return value?.toString() === item.value;\n    },\n    notEmptyAndEqual: async (item, value) => {\n        return (value !== '' && item.value.includes(value)) || false;\n    },\n};\n\nexport {\n    defaultValidationResolver\n}","import React, { useCallback, useEffect, useState, useRef } from 'react'\n\nimport {\n    useWatch\n} from \"../useWatch\"\nimport {\n    useFieldArray\n} from \"../useFieldArray\"\nimport {\n    FormProvider,\n    useFormContext\n} from \"../useFormContext\"\nimport {\n    useForm\n} from \"../useForm\"\nimport {\n    Controller\n} from \"../controller\"\n\n// import { Subject, AsyncSubject } from 'rxjs'\n// import pubsub from \"./pubsub\";\nimport _ from 'lodash'\n// import { unitDependencies } from 'mathjs'\n// import { getResetValue } from './utils/methods'\n// import { JsonEditor } from 'jsoneditor-react/es'\n// import { namespace } from 'store/dist/store.legacy'\nimport deepEqual from \"../utils/deepEqual\"\nimport { defaultValidationResolver } from \"../utils/defaultValidationResolver\"\n\n// const subject = new Subject()\n\n// export const pubsub = {\n//     publish: (name, message) => subject.next(name, message),\n//     clearMessages: () => subject.next(),\n//     getMessage: () => subject.asObservable(),\n// }\n\nconst useStateWithPromise = (initialState) => {\n    const [state, setState] = useState(initialState)\n    const resolverRef = useRef(null)\n\n    useEffect(() => {\n        if (resolverRef.current) {\n            resolverRef.current(state)\n            resolverRef.current = null\n        }\n        /**\n         * Since a state update could be triggered with the exact same state again,\n         * it's not enough to specify state as the only dependency of this useEffect.\n         * That's why resolverRef.current is also a dependency, because it will guarantee,\n         * that handleSetState was called in previous render\n         */\n    }, [resolverRef.current, state])\n\n    const handleSetState = useCallback(\n        (stateAction) => {\n            setState(stateAction)\n            return new Promise((resolve) => {\n                resolverRef.current = resolve\n            })\n        },\n        [setState],\n    )\n\n    return [state, handleSetState]\n}\n\nexport const ControlledComponentsV2 = (props) => {\n    // console.log(\"dyno ;)\", 'current', props.control.current);\n    // if(props.control.current === undefined) return;\n    const [field, setField] = useState(props.control.current && props.control.current[props.name])\n\n    // console.log(\"dyno ;)\", props.name, \"ControlledComponentsV2 renderrrrrrrrrr <1>\", field, props.errors, props?.errors?.current && props?.errors?.current[props.name], props.name)\n    console.log(\"dyno ;)\", \n        props.name,\n        'ControlledComponentsV2 renderrrrrrrrrr <1>',\n        field,\n        props.errors,\n        props.name,\n    )\n\n    const titlellll = props.control.current['textbox-5'].value\n    const error = props.errors && props.errors.current && props.errors?.current[props.name]\n\n    const [fields, setFields] = useState('')\n\n\n\n    const onChange = (value) => {\n        // messageService.sendMessage(`${props.name}`);\n        // pubsub.publish(\"anEvent\", props.name);\n        console.log(\"dyno ;)\", 'valuelavue', value)\n        // const [newValue, error] = props.updateReference(value.target.value, props.name);\n\n        // update(value);\n\n        props.updateReference(value, props.name)\n        setField({ ...field, value: value })\n        // subscription(props)\n    }\n\n    // const subscription = pubsub.getMessage().subscribe((data) => {\n    //     // console.log(\"dyno ;)\", `${props.name}, ControlledTextInput, message was published with this data: \"${data}\"`);\n\n    //     if (props.name === 'textbox-0') {\n    //         setFields(data)\n    //     }\n    // })\n\n    return props.render({ onChange, value: field.value, field, error, index: props.index })\n}\n\nconst IINNOMEMO = (props) => <ControlledComponentsV2 {...props} />\n\nconst IIN = React.memo(\n    (props) => <ControlledComponentsV2 {...props} />,\n    (prevProps, nextProps) => {\n        // if (prevProps === nextProps) {\n        const oldE = (prevProps.errors?.current && prevProps.errors?.current[prevProps.name]) || {}\n        const newE = nextProps.errors?.current[nextProps.name] || {}\n\n        const errror = _.isEqual(oldE, newE)\n        const errrorlol = nextProps.errors?.current[prevProps.name]\n\n        console.log(\"dyno ;)\", \n            prevProps,\n            nextProps,\n            prevProps.name + ' ControlledComponentsV2 renderrrrrrrrrr <2>',\n            errror,\n            'is===',\n            errrorlol,\n            prevProps.name,\n        )\n        // if(!errror) return false;\n        // return errror;\n        // return errror;\n        if (JSON.stringify(nextProps) === JSON.stringify(prevProps)) {\n            return true // props are equal\n        }\n        return false // props are not equal -> update the component\n    },\n)\n\nconst createValidationObject = (item) => {\n\n\n}\n\nconst renderForm = (\n    data,\n    updateReference,\n    myControl,\n    getValue,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    setValue\n) => {\n    console.log(\"dyno ;)\", errors, 'dataerrors')\n    //console.time('renderFormmm')\n    const r = data\n        .filter((element) => element.visible)\n        .map((item, index) => {\n            // console.log(\"dyno ;)\", item, \"ittttem\")\n\n            const {\n                register,\n                handleSubmit,\n                watch,\n                errors,\n                control,\n                trigger,\n                setFocus,\n                getValues,\n                setValue,\n                useFieldArray,\n                useWatch,\n                triggerBackground\n            } = sharedItems\n\n            // if (!item.visible) return null\n            const name = parentName && `${parentName}.${item.name}` || item.name\n\n            let result = null\n            let child = []\n            if (item.items) {\n                child = renderForm(\n                    item.items,\n                    updateReference,\n                    myControl,\n                    getValue,\n                    errors,\n                    ControlledComponents,\n                    components,\n                    managedCallback,\n                    item?.items && name || undefined,\n                    sharedItems,\n                    setValue\n                )\n            }\n\n            const validation = {\n                maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n                minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n                max: item.max && item.max.value !== \"\" && item.max || undefined,\n                min: item.min && item.min.value !== \"\" && item.min || undefined,\n                pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n                required: item.required && item.required.value !== \"\" && item.required || undefined\n            }\n            // console.log(\"dyno ;)\", \"validationValidation\", validation)\n\n            // if (!item.visible) return null\n\n            // const name = parentName && `${parentName}.0.${item.name}` || item.name\n            // console.log(\"dyno ;)\", name, \"namename\")\n            result = (\n                <Controller\n                    key={item.isArray === true && `${name}container` || name}\n                    name={item.isArray === true && `${name}container` || name}\n                    control={control}\n                    item={item}\n                    // defaultValue={\"hi5\"}\n                    // { required: true, minLength: 5 }\n                    rules={item.rule || validation}\n                    render={({ field }) => {\n                        // const myCondition = item.preCondition && useWatch({\n                        //     control,\n                        //     name: item.preCondition[0].name, // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                        //     defaultValue: undefined // default value before the render\n                        // });\n                        // console.log(\"dyno ;)\", item.name, myCondition, \"myConditionssss\")\n                        // if (!item.visible && myCondition !== \"13333\") return null\n\n\n                        // return (\n                        //     <>\n                        //         {`${item.name}   ${name}`}\n                        //         <br />\n                        //         <input {...field} />\n                        //         {errors && errors[name] && `${name} errororrr`}\n\n                        //         {/* {errors && errors[item.name] && `${item.name} errororrr`} */}\n                        //         {child && child}\n                        //         <br />\n                        //         <br />\n                        //         <br />\n                        //     </>\n                        // )\n                        // child && child;\n                        // const { useFieldArray } = useFormContext()\n\n                        if (item.isArray) {\n                            // console.log(\"dyno ;)\", name, \"useFieldArray\")\n                            const { fields, append, remove } = useFieldArray({\n                                control,\n                                name: name\n                            });\n\n                            // const myaCondition = useWatch({\n                            //     control,\n                            //     name: 'textbox-0.test.0.firstName', // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                            //     defaultValue: undefined // default value before the render\n                            // });\n                            // console.log(\"dyno ;)\", myaCondition, \"myaCondition\", getValue(\"textbox-3\"))\n                            child =\n                                <>\n                                    {/* <>\n                                        {`${item.name}`}\n                                        <br />\n                                        <input {...field} />\n                                        {errors && errors[item.name] && `${item.name} errororrr`}\n                                        {child && child}\n                                        <br />\n                                        <br />\n                                        <br />\n                                    </> */}\n                                    <ul>\n                                        {fields.map((el, index) => (\n                                            <li key={el.id}>\n                                                {item.items.map((element, indx) => (\n                                                    <Controller\n                                                        name={`${name}.${index}.${element.name}`}\n                                                        control={control}\n                                                        render={({ field }) => {\n                                                            const Component = components(element.type, {\n                                                                field,\n                                                                item: element,\n                                                                name: `${name}.${index}.${element.name}`,\n                                                                indx,\n                                                                managedCallback,\n                                                                child,\n                                                                useFieldArray\n                                                            })\n                                                            return Component\n                                                        }}\n                                                    />\n                                                ))}\n                                                <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                            </li>\n                                        ))}\n\n                                    </ul>\n                                    {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                                    {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                                    <button\n                                        type=\"button\"\n                                        // onClick={() => append({ \"actionURL\": \"\" })}\n                                        onClick={() => append({})}\n\n                                    >\n                                        +\n                                    </button>\n                                </>\n\n                        }\n\n                        const Component = components(item.type, {\n                            field,\n                            item,\n                            name,\n                            index,\n                            managedCallback,\n                            child,\n                            useFieldArray,\n                            error: errors,\n                            sharedItems\n                        })\n                        return Component\n                    }}\n\n                />\n            )\n\n            return result\n        })\n    //console.timeEnd('renderFormmm')\n    return r\n}\n\nconst SimpleRender = props => renderForm({ ...props });\nconst MemoRenderForm = props => SimpleRender(props) //React.memo(renderForm, (prev, next)=>{\n// console.log(\"dyno ;)\", prev,next,\"memoRenderForm\");\n// })\n\n\n\nconst RenderForm = (\n    data,\n    updateReference,\n    myControl,\n    getValue,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    control,\n    setValue\n) => {\n    console.log(\"dyno ;)\", errors, 'dataerrors')\n    //console.time('renderFormmm')\n    if (data === undefined) return null;\n    const r = data\n        .filter((element) => element.visible)\n        .map((item, index) => {\n            // console.log(\"dyno ;)\", item, \"ittttem\")\n\n            // if (!item.visible) return null\n            const name = parentName && `${parentName}.${item.name}` || item.name\n\n            let result = null\n            let child = []\n            if (item.items) {\n                child = RenderForm(\n                    item.items,\n                    updateReference,\n                    myControl,\n                    getValue,\n                    errors,\n                    ControlledComponents,\n                    components,\n                    managedCallback,\n                    item?.items && name || undefined,\n                    control,\n                    setValue\n                )\n            }\n            // if (!item.visible) return null\n\n\n\n            // const name = parentName && `${parentName}.0.${item.name}` || item.name\n            // console.log(\"dyno ;)\", name, \"namename\")\n            result = (\n                <Controller\n                    key={name}\n                    name={name}\n                    control={control}\n                    item={item}\n                    // defaultValue={\"hi5\"}\n                    // { required: true, minLength: 5 }\n                    rules={item.rule || {}}\n                    render={({ field }) => {\n                        // const myCondition = item.preCondition && useWatch({\n                        //     control,\n                        //     name: item.preCondition[0].name, // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                        //     defaultValue: undefined // default value before the render\n                        // });\n                        // console.log(\"dyno ;)\", item.name, myCondition, \"myConditionssss\")\n                        // if (!item.visible && myCondition !== \"13333\") return null\n\n                        // if (item.name === \"textbox-0\") {\n                        //     const { fields, append, remove } = useFieldArray({\n                        //         control,\n                        //         name: \"textbox-0.test\"\n                        //     });\n\n                        //     // const myaCondition = useWatch({\n                        //     //     control,\n                        //     //     name: 'textbox-0.test.0.firstName', // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                        //     //     defaultValue: undefined // default value before the render\n                        //     // });\n                        //     // console.log(\"dyno ;)\", myaCondition, \"myaCondition\", getValue(\"textbox-3\"))\n                        //     return (\n                        //         <>\n                        //             {/* <>\n                        //                 {`${item.name}`}\n                        //                 <br />\n                        //                 <input {...field} />\n                        //                 {errors && errors[item.name] && `${item.name} errororrr`}\n                        //                 {child && child}\n                        //                 <br />\n                        //                 <br />\n                        //                 <br />\n                        //             </> */}\n                        //             <ul>\n                        //                 {fields.map((el, index) => (\n                        //                     <li key={el.id}>\n                        //                         <input {...control.register(`textbox-0.test.${index}.firstName`)} />\n                        //                         {<Controller\n                        //                             render={({ field }) => <input {...field} />}\n                        //                             name={`textbox-0.test.${index}.lastName`}\n                        //                             control={control}\n                        //                         />}\n                        //                         <button type=\"button\" onClick={() => remove(index)}>Delete</button>\n                        //                     </li>\n                        //                 ))}\n                        //             </ul>\n                        //             {JSON.stringify(getValue(\"textbox-3\"))}\n                        //             <button type=\"button\" onClick={() => {\n                        //                 control.unregister(\"textbox-10\")\n                        //                 console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                        //             }}> unregister 10 now ;) </button>\n\n                        //             <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button>\n                        //             <button\n                        //                 type=\"button\"\n                        //                 onClick={() => append({ firstName: \"bill\", lastName: \"luo\" })}\n                        //             >\n                        //                 append\n                        //             </button>\n                        //         </>\n                        //     )\n                        // }\n                        // return (\n                        //     <>\n                        //         {`${item.name}   ${name}`}\n                        //         <br />\n                        //         <input {...field} />\n                        //         {errors && errors[name] && `${name} errororrr`}\n\n                        //         {/* {errors && errors[item.name] && `${item.name} errororrr`} */}\n                        //         {child && child}\n                        //         <br />\n                        //         <br />\n                        //         <br />\n                        //     </>\n                        // )\n\n                        const Component = components(item.type, {\n                            field,\n                            item,\n                            name,\n                            index,\n                            managedCallback\n                        })\n                        // console.log(\"dyno ;)\", Component, 'ControlledComponentsV2 renderrrrrrrrrr <3>', field.name)\n                        return Component\n                    }}\n\n                />\n                // <ControlledComponents\n                //     managedCallback={managedCallback}\n                //     updateReference={updateReference}\n                //     // key={item.name}\n                //     name={name}\n                //     control={myControl}\n                //     errors={errors}\n                //     formName={'formName'}\n                //     index={index}\n                //     child={child}\n                //     render={({ onUpdate, value, fields, field, error, index, child, managedCallback }) => {\n                //         const Component = components(item.type, {\n                //             onUpdate,\n                //             value,\n                //             fields,\n                //             field,\n                //             error,\n                //             child,\n                //             errors,\n                //             item,\n                //             index,\n                //             managedCallback\n                //         })\n                //         console.log(\"dyno ;)\", Component, 'ControlledComponentsV2 renderrrrrrrrrr <3>', error, field.name)\n                //         // return Component\n                //         // return (\n                //         //     <Component\n                //         //         {...{ onUpdate, value, fields, field, error, child, errors, item, index }}\n                //         //     />\n                //         // )\n\n                //         return <>\n                //             <br />\n                //             <div style={{ backgroundColor: child.length > 0 && \"blanchedalmond\" || \"whitesmoke\", padding: 11 }}>\n                //                 <Input onChange={(e) => onUpdate(e.target.value)} defaultValue={value} value={value} />------{fields && fields.value}\n                //                 {field.name}\n                //                 {error && error.error && \"Hiiiii i am here\" || \"no way ;)\"}\n                //             </div>\n                //             {child.length > 0 && <div style={{ backgroundColor: \"blanchedalmond\", padding: 11 }}>\n                //                 child ;)\n                //                 {child && child}\n                //             </div>}\n                //         </>\n                //     }}\n                // />\n            )\n\n            return result\n        })\n    //console.timeEnd('renderFormmm')\n    return r\n}\nconst InRenderform = React.memo(props => RenderForm(props),\n    (prevProps, nextProps) => {\n        if (!deepEqual(nextProps, prevProps)) {\n            return true // props are equal\n        }\n        return false // props are not equal -> update the component\n    },\n)\nInRenderform.displayName = \"RenderForm\"\nInRenderform.whyDidYouRender = true\n\n// where is item\n// need 1st render recursive\n// -> DFS & flat => ref for each field\n// preCondition -> array(store) - flat, value -> set?\n// leftIconA => 7\n// _.set({}, \"b.c.d\")\n\nconst convertIdToRef = (array, key, name, parent, isArray) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        const itemName = isArray === undefined && item[key] || `${parent}.0.${item[key]}`\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent, itemName, isArray)\n\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [itemName]: {\n                ...item,\n                name: itemName,\n                refId,\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key], item.isArray)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst resetItems = (array, key, name, parent) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent)\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: {\n                ...item,\n                refId,\n                value: \"\",\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key])),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst convertIdToRefV2 = (array, key, name) => {\n    // const initialValue = {};\n    const initialValue = new Map()\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, \"convertIdToRefconvertIdToRef\", item)\n        const refId = (name && `${name}.items[${currentIndex}]`) || item[key] // `[${currentIndex}]`;\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: { ...item, refId },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst prepareWtchingComponents = (items, key) => {\n    // const initialValue = {};\n    // //console.time('prepareWtchingComponents')\n    const initialValue = new Map()\n\n    Object.keys(items).forEach((key) => {\n        if (items[key].preCondition) {\n            const preConditionObj = convertArrayToObject(items[key].preCondition, 'value')\n\n            // const thisShitIsBananas = items[key].preCondition.reduce((accumulator, fruit) => {\n            //     return accumulator.concat(fruit.value);\n            // }, []);\n            // console.log(\"dyno ;)\", items[key], \"prepareWtchingComponents\", Object.values(preConditionObj), '----===----', preConditionObj)\n            const keys = Object.keys(preConditionObj)\n            for (let index = 0; index < keys.length; index++) {\n                const internalItem = preConditionObj[keys[index]]\n                initialValue.set(internalItem.name, [\n                    ...((initialValue.get(internalItem.name) && initialValue.get(internalItem.name)) || []),\n                    { refId: items[key].refId, ...internalItem },\n                ])\n            }\n            // keys.forEach( e => {\n            //     // initialValue[preConditionObj[e].name] = [\n            //     //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     //     ...(initialValue[preConditionObj[e].name] && initialValue[preConditionObj[e].name] || []),\n            //     //     // {refId: items[key].refId, ...preConditionObj  }\n            //     //     {refId: items[key].refId, ...preConditionObj[e] }\n            //     // ];\n            //     initialValue.set(preConditionObj[e].name, [\n            //         // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //         ...(initialValue.get(preConditionObj[e].name) && initialValue.get(preConditionObj[e].name) || []),\n            //         // {refId: items[key].refId, ...preConditionObj  }\n            //         {refId: items[key].refId, ...preConditionObj[e] }\n            //     ]);\n            //     // console.log(\"dyno ;)\", thisShitIsBananas, \"prepareWtchingComponentsYY ---->\", initialValue.get(preConditionObj[e].name),initialValue)\n\n            // })\n\n            // initialValue[preConditionObj.name] = [\n            // initialValue[items[key].preCondition.name] = [\n            //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     ...(initialValue[items[key].preCondition.name] && initialValue[items[key].preCondition.name] || []),\n            //     // {refId: items[key].refId, ...preConditionObj  }\n            //     {refId: items[key].refId, ...items[key].preCondition }\n            // ];\n        }\n    })\n    //console.timeEnd('prepareWtchingComponents')\n    return initialValue\n}\n\n// const convertArrayToObject = (array, key) => {\n//     const initialValue = {};\n//     return array.reduce((obj, item) => {\n//         return {\n//             ...obj,\n//             [item[key]]: item,\n//         };\n//     }, initialValue);\n// };\n\nconst convertArrayToObject = (array, key, value) => {\n    const initialValue = {}\n    if (!Array.isArray(array)) return\n    const givenArray = array.concat()\n    return givenArray.reduce((obj, item) => {\n        return {\n            ...obj,\n            [item[key]]: (value && item[value]) || (value === undefined && item) || '',\n        }\n    }, initialValue)\n}\n\nconst convertArrayToObjectPOC = (array, key, value, isParent, original) => {\n    // //console.time(\"convertArrayToObjectPOC\")\n    const initialValue = {}\n    const givenArray =\n        (isParent && array.concat()) || array.filter((el) => el.parent === undefined).concat()\n\n    const result = givenArray.reduce((obj, item) => {\n        // console.log(\"dyno ;)\", item, obj, \"reducereduce\", item[key], original[[item[key]]][value], original)\n\n        return {\n            ...obj,\n            [item[key]]:\n                (item.items && convertArrayToObjectPOC(item.items, key, 'value', true, original)) ||\n                (isParent && original[[item[key]]][value]) ||\n                (value && item[value]) ||\n                (value === undefined && item) ||\n                '',\n        }\n    }, initialValue)\n    // //console.timeEnd(\"convertArrayToObjectPOC\")\n    return result\n}\n\nlet renderCount = 0\nconst FormBuilderV1 = React.forwardRef(({ items,\n    validationResolver = defaultValidationResolver,\n    ControlledComponents,\n    components,\n    managedCallback,\n    defaultValues = {} }, ref) => {\n\n    console.log(\"dyno ;)\", defaultValues, \"defaultValues\")\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        formState: { errors },\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        triggerBackground\n    } = useForm({\n        mode: 'onChange',\n        // criteriaMode: 'all',\n        // criteriaMode: \"firstError\",\n        defaultValues\n    })\n\n    const sharedItems = {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground\n    }\n\n    const myComponents = React.useRef()\n    // const errors = React.useRef({})\n    const watchingComponents = React.useRef()\n    const preConditionItems = React.useRef()\n\n\n    const [data, setData] = useState()\n\n    React.useEffect(() => {\n        if (items === undefined) return\n\n        //console.time('convertIdToRefffff')\n        myComponents.current = convertIdToRef(items, 'name')\n        //console.timeEnd('convertIdToRefffff')\n        watchingComponents.current = prepareWtchingComponents(myComponents.current)\n        console.log(\"dyno ;)\", myComponents, 'myComponentsmyComponents')\n        console.log(\"dyno ;)\", watchingComponents, 'prepareWtchingComponents', [...watchingComponents.current.keys()])\n\n        const subscription = watch(async (value, { name, type }) => {\n            if (watchingComponents.current.get(name)) {\n                // if(!Array.isArray(data)) return;\n                console.log(\"dyno ;)\", \"checkPreCondition ;) checkPreCondition\", value, name, type, data, items)\n                const [a, b] = await checkPreCondition(name, value[name], items);\n                if (!deepEqual(data, b) && a) {\n                    setData([...b])\n                    // preConditionItems.current = [...b];\n                    return;\n                }\n\n            }\n        });\n\n        setData(items)\n    }, items)\n\n    // const watchingList = watch(\"textbox-2\");\n\n    // const watchingList = useWatch({\n    //     control,\n    //     name: \"textbox-2\", // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n    //     // defaultValue: 'default' // default value before the render\n    //   });\n    // const watchingList = \"\"//watchingComponents.current && watch([...watchingComponents.current.keys()]);\n    // const watchingList = watchingComponents.current && watch([...watchingComponents.current.keys()]);\n\n    const getValue = (name) => {\n        return myComponents.current[name].value\n    }\n\n    const resetValues = () => {\n        myComponents.current = resetItems(items, 'name');\n        setData(items);\n    }\n\n    const onSubmit = (data) => {\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM\", data)\n        return data;\n    }\n\n    const getValuesPOC = async () => {\n        //TODO: hot fix for double validations\n        if (Object.keys(errors).length > 0) return false;\n        const result = await trigger();\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n        if (result === true) {\n            return await getValues();\n        } else {\n            return false;\n        }\n    }\n\n    ref.current = {\n        getValues: getValuesPOC,\n        resetValues: resetValues\n    }\n\n    const validationOnce = async (name, value, result) => {\n        //console.time('validationssss')\n        const validatedItem = myComponents.current[name];\n        let n = result\n        const originalErrors = { ...errors.current } || {}\n        const newErrors = errors.current || {}\n\n        let error = false\n\n        // if (item && item.visible) {\n        if (value !== '') {\n            const error = value === '313'\n            if (error) {\n                newErrors[name] = {\n                    error,\n                    errorMsg: validatedItem.errorMsg && validatedItem.errorMsg || '313 cant be here.',\n                }\n            } else {\n                delete newErrors[name]\n            }\n            // n = _.set({ a: n }, `a${item.refId}.error`, error).a;\n            // console.log(\"dyno ;)\", \"error\", n, error, value)\n        } else {\n            delete newErrors[name]\n        }\n        // }\n\n        errors.current = { ...newErrors } // {...errors.current ,...newErrors};\n        // console.log(\"dyno ;)\", \"errorolo\", errors.current, originalErrors, _.isEqual(originalErrors, newErrors))\n        console.log(\"dyno ;)\", errors, \"errrrrrrrrr\", newErrors,)\n        if (error.current !== originalErrors) {\n        }\n\n        // setData([...n])\n\n        // setData([...n])\n        // Object.values(newC).forEach(element => {\n        //     if(element.value){\n        //         element[\"error\"] = true;\n        //         error = element.value !== \"313\";\n        //     }\n        // });\n        // error && pubsub.publish('textbox-3', {error: Date.now()});\n\n        //console.timeEnd('validationssss')\n        return [!_.isEqual(originalErrors, newErrors), [...n], newErrors[name]]\n    }\n\n    const updateReference = async (value, name) => {\n\n        //console.time('myComponentsFind')\n        myComponents.current[name].value = value\n        //console.timeEnd('myComponentsFind')\n\n        console.log(\"dyno ;)\", myComponents.current, 'getValues', await getValuesPOC())\n\n        //console.time('iam here')\n        const [hasValidationChanged, result, error] = await validationOnce(name, value, [...data])\n        const [hasPreconditionChanged, preResult] = await checkPreCondition(name, value, result)\n        // console.log(\"dyno ;)\", error, \"asyncValidation\", result, hasValidationChanged)\n\n        if (hasValidationChanged === true || hasPreconditionChanged === true) {\n            // if (hasPreconditionChanged === true) {\n\n            console.log(\"dyno ;)\", \n                'lololololololololololoolol',\n                hasValidationChanged,\n                hasPreconditionChanged,\n                errors,\n            )\n            setData([...preResult])\n        }\n\n        // console.log(\"dyno ;)\", \"getValues\", await getValues())\n        //console.timeEnd('iam here')\n        // return [value, error]\n    }\n\n    const checkPreCondition = async (name, value, result) => {\n        // const hasCondition = watchingComponents.current[name];\n        const hasCondition = watchingComponents.current.get(name)\n\n        console.log(\"dyno ;)\", data, \"checkPreConditionInside\", name, myComponents.current, hasCondition, watchingComponents.current);\n\n        // TODO: ;)\n        // how to update the Array\n        // OR update and dont itterate the Object\n        // _.set({ a: myComponents.current }, \"a.textbox-2.items[0].value\", \"leila\")\n        let n = [...result]\n\n        let updated = false\n\n        if (hasCondition !== undefined) {\n            // for(let i = 0; i < hasCondition.length; i++){\n            //     const touched = item.value == value;\n            //         console.log(\"dyno ;)\", \"hashas\", _.get({a:n},`a${item.refId}.visible` ))\n            //         n = _.set({ a: n }, `a${item.refId}.visible`, touched).a;\n\n            // }\n\n            await hasCondition.map(async (item) => {\n                const realValue = value[\"value\"] || value;\n                const touched = item?.type && (await validationResolver[item.type](item, realValue)) // || validationResolver[\"eq\"](item,value); //value !== \"\" && item.value.includes(value) || false;\n                // if(touched){\n                if (_.get({ a: n }, `a${item.refId}.visible`) !== touched) { //touched\n                    // myComponents.current[item.name].visible = touched;\n                    n = _.set({ a: n }, `a${item.refId}.visible`, touched).a\n                    updated = true\n                    console.log(\"dyno ;)\", \n                        'hashas',\n                        await _.get({ a: n }, `a${item.refId}.visible`),\n                        await touched,\n                        hasCondition,\n                        updated,\n                    )\n                }\n\n                // }\n            })\n        }\n        return [updated, [...n]]\n    }\n\n    console.log(\"dyno ;)\", 'renderCount', renderCount++)\n    return (\n        (data &&\n            renderForm(\n                data,\n                updateReference,\n                myComponents,\n                getValues,\n                { ...errors },\n                ControlledComponents,\n                components,\n                managedCallback,\n                undefined,\n                sharedItems,\n                setValue\n            ))\n        ||\n        null\n    )\n});\n\nFormBuilderV1.whyDidYouRender = true\nFormBuilderV1.displayName = \"FormBuilderV1\"\n\nexport default FormBuilderV1\n","import React, { useCallback, useEffect, useState, useRef } from 'react'\n\n// import {\n//     useWatch\n// } from \"../useWatch\"\n// import {\n//     useFieldArray\n// } from \"../useFieldArray\"\n// import {\n//     FormProvider,\n//     useFormContext\n// } from \"../useFormContext\"\n// import {\n//     useForm\n// } from \"../useForm\"\n// import {\n//     Controller\n// } from \"../Controller\"\n\nimport {\n    useWatch\n} from \"../useWatch\"\nimport {\n    useFieldArray\n} from \"../useFieldArray\"\nimport {\n    FormProvider,\n    useFormContext\n} from \"../useFormContext\"\nimport {\n    useForm\n} from \"../useForm\"\nimport {\n    Controller\n} from \"../controller\"\n\nimport _ from 'lodash'\n// import deepEqual from \"../utils/deepEqual\"\nimport deepEqual from \"../utils/deepEqual\"\nimport { defaultValidationResolver } from \"../utils/defaultValidationResolver\"\n\n// import { defaultValidationResolver } from \"../dynamo/utils/defaultValidationResolver\"\n\nconst renderComponentInd = (name, data, { updateReference,\n    myComponents,\n    getValues,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    undefined,\n    sharedItems,\n    index,\n    parent,\n    givenName = undefined\n}\n) => {\n\n    const selectedComponent = {...data[name], givenName };\n    //Add givenName here ;)\n    // selectedComponent.givenName = givenName;\n\n    if (selectedComponent === undefined) return null;\n    // debugger;\n    if (selectedComponent?.visible === false) return null\n    return renderComponentForm(\n        selectedComponent,\n        updateReference,\n        myComponents,\n        getValues,\n        { ...errors },\n        ControlledComponents,\n        components,\n        managedCallback,\n        undefined,\n        sharedItems,\n        index,\n        data,\n        parent\n    )\n}\n\nconst renderComponentForm = (\n    item,\n    updateReference,\n    myControl,\n    getValue,\n    errorss,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    index,\n    data,\n    parent\n) => {\n    console.log(\"dyno ;)\", errorss, 'dataerrors')\n    //console.time('renderFormmm')\n    // const r = data\n    //     .filter((element) => element.visible)\n    //     .map((item, index) => {\n    //         // console.log(\"dyno ;)\", item, \"ittttem\")\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground\n    } = sharedItems\n\n    // if (!item.visible) return null\n    const name = parentName && `${parentName}.${item.name}` || item.givenName && item.givenName || item.name\n\n    let result = null\n    let child = []\n    if (item.items) {\n        child = item.items.map((name,idx) => renderComponentInd(name, data, {\n            updateReference,\n            myControl,\n            getValue,\n            errors,\n            ControlledComponents,\n            components,\n            managedCallback,\n            parentName: item?.items && name || undefined,\n            sharedItems,\n            index: idx,\n            data,\n            parent: { name: item.name, index, id: item.id },\n            itemName: name\n        }))\n\n        // renderComponentForm(\n        //     item.items,\n        //     updateReference,\n        //     myControl,\n        //     getValue,\n        //     errors,\n        //     ControlledComponents,\n        //     components,\n        //     managedCallback,\n        //     item?.items && name || undefined,\n        //     sharedItems,\n        //     setValue\n        // )\n    }\n\n    const validation = {\n        maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n        minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n        max: item.max && item.max.value !== \"\" && item.max || undefined,\n        min: item.min && item.min.value !== \"\" && item.min || undefined,\n        pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n        required: item.required && item.required.value !== \"\" && item.required || undefined\n    }\n\n   \n    // let rule = _.cloneDeep(item?.rule || {});\n    // debugger;\n    // rule.pattern?.value = new RegExp(item.rule?.pattern?.value);\n\n    result = (\n        <Controller\n            key={item.isArray === true && `${name}container` || name}\n            name={item.isArray === true && `${name}container` || name}\n            control={control}\n            item={item}\n            rules={item.rule || validation}\n            render={({ field }) => {\n\n                if (item.isArray) {\n                    console.log(\"dyno ;)\", name,item.items, \"useFieldArray\")\n                    const { fields, append, remove } = useFieldArray({\n                        control,\n                        name: name\n                    });\n\n                    child =\n                        <>\n                            <ul>\n                                {fields.map((el, index) => (\n                                    <li key={el.id}>\n                                        {item.items.map((element, indx) => (\n                                            <Controller\n                                                key={`${name}.${index}.${data[element].name}`}\n                                                name={`${name}.${index}.${data[element].name}`}\n                                                control={control}\n                                                render={({ field }) => {\n                                                    console.log(\"dyno ;)\", `${name}.${index}.${element}`,'`${name}.${index}.${element}`')\n                                                    return renderComponentInd(element, data, {\n                                                        updateReference,\n                                                        myControl,\n                                                        getValue,\n                                                        errors,\n                                                        ControlledComponents,\n                                                        components,\n                                                        managedCallback,\n                                                        parentName: item?.items && name || undefined,\n                                                        sharedItems,\n                                                        index: index,\n                                                        data,\n                                                        parent: { name: item.name, index, id: item.id },\n                                                        givenName: `${name}.${index}.${data[element].name}`\n                                                    })\n\n                                                    const Component = components(element.type, {\n                                                        field,\n                                                        item: element,\n                                                        name: `${name}.${index}.${element.name}`,\n                                                        indx,\n                                                        managedCallback,\n                                                        child,\n                                                        useFieldArray\n                                                    })\n                                                    return Component\n                                                }}\n                                            />\n                                        ))}\n                                        <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                    </li>\n                                ))}\n\n                            </ul>\n                            {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                            {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                            <button\n                                type=\"button\"\n                                // onClick={() => append({ \"actionURL\": \"\" })}\n                                onClick={() => append({})}\n\n                            >\n                                +\n                            </button>\n                        </>\n                }\n\n                const Component = components(item.type, {\n                    field,\n                    item,\n                    name,\n                    index,\n                    managedCallback,\n                    child,\n                    useFieldArray,\n                    error: errors,\n                    sharedItems,\n                    parent\n                })\n\n                return Component\n            }}\n\n        />\n    )\n\n    //     return result\n    // })\n    //console.timeEnd('renderFormmm')\n    return result\n}\n\nconst renderForm = (\n    data,\n    updateReference,\n    myControl,\n    getValue,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    setValue\n) => {\n    console.log(\"dyno ;)\", errors, 'dataerrors')\n    //console.time('renderFormmm')\n    const r = data\n        .filter((element) => element.visible)\n        .map((item, index) => {\n            // console.log(\"dyno ;)\", item, \"ittttem\")\n\n            const {\n                register,\n                handleSubmit,\n                watch,\n                errors,\n                control,\n                trigger,\n                setFocus,\n                getValues,\n                setValue,\n                useFieldArray,\n                useWatch,\n                triggerBackground\n            } = sharedItems\n\n            // if (!item.visible) return null\n            const name = parentName && `${parentName}.${item.name}` || item.name\n\n            let result = null\n            let child = []\n            if (item.items) {\n                child = renderForm(\n                    item.items,\n                    updateReference,\n                    myControl,\n                    getValue,\n                    errors,\n                    ControlledComponents,\n                    components,\n                    managedCallback,\n                    item?.items && name || undefined,\n                    sharedItems,\n                    setValue\n                )\n            }\n\n            const validation = {\n                maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n                minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n                max: item.max && item.max.value !== \"\" && item.max || undefined,\n                min: item.min && item.min.value !== \"\" && item.min || undefined,\n                pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n                required: item.required && item.required.value !== \"\" && item.required || undefined\n            }\n            // console.log(\"dyno ;)\", \"validationValidation\", validation)\n\n            // if (!item.visible) return null\n\n            // const name = parentName && `${parentName}.0.${item.name}` || item.name\n            // console.log(\"dyno ;)\", name, \"namename\")\n            result = (\n                <Controller\n                    key={item.isArray === true && `${name}container` || name}\n                    name={item.isArray === true && `${name}container` || name}\n                    control={control}\n                    item={item}\n                    rules={item.rule || validation}\n                    render={({ field }) => {\n\n                        if (item.isArray) {\n                            // console.log(\"dyno ;)\", name, \"useFieldArray\")\n                            const { fields, append, remove } = useFieldArray({\n                                control,\n                                name: name\n                            });\n\n                            // const myaCondition = useWatch({\n                            //     control,\n                            //     name: 'textbox-0.test.0.firstName', // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                            //     defaultValue: undefined // default value before the render\n                            // });\n                            // console.log(\"dyno ;)\", myaCondition, \"myaCondition\", getValue(\"textbox-3\"))\n                            child =\n                                <>\n                                    {/* <>\n                                        {`${item.name}`}\n                                        <br />\n                                        <input {...field} />\n                                        {errors && errors[item.name] && `${item.name} errororrr`}\n                                        {child && child}\n                                        <br />\n                                        <br />\n                                        <br />\n                                    </> */}\n                                    <ul>\n                                        {fields.map((el, index) => (\n                                            <li key={el.id}>\n                                                {item.items.map((element, indx) => (\n                                                    <Controller\n                                                        name={`${name}.${index}.${element.name}`}\n                                                        control={control}\n                                                        render={({ field }) => {\n                                                            const Component = components(element.type, {\n                                                                field,\n                                                                item: element,\n                                                                name: `${name}.${index}.${element.name}`,\n                                                                indx,\n                                                                managedCallback,\n                                                                child,\n                                                                useFieldArray\n                                                            })\n                                                            return Component\n                                                        }}\n                                                    />\n                                                ))}\n                                                <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                            </li>\n                                        ))}\n\n                                    </ul>\n                                    {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                                    {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                                    <button\n                                        type=\"button\"\n                                        // onClick={() => append({ \"actionURL\": \"\" })}\n                                        onClick={() => append({})}\n\n                                    >\n                                        +\n                                    </button>\n                                </>\n\n                        }\n\n                        const Component = components(item.type, {\n                            field,\n                            item,\n                            name,\n                            index,\n                            managedCallback,\n                            child,\n                            useFieldArray,\n                            error: errors,\n                            sharedItems\n                        })\n\n                        return Component\n                    }}\n\n                />\n            )\n\n            return result\n        })\n    //console.timeEnd('renderFormmm')\n    return r\n}\n\n// where is item\n// need 1st render recursive\n// -> DFS & flat => ref for each field\n// preCondition -> array(store) - flat, value -> set?\n// leftIconA => 7\n// _.set({}, \"b.c.d\")\n\nconst convertIdToRef = (array, key, name, parent, isArray) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        const itemName = isArray === undefined && item[key] || `${parent}.0.${item[key]}`\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent, itemName, isArray)\n\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [itemName]: {\n                ...item,\n                name: itemName,\n                refId,\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key], item.isArray)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst resetItems = (array, key, name, parent) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent)\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: {\n                ...item,\n                refId,\n                value: \"\",\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key])),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst convertIdToRefV2 = (array, key, name) => {\n    // const initialValue = {};\n    const initialValue = new Map()\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, \"convertIdToRefconvertIdToRef\", item)\n        const refId = (name && `${name}.items[${currentIndex}]`) || item[key] // `[${currentIndex}]`;\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: { ...item, refId },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst prepareWtchingComponents = (items, key) => {\n    // const initialValue = {};\n    // //console.time('prepareWtchingComponents')\n    const initialValue = new Map()\n\n    Object.keys(items).forEach((key) => {\n        if (items[key].preCondition) {\n            const preConditionObj = convertArrayToObject(items[key].preCondition, 'value')\n\n            // const thisShitIsBananas = items[key].preCondition.reduce((accumulator, fruit) => {\n            //     return accumulator.concat(fruit.value);\n            // }, []);\n            // console.log(\"dyno ;)\", items[key], \"prepareWtchingComponents\", Object.values(preConditionObj), '----===----', preConditionObj)\n            const keys = Object.keys(preConditionObj)\n            for (let index = 0; index < keys.length; index++) {\n                const internalItem = preConditionObj[keys[index]]\n                console.log(\"dyno ;)\", items[key], 'items[key]')\n                initialValue.set(internalItem.name, [\n                    ...((initialValue.get(internalItem.name) && initialValue.get(internalItem.name)) || []),\n                    { refId: items[key].id, ...internalItem },\n                ])\n            }\n            // keys.forEach( e => {\n            //     // initialValue[preConditionObj[e].name] = [\n            //     //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     //     ...(initialValue[preConditionObj[e].name] && initialValue[preConditionObj[e].name] || []),\n            //     //     // {refId: items[key].refId, ...preConditionObj  }\n            //     //     {refId: items[key].refId, ...preConditionObj[e] }\n            //     // ];\n            //     initialValue.set(preConditionObj[e].name, [\n            //         // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //         ...(initialValue.get(preConditionObj[e].name) && initialValue.get(preConditionObj[e].name) || []),\n            //         // {refId: items[key].refId, ...preConditionObj  }\n            //         {refId: items[key].refId, ...preConditionObj[e] }\n            //     ]);\n            //     // console.log(\"dyno ;)\", thisShitIsBananas, \"prepareWtchingComponentsYY ---->\", initialValue.get(preConditionObj[e].name),initialValue)\n\n            // })\n\n            // initialValue[preConditionObj.name] = [\n            // initialValue[items[key].preCondition.name] = [\n            //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     ...(initialValue[items[key].preCondition.name] && initialValue[items[key].preCondition.name] || []),\n            //     // {refId: items[key].refId, ...preConditionObj  }\n            //     {refId: items[key].refId, ...items[key].preCondition }\n            // ];\n        }\n    })\n    //console.timeEnd('prepareWtchingComponents')\n    return initialValue\n}\n\nconst convertArrayToObject = (array, key, value) => {\n    const initialValue = {}\n    if (!Array.isArray(array)) return\n    const givenArray = array.concat()\n    return givenArray.reduce((obj, item) => {\n        return {\n            ...obj,\n            [item[key]]: (value && item[value]) || (value === undefined && item) || '',\n        }\n    }, initialValue)\n}\n\nconst convertArrayToObjectPOC = (array, key, value, isParent, original) => {\n    // //console.time(\"convertArrayToObjectPOC\")\n    const initialValue = {}\n    const givenArray =\n        (isParent && array.concat()) || array.filter((el) => el.parent === undefined).concat()\n\n    const result = givenArray.reduce((obj, item) => {\n        // console.log(\"dyno ;)\", item, obj, \"reducereduce\", item[key], original[[item[key]]][value], original)\n\n        return {\n            ...obj,\n            [item[key]]:\n                (item.items && convertArrayToObjectPOC(item.items, key, 'value', true, original)) ||\n                (isParent && original[[item[key]]][value]) ||\n                (value && item[value]) ||\n                (value === undefined && item) ||\n                '',\n        }\n    }, initialValue)\n    // //console.timeEnd(\"convertArrayToObjectPOC\")\n    return result\n}\n\nlet renderCount = 0\nconst FormBuilderNext = React.forwardRef(({ items,\n    validationResolver,\n    // = defaultValidationResolver,\n    ControlledComponents,\n    components,\n    managedCallback,\n    shouldUnregister = true,\n    defaultValues = {} }, ref) => {\n\n    console.log(\"dyno ;)\", defaultValues, \"defaultValues\")\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        formState: { errors },\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        triggerBackground,\n        unregister\n    } = useForm({\n        mode: 'onChange',\n        shouldUnregister: true,\n        // criteriaMode: 'all',\n        // criteriaMode: \"firstError\",\n        defaultValues: defaultValues\n    })\n\n    const sharedItems = {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground,\n        unregister\n    }\n\n    const myComponents = React.useRef()\n    // const errors = React.useRef({})\n    const watchingComponents = React.useRef()\n    const preConditionItems = React.useRef()\n\n\n    const [data, setData] = useState()\n\n    React.useEffect(() => {\n        if (items === undefined) return\n\n        // if(items !== data && data !== undefined){\n        //     for (const [key, value] of Object.entries(data)) {\n        //         unregister(value?.name);\n        //     }\n        // }\n        \n\n        //console.time('convertIdToRefffff')\n        myComponents.current = items; // convertIdToRef(items, 'name')\n        //console.timeEnd('convertIdToRefffff')\n        watchingComponents.current = prepareWtchingComponents(myComponents.current)\n        console.log(\"dyno ;)\", myComponents, 'myComponentsmyComponents')\n        console.log(\"dyno ;)\", watchingComponents, 'prepareWtchingComponents', [...watchingComponents.current.keys()])\n        \n        const subscription = watch(async (value, { name, type }) => {\n            // const [a, b] = await checkPreCondition(name, value[name], items);\n            // setData({ ...b });\n            // console.log(\"dyno ;)\", \"watchhhhhhh\", name, value)\n// return;\n            if (watchingComponents.current.get(name)) {\n                // if(!Array.isArray(data)) return;\n                console.log(\"dyno ;)\", \"checkPreCondition ;) checkPreCondition\", value, name, type, data, items)\n                const [a, b] = await checkPreCondition(name, value[name], items);\n                if (!deepEqual(data, b) && a) {\n                    // setData([...b]);\n                    setData({ ...b });\n                    // preConditionItems.current = [...b];\n                    return;\n                }\n            }\n        });\n\n        setData(items)\n    }, [items])\n\n    const getValue = (name) => {\n        return myComponents.current[name].value\n    }\n\n    const resetValues = () => {\n        myComponents.current = resetItems(items, 'name');\n        setData(items);\n    }\n\n    const onSubmit = (data) => {\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM\", data)\n        return data;\n    }\n\n    const getValuesPOC = async () => {\n        //TODO: hot fix for double validations\n        if (Object.keys(errors).length > 0) return false;\n        const result = await trigger();\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n        if (result === true) {\n            return await getValues();\n        } else {\n            return false;\n        }\n    }\n\n    ref.current = {\n        getValues: getValuesPOC,\n        resetValues: resetValues,\n        setValue: setValue\n    }\n\n    const validationOnce = async (name, value, result) => {\n        //console.time('validationssss')\n        const validatedItem = myComponents.current[name];\n        let n = result\n        const originalErrors = { ...errors.current } || {}\n        const newErrors = errors.current || {}\n\n        let error = false\n\n        // if (item && item.visible) {\n        if (value !== '') {\n            const error = value === '313'\n            if (error) {\n                newErrors[name] = {\n                    error,\n                    errorMsg: validatedItem.errorMsg && validatedItem.errorMsg || '313 cant be here.',\n                }\n            } else {\n                delete newErrors[name]\n            }\n            // n = _.set({ a: n }, `a${item.refId}.error`, error).a;\n            // console.log(\"dyno ;)\", \"error\", n, error, value)\n        } else {\n            delete newErrors[name]\n        }\n        // }\n\n        errors.current = { ...newErrors } // {...errors.current ,...newErrors};\n        // console.log(\"dyno ;)\", \"errorolo\", errors.current, originalErrors, _.isEqual(originalErrors, newErrors))\n        console.log(\"dyno ;)\", errors, \"errrrrrrrrr\", newErrors,)\n        if (error.current !== originalErrors) {\n        }\n\n        // setData([...n])\n\n        // setData([...n])\n        // Object.values(newC).forEach(element => {\n        //     if(element.value){\n        //         element[\"error\"] = true;\n        //         error = element.value !== \"313\";\n        //     }\n        // });\n        // error && pubsub.publish('textbox-3', {error: Date.now()});\n\n        //console.timeEnd('validationssss')\n        return [!_.isEqual(originalErrors, newErrors), [...n], newErrors[name]]\n    }\n\n    const updateReference = async (value, name) => {\n\n        //console.time('myComponentsFind')\n        myComponents.current[name].value = value\n        //console.timeEnd('myComponentsFind')\n\n        console.log(\"dyno ;)\", myComponents.current, 'getValues', await getValuesPOC())\n\n        //console.time('iam here')\n        const [hasValidationChanged, result, error] = await validationOnce(name, value, { ...data })\n        const [hasPreconditionChanged, preResult] = await checkPreCondition(name, value, data)\n        // console.log(\"dyno ;)\", error, \"asyncValidation\", result, hasValidationChanged)\n\n        if (hasValidationChanged === true || hasPreconditionChanged === true) {\n            // if (hasPreconditionChanged === true) {\n\n            console.log(\"dyno ;)\", \n                'lololololololololololoolol',\n                hasValidationChanged,\n                hasPreconditionChanged,\n                errors,\n            )\n            setData({ ...preResult })\n        }\n\n        // console.log(\"dyno ;)\", \"getValues\", await getValues())\n        //console.timeEnd('iam here')\n        // return [value, error]\n    }\n\n    const checkPreCondition = async (name, value, result) => {\n        // const hasCondition = watchingComponents.current[name];\n        const hasCondition = watchingComponents.current.get(name)\n\n        console.log(\"dyno ;)\", data, \"checkPreConditionInside\", name, myComponents.current, hasCondition, watchingComponents.current);\n\n        // TODO: ;)\n        // how to update the Array\n        // OR update and dont itterate the Object\n        // _.set({ a: myComponents.current }, \"a.textbox-2.items[0].value\", \"leila\")\n        // let n = _.cloneDeep(result);\n        let n = {...result}\n\n        let updated = false\n\n        if (hasCondition !== undefined) {\n            // for(let i = 0; i < hasCondition.length; i++){\n            //     const touched = item.value == value;\n            //         console.log(\"dyno ;)\", \"hashas\", _.get({a:n},`a${item.refId}.visible` ))\n            //         n = _.set({ a: n }, `a${item.refId}.visible`, touched).a;\n\n            // }\n\n            await hasCondition.map(async (item) => {\n                const realValue = value && value[\"value\"] || value;\n                const touched = item?.type && (await validationResolver[item.type](item, realValue)) // || validationResolver[\"eq\"](item,value); //value !== \"\" && item.value.includes(value) || false;\n                // if(touched){\n                // debugger\n                // if (n[item.refId] && n[item.refId].visible !== touched) {\n                //     n[item.refId].visible = touched;\n                //     updated = true\n                // }\n                const i = n[item.refId];\n                console.log(\"dyno ;)\", n[\"accountNo\"],\"accountNoaccountNo\",'-----',i)\n                if(i !== undefined && i.visible !== touched ){\n                    n[item.refId].visible = touched;\n                    updated = true\n                }\n                // if (_.get({ a: n }, `a${item.refId}.visible`) !== touched) { //touched\n                //     // myComponents.current[item.name].visible = touched;\n                //     n = _.set({ a: n }, `a${item.refId}.visible`, touched).a\n                //     updated = true\n                //     console.log(\"dyno ;)\", \n                //         'hashas',\n                //         await _.get({ a: n }, `a${item.refId}.visible`),\n                //         await touched,\n                //         hasCondition,\n                //         updated,\n                //     )\n                // }\n\n                // }\n            })\n        }\n        return [updated, n]\n        return [updated, { ...n }]\n    }\n\n    console.log(\"dyno ;)\", 'renderCount', renderCount++)\n\n    return (\n        (data && data.root?.items?.map((name, index) => renderComponentInd(name, data, {\n            updateReference,\n            myComponents,\n            getValues,\n            errors,\n            ControlledComponents,\n            components,\n            managedCallback,\n            undefined,\n            sharedItems,\n            index\n        })\n        )) || null\n    )\n\n\n    return (\n        (data &&\n            renderForm(\n                data,\n                updateReference,\n                myComponents,\n                getValues,\n                { ...errors },\n                ControlledComponents,\n                components,\n                managedCallback,\n                undefined,\n                sharedItems,\n                setValue\n            ))\n        ||\n        null\n    )\n});\n\nFormBuilderNext.whyDidYouRender = true\nFormBuilderNext.displayName = \"FormBuilderNext\"\n\nexport default FormBuilderNext\n","import { EVENTS, VALIDATION_MODE } from '../constants';\nimport { set } from '../utils';\nimport compact from '../utils/compact';\nimport convertToArrayPayload from '../utils/convertToArrayPayload';\nimport debounce from '../utils/debounce';\nimport deepEqual from '../utils/deepEqual';\nimport get from '../utils/get';\nimport getValidationModes from '../utils/getValidationModes';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isDateObject from '../utils/isDateObject';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isFileInput from '../utils/isFileInput';\nimport isFunction from '../utils/isFunction';\nimport isHTMLElement from '../utils/isHTMLElement';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isPrimitive from '../utils/isPrimitive';\nimport isRadioOrCheckboxFunction from '../utils/isRadioOrCheckbox';\nimport isString from '../utils/isString';\nimport isUndefined from '../utils/isUndefined';\nimport isWeb from '../utils/isWeb';\nimport omit from '../utils/omit';\nimport omitKey from '../utils/omitKeys';\nimport Subject from '../utils/Subject';\nimport unset from '../utils/unset';\nimport focusFieldBy from './focusFieldBy';\nimport getFieldValue from './getFieldValue';\nimport getFieldValueAs from './getFieldValueAs';\nimport getNodeParentName from './getNodeParentName';\nimport getResolverOptions from './getResolverOptions';\nimport hasValidation from './hasValidation';\nimport isNameInFieldArray from './isNameInFieldArray';\nimport setFieldArrayDirtyFields from './setFieldArrayDirtyFields';\nimport skipValidation from './skipValidation';\nimport unsetEmptyArray from './unsetEmptyArray';\nimport validateField from './validateField';\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nconst isWindowUndefined = typeof window === 'undefined';\nexport function createFormControlV4(props = {}) {\n    let formOptions = Object.assign(Object.assign({}, defaultOptions), props);\n    console.log(\"dyno ;)\", formOptions, 'formOptions')\n    let _delayCallback;\n    let _formState = {\n        isDirty: false,\n        isValidating: false,\n        dirtyFields: {},\n        isSubmitted: false,\n        submitCount: 0,\n        touchedFields: {},\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        errors: {},\n    };\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    let _fields = {};\n    let _formValues = {};\n    let _defaultValues = formOptions.defaultValues || {};\n    let _isInAction = false;\n    let _isMounted = false;\n    const _subjects = {\n        watch: new Subject(),\n        control: new Subject(),\n        array: new Subject(),\n        state: new Subject(),\n    };\n    let _names = {\n        mount: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n        watchAll: false,\n    };\n    const validationMode = getValidationModes(formOptions.mode);\n    const isValidateAllFieldCriteria = formOptions.criteriaMode === VALIDATION_MODE.all;\n    const isFieldWatched = (name) => _names.watchAll ||\n        _names.watch.has(name) ||\n        _names.watch.has((name.match(/\\w+/) || [])[0]);\n    const updateErrorState = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const shouldRenderBaseOnValid = async () => {\n        const isValid = await validateForm(_fields, true);\n        if (isValid !== _formState.isValid) {\n            _formState.isValid = isValid;\n            _subjects.state.next({\n                isValid,\n            });\n        }\n    };\n    const shouldRenderBaseOnError = async (shouldSkipRender, name, error, fieldState, isValidFromResolver, isWatched) => {\n        const previousError = get(_formState.errors, name);\n        const isValid = !!(_proxyFormState.isValid &&\n            (formOptions.resolver ? isValidFromResolver : shouldRenderBaseOnValid()));\n        if (props.delayError && error) {\n            _delayCallback =\n                _delayCallback || debounce(updateErrorState, props.delayError);\n            _delayCallback(name, error);\n        }\n        else {\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((isWatched ||\n            (error ? !deepEqual(previousError, error) : previousError) ||\n            !isEmptyObject(fieldState) ||\n            _formState.isValid !== isValid) &&\n            !shouldSkipRender) {\n            const updatedFormState = Object.assign(Object.assign(Object.assign({}, fieldState), (_proxyFormState.isValid && formOptions.resolver ? { isValid } : {})), { errors: _formState.errors, name });\n            _formState = Object.assign(Object.assign({}, _formState), updatedFormState);\n            //everywhere has isWatched ;)\n            _subjects.state.next(isWatched ? { name } : updatedFormState);\n        }\n        _subjects.state.next({\n            isValidating: false,\n        });\n    };\n    const setFieldValue = (name, value, options = {}, shouldRender) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", \"setValuesetValue\", field, field._f.ref.visible, value,_formValues)\n        if (field) {\n            const _f = field._f;\n            if (_f) {\n                // if(!field._f.ref.visible) return;\n                set(_formValues, name, getFieldValueAs(value, _f));\n                const fieldValue = isWeb && isHTMLElement(_f.ref) && isNullOrUndefined(value)\n                    ? ''\n                    : value;\n                if (isFileInput(_f.ref) && !isString(fieldValue)) {\n                    _f.ref.files = fieldValue;\n                }\n                else if (isMultipleSelect(_f.ref)) {\n                    [..._f.ref.options].forEach((selectRef) => (selectRef.selected = fieldValue.includes(selectRef.value)));\n                }\n                else if (_f.refs) {\n                    if (isCheckBoxInput(_f.ref)) {\n                        _f.refs.length > 1\n                            ? _f.refs.forEach((checkboxRef) => (checkboxRef.checked = Array.isArray(fieldValue)\n                                ? !!fieldValue.find((data) => data === checkboxRef.value)\n                                : fieldValue === checkboxRef.value))\n                            : (_f.refs[0].checked = !!fieldValue);\n                    }\n                    else {\n                        _f.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else {\n                    _f.ref.value = fieldValue;\n                }\n                if (shouldRender) {\n                    _subjects.control.next({\n                        values: getValues(),\n                        name,\n                    });\n                }\n                (options.shouldDirty || options.shouldTouch) &&\n                    updateTouchAndDirtyState(name, fieldValue, options.shouldTouch);\n                options.shouldValidate && trigger(name);\n            }\n        }\n    };\n    const updateTouchAndDirtyState = (name, inputValue, isCurrentTouched, shouldRender = true) => {\n        const state = {\n            name,\n        };\n        let isChanged = false;\n        if (_proxyFormState.isDirty) {\n            const previousIsDirty = _formState.isDirty;\n            _formState.isDirty = _getIsDirty();\n            state.isDirty = _formState.isDirty;\n            isChanged = previousIsDirty !== state.isDirty;\n        }\n        if (_proxyFormState.dirtyFields && !isCurrentTouched) {\n            const isPreviousFieldDirty = get(_formState.dirtyFields, name);\n            const isCurrentFieldDirty = !deepEqual(get(_defaultValues, name), inputValue);\n            isCurrentFieldDirty\n                ? set(_formState.dirtyFields, name, true)\n                : unset(_formState.dirtyFields, name);\n            state.dirtyFields = _formState.dirtyFields;\n            isChanged =\n                isChanged || isPreviousFieldDirty !== get(_formState.dirtyFields, name);\n        }\n        const isPreviousFieldTouched = get(_formState.touchedFields, name);\n        if (isCurrentTouched && !isPreviousFieldTouched) {\n            set(_formState.touchedFields, name, isCurrentTouched);\n            state.touchedFields = _formState.touchedFields;\n            isChanged =\n                isChanged ||\n                (_proxyFormState.touchedFields &&\n                    isPreviousFieldTouched !== isCurrentTouched);\n        }\n        isChanged && shouldRender && _subjects.state.next(state);\n        return isChanged ? state : {};\n    };\n    const executeResolver = async (name) => {\n        return formOptions.resolver\n            ? await formOptions.resolver(Object.assign({}, _formValues), formOptions.context, getResolverOptions(name || _names.mount, _fields, formOptions.criteriaMode, formOptions.shouldUseNativeValidation))\n            : {};\n    };\n    const executeResolverValidation = async (names) => {\n        const { errors } = await executeResolver();\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const validateForm = async (_fields, shouldCheckValid, context = {\n        valid: true,\n        triggerAll: true\n    }, formId = \"ALL\") => {\n        // console.log(\"SUBMITFORM here\", _fields, context)\n        for (const name in _fields) {\n            const field = _fields[name];\n            // console.log(field, 'iamfromherein-validation-lol-edward-log-;)---validateForm')\n            if (field) {\n                const _f = field._f;\n                const val = omit(field, '_f');\n                // && field._f.ref.formId === \"ALL\"\n                if (_f) {\n                    //To do for formId ;)\n                    // console.log(_f,'formidddddd')\n                    if (_f.formId === formId || formId === \"ALL\") {\n                        const fieldError = await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                        // const fieldError = field._f.ref.formId === \"ALL\" &&  await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                        // console.log(fieldError, \"fieldError\")\n                        if (shouldCheckValid) {\n                            if (fieldError[_f.name]) {\n                                context.valid = false;\n                                break;\n                            }\n                        }\n                        else {\n                            if (fieldError[_f.name]) {\n                                context.valid = false;\n                            }\n                            fieldError[_f.name]\n                                ? set(_formState.errors, _f.name, fieldError[_f.name])\n                                : unset(_formState.errors, _f.name);\n                            //Added to stop at first error\n                            //TODO: enhance as parameter \n                            //Done\n                            if (context.triggerAll === false && Object.keys(_formState.errors).length == 1) break;\n                        }\n                    }\n                }\n                val && (await validateForm(val, shouldCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const validateFormBackground = async (_fields, shouldCheckValid, context = {\n        valid: true,\n    }, formId = \"ALL\") => {\n        // console.log(\"SUBMITFORM here\", formId)\n        let localErrors = {};\n        for (const name in _fields) {\n            const field = _fields[name];\n            // console.log(field, 'iamfromherein-validation-lol-edward-log-;)---validateForm')\n            if (field) {\n                const _f = field._f;\n                const val = omit(field, '_f');\n                // && field._f.ref.formId === \"ALL\"\n                if (_f) {\n                    //To do for formId ;)\n                    // console.log(_f,'formidddddd')\n                    if (_f.formId === formId || formId === \"ALL\") {\n                        const fieldError = await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                        // const fieldError = field._f.ref.formId === \"ALL\" &&  await validateField(field, get(_formValues, _f.name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation);\n                        // console.log(fieldError, \"fieldError\")\n                        if (shouldCheckValid) {\n                            if (fieldError[_f.name]) {\n                                context.valid = false;\n                                break;\n                            }\n                        }\n                        else {\n                            if (fieldError[_f.name]) {\n                                context.valid = false;\n                            }\n                            fieldError[_f.name]\n                                ? set(localErrors, _f.name, fieldError[_f.name])\n                                : unset(localErrors, _f.name);\n                            //Added to stop at first error\n                            //TODO: enhance as parameter \n                            // if (Object.keys(_formState.errors).length == 1) break;\n                        }\n                    }\n                }\n                val && (await validateForm(val, shouldCheckValid, context));\n            }\n        }\n        return localErrors;\n    };\n    const handleChange = async ({ type, target, target: { value, name, type: inputType }, }) => {\n        let error;\n        let isValid;\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", field, \"field from library Yasser ;) Thanks Allah :):)\");\n        if (field) {\n            let inputValue = inputType ? getFieldValue(field) : undefined;\n            inputValue = isUndefined(inputValue) ? value : inputValue;\n            // console.log(\"dyno ;)\", inputValue, \"field from library Yasser ;) inputValue :)\");\n            const isBlurEvent = type === EVENTS.BLUR;\n            const { isOnBlur: isReValidateOnBlur, isOnChange: isReValidateOnChange } = getValidationModes(formOptions.reValidateMode);\n            const shouldSkipValidation = (!hasValidation(field._f, field._f.mount) &&\n                !formOptions.resolver &&\n                !get(_formState.errors, name)) ||\n                skipValidation(Object.assign({\n                    isBlurEvent, isTouched: !!get(_formState.touchedFields, name), isSubmitted: _formState.isSubmitted, isReValidateOnBlur,\n                    isReValidateOnChange\n                }, validationMode));\n            const isWatched = !isBlurEvent && isFieldWatched(name);\n            if (!isUndefined(inputValue)) {\n                set(_formValues, name, inputValue);\n            }\n            const fieldState = updateTouchAndDirtyState(name, inputValue, isBlurEvent, false);\n            const shouldRender = field._f.watch || !isEmptyObject(fieldState) || isWatched;\n            // const shouldRender = !isEmptyObject(fieldState) || isWatched;\n            console.log(\"dyno ;)\", shouldRender, `heyyyyyyyyyyy { ${name} } watch me or not?!`, field._f.watch, \"shouldSkipValidation:\", shouldSkipValidation, \"isBlurEvent:\", isBlurEvent, '------;)---- is watching hahaha:', isWatched)\n            if (shouldSkipValidation) {\n                !isBlurEvent &&\n                    _subjects.watch.next({\n                        name,\n                        type,\n                    });\n                return (shouldRender &&\n                    _subjects.state.next(isWatched ? { name } : Object.assign(Object.assign({}, fieldState), { name })));\n            }\n            _subjects.state.next({\n                isValidating: true,\n            });\n            if (formOptions.resolver) {\n                const { errors } = await executeResolver([name]);\n                error = get(errors, name);\n                if (isCheckBoxInput(target) && !error) {\n                    const parentNodeName = getNodeParentName(name);\n                    const valError = get(errors, parentNodeName, {});\n                    valError.type && valError.message && (error = valError);\n                    if (valError || get(_formState.errors, parentNodeName)) {\n                        name = parentNodeName;\n                    }\n                }\n                isValid = isEmptyObject(errors);\n            }\n            else {\n                // console.log(field, 'edwardyasser')\n                error = (await validateField(field, get(_formValues, name), isValidateAllFieldCriteria, formOptions.shouldUseNativeValidation))[name];\n            }\n            !isBlurEvent &&\n                _subjects.watch.next({\n                    name,\n                    type,\n                    values: getValues(),\n                });\n            shouldRenderBaseOnError(false, name, error, fieldState, isValid, isWatched);\n        }\n    };\n    const _updateValidAndInputValue = (name, ref, shouldSkipValueAs) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", name,ref, '_updateValidAndInputValue')\n        if (field) {\n            const fieldValue = get(_formValues, name);\n            const isValueUndefined = isUndefined(fieldValue);\n            const defaultValue = isValueUndefined\n                ? get(_defaultValues, name)\n                : fieldValue;\n            if (isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipValueAs) {\n                ref && ref.visible && //todo ;)\n                    set(_formValues, name, shouldSkipValueAs ? defaultValue : getFieldValue(field));\n            }\n            else {\n                setFieldValue(name, defaultValue);\n            }\n        }\n        _isMounted && _proxyFormState.isValid && _updateValid();\n    };\n    const _getIsDirty = (name, data) => {\n        name && data && set(_formValues, name, data);\n        return !deepEqual(Object.assign({}, getValues()), _defaultValues);\n    };\n    const _updateValid = async () => {\n        const isValid = formOptions.resolver\n            ? isEmptyObject((await executeResolver()).errors)\n            : await validateForm(_fields, true);\n        if (isValid !== _formState.isValid) {\n            _formState.isValid = isValid;\n            _subjects.state.next({\n                isValid,\n            });\n        }\n    };\n    const setValues = (name, value, options) => Object.entries(value).forEach(([fieldKey, fieldValue]) => {\n        const fieldName = `${name}.${fieldKey}`;\n        const field = get(_fields, fieldName);\n        const isFieldArray = _names.array.has(name);\n        (isFieldArray || !isPrimitive(fieldValue) || (field && !field._f)) &&\n            !isDateObject(fieldValue)\n            ? setValues(fieldName, fieldValue, options)\n            : setFieldValue(fieldName, fieldValue, options, true);\n    });\n    const _getWatch = (fieldNames, defaultValue, isGlobal) => {\n        const fieldValues = Object.assign({}, (_isMounted\n            ? Object.assign({}, Object.assign(Object.assign({}, _defaultValues), _formValues)) : isUndefined(defaultValue)\n                ? _defaultValues\n                : defaultValue));\n        if (!fieldNames) {\n            isGlobal && (_names.watchAll = true);\n            return fieldValues;\n        }\n        const resultChanges = [];\n        const result = new Map();\n        for (const fieldName of convertToArrayPayload(fieldNames)) {\n            isGlobal && _names.watch.add(fieldName);\n            resultChanges.push(get(fieldValues, fieldName));\n            result.set(fieldName, get(fieldValues, fieldName));\n        }\n        return Array.isArray(fieldNames)\n            ? [resultChanges, result]\n            : isObject(result[0])\n                ? Object.assign({}, result[0]) : Array.isArray(result[0])\n                    ? [...result[0]]\n                    : result[0];\n    };\n    const _updateFormValues = (defaultValues, name = '') => {\n        console.log(\"dyno ;)\", defaultValues, \"_updateFormValues\")\n        for (const key in defaultValues) {\n            const value = defaultValues[key];\n            const fieldName = name + (name ? '.' : '') + key;\n            const field = get(_fields, fieldName);\n            if (!field || !field._f) {\n                if (isObject(value) || Array.isArray(value)) {\n                    _updateFormValues(value, fieldName);\n                }\n                else if (!field) {\n                    set(_formValues, fieldName, value);\n                }\n            }\n        }\n    };\n    const _bathFieldArrayUpdate = (keyName, name, method, args, updatedFieldArrayValues = [], shouldSet = true, shouldSetFields = true) => {\n        _isInAction = true;\n        if (shouldSetFields && get(_fields, name)) {\n            const output = method(get(_fields, name), args.argA, args.argB);\n            shouldSet && set(_fields, name, output);\n        }\n        set(_formValues, name, updatedFieldArrayValues);\n        if (Array.isArray(get(_formState.errors, name))) {\n            const output = method(get(_formState.errors, name), args.argA, args.argB);\n            shouldSet && set(_formState.errors, name, output);\n            unsetEmptyArray(_formState.errors, name);\n        }\n        if (_proxyFormState.touchedFields && get(_formState.touchedFields, name)) {\n            const output = method(get(_formState.touchedFields, name), args.argA, args.argB);\n            shouldSet && set(_formState.touchedFields, name, output);\n            unsetEmptyArray(_formState.touchedFields, name);\n        }\n        if (_proxyFormState.dirtyFields || _proxyFormState.isDirty) {\n            set(_formState.dirtyFields, name, setFieldArrayDirtyFields(omitKey(updatedFieldArrayValues, keyName), get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n            updatedFieldArrayValues &&\n                set(_formState.dirtyFields, name, setFieldArrayDirtyFields(omitKey(updatedFieldArrayValues, keyName), get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n            unsetEmptyArray(_formState.dirtyFields, name);\n        }\n        _subjects.state.next({\n            isDirty: _getIsDirty(name, omitKey(updatedFieldArrayValues, keyName)),\n            dirtyFields: _formState.dirtyFields,\n            errors: _formState.errors,\n            isValid: _formState.isValid,\n        });\n    };\n    const _getFieldArrayValue = (name) => get(_isMounted ? _formValues : _defaultValues, name, []);\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        set(_formValues, name, value);\n        if (isFieldArray) {\n            _subjects.array.next({\n                values: value,\n                name,\n                isReset: true,\n            });\n            if ((_proxyFormState.isDirty || _proxyFormState.dirtyFields) &&\n                options.shouldDirty) {\n                set(_formState.dirtyFields, name, setFieldArrayDirtyFields(value, get(_defaultValues, name, []), get(_formState.dirtyFields, name, [])));\n                _subjects.state.next({\n                    name,\n                    dirtyFields: _formState.dirtyFields,\n                    isDirty: _getIsDirty(name, value),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(value)\n                ? setValues(name, value, options)\n                : setFieldValue(name, value, options, true);\n        }\n        isFieldWatched(name) && _subjects.state.next({});\n        _subjects.watch.next({\n            name,\n        });\n    };\n    const trigger = async (name, options = {}) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        _subjects.state.next({\n            isValidating: true,\n        });\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                await validateForm(_fields);\n                isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        return isValid;\n    };\n    const triggerCustom = async (options = { triggerAll: false }, name) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        _subjects.state.next({\n            isValidating: true,\n        });\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                await validateForm(_fields, false, { triggerAll: options.triggerAll });\n                isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        return isValid;\n    };\n    const triggerBackground = async (name, options = {}) => {\n        const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        // _subjects.state.next({\n        //     isValidating: true,\n        // });\n        console.log(\"dyno ;)\", \"trigger\", _formState.errors);\n        if (formOptions.resolver) {\n            const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            isValid = name\n                ? fieldNames.every((name) => !get(schemaResult, name))\n                : isEmptyObject(schemaResult);\n        }\n        else {\n            if (name) {\n                isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n                    const field = get(_fields, fieldName);\n                    // console.log(field, 'iamfromherein-validation-lol-edward-log-;)')\n                    return await validateForm(field._f ? { [fieldName]: field } : field);\n                }))).every(Boolean);\n            }\n            else {\n                isValid = await validateForm(_fields, true);\n                // isValid = isEmptyObject(_formState.errors);\n            }\n        }\n        // _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        if (options.shouldFocus && !isValid) {\n            focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        }\n        _proxyFormState.isValid && _updateValid();\n        // console.log(\"trigger99999999\", _formState.errors, \"end\", isValid);\n        return isValid;\n    };\n    const triggerBackgroundOptimised = (formId = \"ALL\") => async (list = false) => {\n        // const fieldNames = convertToArrayPayload(name);\n        let isValid;\n        // _subjects.state.next({\n        //     isValidating: true,\n        // });\n        console.log(\"dyno ;)\", \"triggerBackgroundtriggerBackground\", _formState.errors);\n        if (formOptions.resolver) {\n            // const schemaResult = await executeResolverValidation(isUndefined(name) ? name : fieldNames);\n            const schemaResult = await executeResolverValidation(fieldNames);\n            isValid =\n                // name\n                // ? fieldNames.every((name) => !get(schemaResult, name))\n                // :\n                isEmptyObject(schemaResult);\n        }\n        else {\n            // if (name) {\n            //     isValid = (await Promise.all(fieldNames.map(async (fieldName) => {\n            //         const field = get(_fields, fieldName);\n            //         console.log(field, 'iamfromherein-validation-lol-edward-log-;)')\n            //         return await validateForm(field._f ? { [fieldName]: field } : field);\n            //     }))).every(Boolean);\n            // }\n            // else {\n            if (list) {\n                isValid = await validateFormBackground(_fields, false, {\n                    valid: true,\n                });\n            } else {\n                isValid = await validateForm(_fields, true, {\n                    valid: true,\n                }, formId);\n            }\n\n            // isValid = isEmptyObject(_formState.errors);\n            // }\n        }\n        // _subjects.state.next(Object.assign(Object.assign({}, (isString(name) ? { name } : {})), { errors: _formState.errors, isValidating: false }));\n        // if (options.shouldFocus && !isValid) {\n        //     // focusFieldBy(_fields, (key) => get(_formState.errors, key), name ? fieldNames : _names.mount);\n        // }\n        _proxyFormState.isValid && _updateValid();\n        // console.log(\"trigger99999999\", _formState.errors, \"end\", isValid);\n        return isValid;\n    };\n    const getValues = (fieldNames) => {\n        // console.log(_formValues, _fields, \"getValuesgetValues\")\n        const values = Object.assign(Object.assign({}, _defaultValues), _formValues);\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const clearErrors = (name) => {\n        name\n            ? convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName))\n            : (_formState.errors = {});\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        set(_formState.errors, name, Object.assign(Object.assign({}, error), { ref }));\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (fieldName, defaultValue) => isFunction(fieldName)\n        ? _subjects.watch.subscribe({\n            next: (info) => fieldName(_getWatch(undefined, defaultValue), info),\n        })\n        : _getWatch(fieldName, defaultValue, true);\n    const unregister = (name, options = {}) => {\n        for (const inputName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(inputName);\n            _names.array.delete(inputName);\n            if (get(_fields, inputName)) {\n                if (!options.keepValue) {\n                    unset(_fields, inputName);\n                    unset(_formValues, inputName);\n                }\n                !options.keepError && unset(_formState.errors, inputName);\n                !options.keepDirty && unset(_formState.dirtyFields, inputName);\n                !options.keepTouched && unset(_formState.touchedFields, inputName);\n                !formOptions.shouldUnregister &&\n                    !options.keepDefaultValue &&\n                    unset(_defaultValues, inputName);\n            }\n        }\n        _subjects.watch.next({});\n        _subjects.state.next(Object.assign(Object.assign({}, _formState), (!options.keepDirty ? {} : { isDirty: _getIsDirty() })));\n        !options.keepIsValid && _updateValid();\n    };\n    const registerFieldRef = (name, fieldRef, options) => {\n        register(name, options);\n        let field = get(_fields, name);\n        const ref = isUndefined(fieldRef.value)\n            ? fieldRef.querySelectorAll\n                ? fieldRef.querySelectorAll('input,select,textarea')[0] ||\n                fieldRef\n                : fieldRef\n            : fieldRef;\n        const isRadioOrCheckbox = isRadioOrCheckboxFunction(ref);\n        if (ref === field._f.ref ||\n            (isRadioOrCheckbox &&\n                compact(field._f.refs || []).find((option) => option === ref))) {\n            return;\n        }\n        field = {\n            _f: isRadioOrCheckbox\n                ? Object.assign(Object.assign({}, field._f), {\n                    refs: [\n                        ...compact(field._f.refs || []).filter((ref) => isHTMLElement(ref) && document.contains(ref)),\n                        ref,\n                    ], ref: { type: ref.type, name }\n                }) : Object.assign(Object.assign({}, field._f), { ref }),\n        };\n        set(_fields, name, field);\n        _updateValidAndInputValue(name, ref);\n    };\n    const register = (name, options = {}) => {\n        const field = get(_fields, name);\n        // console.log(\"dyno ;)\", \"registerRegister\", field, name, _fields)\n        set(_fields, name, {\n            _f: Object.assign(Object.assign(Object.assign({}, (field && field._f ? field._f : { ref: { name } })), { name, mount: true }), options),\n        });\n        console.log(\"dyno ;)\", Object.assign(Object.assign(Object.assign({}, (field && field._f ? field._f : { ref: { name } })), { name, mount: true }), options), \"registerRegister after\", field, name, _fields)\n        if (options.value) {\n            set(_formValues, name, options.value);\n        }\n        if (!isUndefined(options.disabled) &&\n            field &&\n            field._f &&\n            field._f.ref.disabled !== options.disabled) {\n            set(_formValues, name, options.disabled ? undefined : field._f.ref.value);\n        }\n        _names.mount.add(name);\n        !field && _updateValidAndInputValue(name, undefined, true);\n        return isWindowUndefined\n            ? { name: name }\n            : Object.assign(Object.assign({ name }, (isUndefined(options.disabled)\n                ? {}\n                : { disabled: options.disabled })), {\n                onChange: handleChange, onBlur: handleChange, ref: (ref) => {\n                    if (ref) {\n                        registerFieldRef(name, ref, options);\n                    }\n                    else {\n                        const field = get(_fields, name, {});\n                        const _shouldUnregister = formOptions.shouldUnregister || options.shouldUnregister;\n                        if (field._f) {\n                            field._f.mount = false;\n                        }\n                        _shouldUnregister &&\n                            !(isNameInFieldArray(_names.array, name) && _isInAction) &&\n                            _names.unMount.add(name);\n                    }\n                }\n            });\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist && e.persist();\n        }\n        let hasNoPromiseError = true;\n        let fieldValues = Object.assign({}, _formValues);\n        // console.log(\"dyno ;)\", _formValues,\"_formValues\")\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        try {\n            if (formOptions.resolver) {\n                const { errors, values } = await executeResolver();\n                _formState.errors = errors;\n                fieldValues = values;\n            }\n            else {\n                await validateForm(_fields);\n            }\n            if (isEmptyObject(_formState.errors) &&\n                Object.keys(_formState.errors).every((name) => get(fieldValues, name))) {\n                _subjects.state.next({\n                    errors: {},\n                    isSubmitting: true,\n                });\n                await onValid(fieldValues, e);\n            }\n            else {\n                onInvalid && (await onInvalid(_formState.errors, e));\n                formOptions.shouldFocusError &&\n                    focusFieldBy(_fields, (key) => get(_formState.errors, key), _names.mount);\n            }\n        }\n        catch (err) {\n            hasNoPromiseError = false;\n            throw err;\n        }\n        finally {\n            _formState.isSubmitted = true;\n            _subjects.state.next({\n                isSubmitted: true,\n                isSubmitting: false,\n                isSubmitSuccessful: isEmptyObject(_formState.errors) && hasNoPromiseError,\n                submitCount: _formState.submitCount + 1,\n                errors: _formState.errors,\n            });\n        }\n    };\n    const reset = (values, keepStateOptions = {}) => {\n        const updatedValues = values || _defaultValues;\n        if (isWeb && !keepStateOptions.keepValues) {\n            for (const name of _names.mount) {\n                const field = get(_fields, name);\n                if (field && field._f) {\n                    const inputRef = Array.isArray(field._f.refs)\n                        ? field._f.refs[0]\n                        : field._f.ref;\n                    try {\n                        isHTMLElement(inputRef) && inputRef.closest('form').reset();\n                        break;\n                    }\n                    catch (_a) { }\n                }\n            }\n        }\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = Object.assign({}, updatedValues);\n            _formValues = Object.assign({}, updatedValues);\n        }\n        if (!keepStateOptions.keepValues) {\n            _fields = {};\n            _formValues = {};\n            _subjects.control.next({\n                values: keepStateOptions.keepDefaultValues\n                    ? _defaultValues\n                    : Object.assign({}, updatedValues),\n            });\n            _subjects.watch.next({});\n            _subjects.array.next({\n                values: Object.assign({}, updatedValues),\n                isReset: true,\n            });\n        }\n        _names = {\n            mount: new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            watch: new Set(),\n            watchAll: false,\n        };\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: keepStateOptions.keepDirty\n                ? _formState.isDirty\n                : keepStateOptions.keepDefaultValues\n                    ? deepEqual(values, _defaultValues)\n                    : false,\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: keepStateOptions.keepDirty ? _formState.dirtyFields : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitting: false,\n            isSubmitSuccessful: false,\n        });\n        _isMounted = !!keepStateOptions.keepIsValid;\n    };\n    const setFocus = (name) => get(_fields, name)._f.ref.focus();\n    return {\n        control: {\n            register,\n            unregister,\n            _getIsDirty,\n            _getWatch,\n            _updateValid,\n            _updateFormValues,\n            _bathFieldArrayUpdate,\n            _getFieldArrayValue,\n            _subjects,\n            _shouldUnregister: formOptions.shouldUnregister,\n            _fields,\n            _proxyFormState,\n            get _formValues() {\n                return _formValues;\n            },\n            set _formValues(value) {\n                _formValues = value;\n            },\n            get _isMounted() {\n                return _isMounted;\n            },\n            set _isMounted(value) {\n                _isMounted = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            set _defaultValues(value) {\n                _defaultValues = value;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            _isInAction: {\n                get val() {\n                    return _isInAction;\n                },\n                set val(value) {\n                    _isInAction = value;\n                },\n            },\n            _formState: {\n                get val() {\n                    return _formState;\n                },\n                set val(value) {\n                    _formState = value;\n                },\n            },\n            _updateProps: (options) => {\n                formOptions = Object.assign(Object.assign({}, defaultOptions), options);\n            },\n        },\n        trigger,\n        triggerBackground,\n        triggerBackgroundOptimised,\n        triggerCustom,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n    };\n}\n","import * as React from 'react';\nimport { createFormControl } from './logic/createFormControl';\nimport { createFormControlV4 } from './logic/createFormControlV4';\nimport getProxyFormState from './logic/getProxyFormState';\nimport shouldRenderFormState from './logic/shouldRenderFormState';\nimport get from './utils/get';\nimport live from './utils/live';\nimport set from './utils/set';\nexport function useForm(props = {}) {\n    const _formControl = React.useRef();\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        dirtyFields: {},\n        isSubmitted: false,\n        submitCount: 0,\n        touchedFields: {},\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        errors: {},\n    });\n    if (_formControl.current) {\n        _formControl.current.control._updateProps(props);\n    }\n    else {\n        _formControl.current = Object.assign(Object.assign({}, createFormControlV4(props)), { formState });\n    }\n    const control = _formControl.current.control;\n    React.useEffect(() => {\n        const formStateSubscription = control._subjects.state.subscribe({\n            next(formState) {\n                // console.log(\"dyno ;)\", \"##1\", formState,control._proxyFormState)\n                if (shouldRenderFormState(formState, control._proxyFormState, true)) {\n                    control._formState.val = Object.assign(Object.assign({}, control._formState.val), formState);\n                    updateFormState(Object.assign({}, control._formState.val));\n                }\n            },\n        });\n        const useFieldArraySubscription = control._subjects.array.subscribe({\n            next(state) {\n                if (state.values && state.name && control._proxyFormState.isValid) {\n                    set(control._formValues, state.name, state.values);\n                    control._updateValid();\n                }\n            },\n        });\n        return () => {\n            formStateSubscription.unsubscribe();\n            useFieldArraySubscription.unsubscribe();\n        };\n    }, [control]);\n    React.useEffect(() => {\n        const unregisterFieldNames = [];\n        if (!control._isMounted) {\n            control._isMounted = true;\n            control._proxyFormState.isValid && control._updateValid();\n            !props.shouldUnregister &&\n                control._updateFormValues(control._defaultValues);\n        }\n        for (const name of control._names.unMount) {\n            const field = get(control._fields, name);\n            field &&\n                (field._f.refs ? field._f.refs.every(live) : live(field._f.ref)) &&\n                unregisterFieldNames.push(name);\n        }\n        console.log(\"dyno ;)\", unregisterFieldNames,'unregisterFieldNames',control._names,control)\n        unregisterFieldNames.length &&\n            _formControl.current.unregister(unregisterFieldNames);\n        control._names.unMount = new Set();\n    });\n    _formControl.current.formState = getProxyFormState(formState, control._proxyFormState);\n    return _formControl.current;\n}","import React, { useCallback, useEffect, useState, useRef } from 'react'\n\nimport {\n    useWatch\n} from \"../useWatch\"\nimport {\n    useFieldArray\n} from \"../useFieldArray\"\nimport {\n    FormProvider,\n    useFormContext\n} from \"../useFormContext\"\nimport {\n    useForm\n} from \"../useFormV1\"\nimport {\n    Controller\n} from \"../controller\"\n\nimport _ from 'lodash'\n// import deepEqual from \"../utils/deepEqual\"\nimport deepEqual from \"../utils/deepEqual\"\nimport { defaultValidationResolver } from \"../utils/defaultValidationResolver\"\nimport { dataTransformer as defaultDataTransformer } from '../middleware/dataTransformer'\n// import { defaultValidationResolver } from \"../dynamo/utils/defaultValidationResolver\"\n\nfunction keysWithDoubleDollar(obj) {\n    const result = [];\n\n    function checkForKey(obj, path) {\n        if (typeof obj === 'object') {\n            if (Array.isArray(obj)) {\n                obj.forEach((item, index) => {\n                    checkForKey(item, `${path}[${index}]`);\n                });\n            } else {\n                if (obj != undefined && obj != null) {\n                    Object.keys(obj).forEach(key => {\n                        const newPath = path ? `${path}.${key}` : key;\n                        checkForKey(obj[key], newPath);\n                    });\n                }\n            }\n        } else if (typeof obj === 'string' && (obj.includes('$$') || obj.includes('{{') || obj.includes('${'))) {\n            result.push(path);\n        }\n    }\n\n    checkForKey(obj, '');\n\n    return result;\n}\n\nconst renderComponentInd = (name, data, { updateReference,\n    myComponents,\n    getValues,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    undefined,\n    sharedItems,\n    index,\n    parent,\n    givenName = undefined,\n    dataTransformer\n}\n) => {\n\n    const selectedComponent = { ...data[name], givenName };\n    // Add givenName here ;)\n    // selectedComponent.givenName = givenName;\n\n\n    if (selectedComponent === undefined) return null;\n    // if (proxyItem === undefined) return null;\n\n    const neededKeys = keysWithDoubleDollar(selectedComponent);\n    console.log(\"dyno ;)\", neededKeys, \"[neededKeys]\", selectedComponent)\n\n    //proxy here ;)\n    const proxyHandler = {\n        get(target, prop, receiver) {\n            if (neededKeys.includes(prop)) {\n                if (typeof target[prop] === \"object\" && target[prop] !== null) {\n                    console.log(\"dyno ;)\", target[prop], \"proxyHanlerrrrrrrr me ;)\");\n                    return new Proxy(target[prop], proxyHandler);\n                }\n                return dataTransformer(target[prop], prop, target)({\n                    ...sharedItems.localFunction,\n                    sharedItems: {\n                        ...sharedItems,\n                        index\n                    },\n                    // ...sharedItems\n                });\n            }\n            return target[prop];\n        }\n    };\n\n    const proxyItem = new Proxy({\n        ...selectedComponent,\n        sharedItems: sharedItems\n    }, proxyHandler);\n    // debugger;\n    // if (selectedComponent?.visible === false) return null\n    // name === \"howAreYouThen\" && console.log(proxyItem?.visible, 'Vaaaaala Result proxyItem?.visible', name, proxyItem?.visible === false)\n    if (proxyItem?.visible === false) return null\n\n    return renderComponentForm(\n        proxyItem,\n        updateReference,\n        myComponents,\n        getValues,\n        { ...errors },\n        ControlledComponents,\n        components,\n        managedCallback,\n        undefined,\n        sharedItems,\n        index,\n        data,\n        parent,\n        dataTransformer\n    )\n}\n\nconst renderComponentForm = (\n    item,\n    updateReference,\n    myControl,\n    getValue,\n    errorss,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    index,\n    data,\n    parent,\n    dataTransformer\n) => {\n    console.log(\"dyno ;)\", errorss, 'dataerrors')\n    //console.time('renderFormmm')\n    // const r = data\n    //     .filter((element) => element.visible)\n    //     .map((item, index) => {\n    //         // console.log(\"dyno ;)\", item, \"ittttem\")\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground\n    } = sharedItems\n\n    // if (!item.visible) return null\n    const name = parentName && `${parentName}.${item.name}` || item.givenName && item.givenName || item.name\n\n    let result = null\n    let child = []\n    if (item.items) {\n        child = item.items.map((name, idx) => renderComponentInd(name, data, {\n            updateReference,\n            myControl,\n            getValue,\n            errors,\n            ControlledComponents,\n            components,\n            managedCallback,\n            parentName: item?.items && name || undefined,\n            sharedItems,\n            index: idx,\n            data,\n            parent: { name: item.name, index, id: item.id },\n            itemName: name,\n            dataTransformer\n        }))\n\n        // renderComponentForm(\n        //     item.items,\n        //     updateReference,\n        //     myControl,\n        //     getValue,\n        //     errors,\n        //     ControlledComponents,\n        //     components,\n        //     managedCallback,\n        //     item?.items && name || undefined,\n        //     sharedItems,\n        //     setValue\n        // )\n    }\n\n    const validation = {\n        maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n        minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n        max: item.max && item.max.value !== \"\" && item.max || undefined,\n        min: item.min && item.min.value !== \"\" && item.min || undefined,\n        pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n        required: item.required && item.required.value !== \"\" && item.required || undefined\n    }\n\n    const { validate = {} } = item?.rule || { validate: {} };\n\n    if (item?.rule) {\n        console.log(\"dyno ;)\", validate, 'validate[', sharedItems?.localFunction)\n        Object.keys(validate).forEach(key => {\n            if (typeof validate[key] === \"function\") return;\n            validate[key] = sharedItems?.localFunction[key](validate[key])({ ...sharedItems, getItem: () => item });\n            console.log(\"dyno ;)\", validate, 'validate[ within', validate[key])\n        });\n        console.log(\"dyno ;)\", validate, 'validate[ after')\n    }\n\n\n    // let rule = _.cloneDeep(item?.rule || {});\n    // debugger;\n    // rule.pattern?.value = new RegExp(item.rule?.pattern?.value);\n\n    result = (\n        <Controller\n            key={item.isArray === true && `${name}container` || name}\n            name={item.isArray === true && `${name}container` || name}\n            control={control}\n            item={{ ...item, index }}\n            rules={{ ...item.rule } || validation}\n            // eventBus={sharedItems?.eventBus}\n            render={({ field }) => {\n\n                if (item.isArray) {\n                    console.log(\"dyno ;)\", name, item.items, \"useFieldArray\")\n                    const { fields, append, remove } = useFieldArray({\n                        control,\n                        name: name,\n                        rules: { ...item.rule } || validation\n                    });\n\n                    child =\n                        <div>\n                            <ul>\n                                {fields.map((el, index) => (\n                                    <li key={el.id}>\n                                        {item.items.map((element, indx) => (\n                                            <Controller\n                                                key={`${name}.${index}.${data[element].name}`}\n                                                name={`${name}.${index}.${data[element].name}`}\n                                                control={control}\n                                                render={({ field }) => {\n                                                    console.log(\"dyno ;)\", `${name}.${index}.${element}`, '`${name}.${index}.${element}`')\n                                                    return renderComponentInd(element, { ...data, index }, {\n                                                        updateReference,\n                                                        myControl,\n                                                        getValue,\n                                                        errors,\n                                                        ControlledComponents,\n                                                        components,\n                                                        managedCallback,\n                                                        parentName: item?.items && name || undefined,\n                                                        sharedItems: {\n                                                            ...sharedItems,\n                                                            // fields,\n                                                            append,\n                                                            remove: () => remove(index)\n                                                        },\n                                                        index: index,\n                                                        data,\n                                                        parent: { name: item.name, index, id: item.id },\n                                                        givenName: `${name}.${index}.${data[element].name}`,\n                                                        dataTransformer\n                                                    })\n\n                                                    const Component = components(element.type, {\n                                                        field,\n                                                        item: element,\n                                                        name: `${name}.${index}.${element.name}`,\n                                                        indx,\n                                                        managedCallback,\n                                                        child,\n                                                        useFieldArray\n                                                    })\n                                                    return Component\n                                                }}\n                                            />\n                                        ))}\n                                        <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                    </li>\n                                ))}\n\n                            </ul>\n                            {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                            {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                            <button\n                                type=\"button\"\n                                // onClick={() => append({ \"actionURL\": \"\" })}\n                                onClick={() => append({})}\n\n                            >\n                                +\n                            </button>\n                        </div>\n                }\n\n                // //proxy here ;)\n                // const proxyHandler = {\n                //     get(target, prop, receiver) {\n                //         if (typeof target[prop] === \"object\" && target[prop] !== null) {\n                //             console.log(\"dyno ;)\", target[prop], \"proxyHanlerrrrrrrr me ;)\");\n                //             return new Proxy(target[prop], proxyHandler);\n                //         }\n                //         return dataTransformer(target[prop], prop, target)({\n                //             ...sharedItems.localFunction,\n                //             sharedItems: sharedItems,\n                //             // ...sharedItems\n                //         });\n                //     }\n                // };\n\n                // const proxyItem = new Proxy({\n                //     ...item,\n                //     sharedItems: sharedItems\n                // }, proxyHandler);\n\n\n                //end of proxy\n\n\n                const Component = components(item.type, {\n                    field,\n                    // item: proxyItem,//item,\n                    item,\n                    name,\n                    index,\n                    managedCallback,\n                    child,\n                    useFieldArray,\n                    error: errors,\n                    sharedItems,\n                    parent\n                })\n\n                return Component\n            }}\n\n        />\n    )\n\n    //     return result\n    // })\n    //console.timeEnd('renderFormmm')\n    return result\n}\n\nconst renderForm = (\n    data,\n    updateReference,\n    myControl,\n    getValue,\n    errors,\n    ControlledComponents,\n    components,\n    managedCallback,\n    parentName,\n    sharedItems,\n    setValue\n) => {\n    console.log(\"dyno ;)\", errors, 'dataerrors')\n    //console.time('renderFormmm')\n    const r = data\n        .filter((element) => element.visible)\n        .map((item, index) => {\n            // console.log(\"dyno ;)\", item, \"ittttem\")\n\n            const {\n                register,\n                handleSubmit,\n                watch,\n                errors,\n                control,\n                trigger,\n                setFocus,\n                getValues,\n                setValue,\n                useFieldArray,\n                useWatch,\n                triggerBackground\n            } = sharedItems\n\n            // if (!item.visible) return null\n            const name = parentName && `${parentName}.${item.name}` || item.name\n\n            let result = null\n            let child = []\n            if (item.items) {\n                child = renderForm(\n                    item.items,\n                    updateReference,\n                    myControl,\n                    getValue,\n                    errors,\n                    ControlledComponents,\n                    components,\n                    managedCallback,\n                    item?.items && name || undefined,\n                    sharedItems,\n                    setValue\n                )\n            }\n\n            const validation = {\n                maxLength: item.maxLength && item.maxLength.value !== \"\" && item.maxLength || undefined,\n                minLength: item.minLength && item.minLength.value !== \"\" && item.minLength || undefined,\n                max: item.max && item.max.value !== \"\" && item.max || undefined,\n                min: item.min && item.min.value !== \"\" && item.min || undefined,\n                pattern: item.pattern && item.pattern.value !== \"\" && item.pattern || undefined,\n                required: item.required && item.required.value !== \"\" && item.required || undefined\n            }\n            // console.log(\"dyno ;)\", \"validationValidation\", validation)\n\n            // if (!item.visible) return null\n\n            // const name = parentName && `${parentName}.0.${item.name}` || item.name\n            // console.log(\"dyno ;)\", name, \"namename\")\n            result = (\n                <Controller\n                    key={item.isArray === true && `${name}container` || name}\n                    name={item.isArray === true && `${name}container` || name}\n                    control={control}\n                    item={item}\n                    rules={item.rule || validation}\n                    // eventBus={sharedItems?.eventBus}\n                    render={({ field }) => {\n\n                        if (item.isArray) {\n                            // console.log(\"dyno ;)\", name, \"useFieldArray\")\n                            const { fields, append, remove } = useFieldArray({\n                                control,\n                                name: name\n                            });\n\n                            // const myaCondition = useWatch({\n                            //     control,\n                            //     name: 'textbox-0.test.0.firstName', // without supply name will watch the entire form, or ['firstName', 'lastName'] to watch both\n                            //     defaultValue: undefined // default value before the render\n                            // });\n                            // console.log(\"dyno ;)\", myaCondition, \"myaCondition\", getValue(\"textbox-3\"))\n                            child =\n                                <div>\n                                    {/* <>\n                                        {`${item.name}`}\n                                        <br />\n                                        <input {...field} />\n                                        {errors && errors[item.name] && `${item.name} errororrr`}\n                                        {child && child}\n                                        <br />\n                                        <br />\n                                        <br />\n                                    </> */}\n                                    <ul>\n                                        {fields.map((el, index) => (\n                                            <li key={el.id}>\n                                                {item.items.map((element, indx) => (\n                                                    <Controller\n                                                        name={`${name}.${index}.${element.name}`}\n                                                        control={control}\n                                                        render={({ field }) => {\n                                                            const Component = components(element.type, {\n                                                                field,\n                                                                item: element,\n                                                                name: `${name}.${index}.${element.name}`,\n                                                                indx,\n                                                                managedCallback,\n                                                                child,\n                                                                useFieldArray\n                                                            })\n                                                            return Component\n                                                        }}\n                                                    />\n                                                ))}\n                                                <button type=\"button\" onClick={() => remove(index)}>-</button>\n                                            </li>\n                                        ))}\n\n                                    </ul>\n                                    {/* <button type=\"button\" onClick={() => {\n                                        control.unregister(\"textbox-10\")\n                                        console.log(\"dyno ;)\", getValue(), \"unregisterrrr\")\n                                    }}> unregister 10 now ;) </button> */}\n\n                                    {/* <button type=\"button\" onClick={() => setValue(\"textbox-9\", { hi: \"wowwwwww\" })}> Change 9 now ;) </button> */}\n                                    <button\n                                        type=\"button\"\n                                        // onClick={() => append({ \"actionURL\": \"\" })}\n                                        onClick={() => append({})}\n\n                                    >\n                                        +\n                                    </button>\n                                </div>\n\n                        }\n\n                        const Component = components(item.type, {\n                            field,\n                            item,\n                            name,\n                            index,\n                            managedCallback,\n                            child,\n                            useFieldArray,\n                            error: errors,\n                            sharedItems\n                        })\n\n                        return Component\n                    }}\n\n                />\n            )\n\n            return result\n        })\n    //console.timeEnd('renderFormmm')\n    return r\n}\n\n// where is item\n// need 1st render recursive\n// -> DFS & flat => ref for each field\n// preCondition -> array(store) - flat, value -> set?\n// leftIconA => 7\n// _.set({}, \"b.c.d\")\n\nconst convertIdToRef = (array, key, name, parent, isArray) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        const itemName = isArray === undefined && item[key] || `${parent}.0.${item[key]}`\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent, itemName, isArray)\n\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [itemName]: {\n                ...item,\n                name: itemName,\n                refId,\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key], item.isArray)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst resetItems = (array, key, name, parent) => {\n    // const initialValue = {};\n    // const initialValue = new Map();\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, 'convertIdToRefconvertIdToRef', item, name, parent)\n        const refId = (name && `${name}.items[${currentIndex}]`) || `[${currentIndex}]`\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: {\n                ...item,\n                refId,\n                value: \"\",\n                ...(parent && { parent }),\n            },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId, item[key])),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst convertIdToRefV2 = (array, key, name) => {\n    // const initialValue = {};\n    const initialValue = new Map()\n    const result = array.reduce((obj, item, currentIndex) => {\n        // TODO: remove console comment ;)\n        // console.log(\"dyno ;)\", name, \"convertIdToRefconvertIdToRef\", item)\n        const refId = (name && `${name}.items[${currentIndex}]`) || item[key] // `[${currentIndex}]`;\n        return {\n            ...obj,\n            // [item[key]]: { ...item, refId: name && `${name}.items[${currentIndex}]` || item.name },\n            [item[key]]: { ...item, refId },\n            // ...(item.items !== undefined && convertIdToRef(item.items, \"name\", item.name)),`[${currentIndex}]`\n            ...(item.items !== undefined && convertIdToRef(item.items, 'name', refId)),\n        }\n    }, new Map())\n\n    return result\n}\n\nconst prepareWtchingComponents = (items, key) => {\n    // const initialValue = {};\n    // //console.time('prepareWtchingComponents')\n    const initialValue = new Map()\n\n    Object.keys(items).forEach((key) => {\n        if (items[key].watch) {\n            initialValue.set(items[key].name);//POC only\n        }\n        if (items[key].preCondition) {\n            const preConditionObj = convertArrayToObject(items[key].preCondition, 'value')\n\n            // const thisShitIsBananas = items[key].preCondition.reduce((accumulator, fruit) => {\n            //     return accumulator.concat(fruit.value);\n            // }, []);\n            // console.log(\"dyno ;)\", items[key], \"prepareWtchingComponents\", Object.values(preConditionObj), '----===----', preConditionObj)\n            const keys = Object.keys(preConditionObj)\n            for (let index = 0; index < keys.length; index++) {\n                const internalItem = preConditionObj[keys[index]]\n                console.log(\"dyno ;)\", items[key], 'items[key]')\n                initialValue.set(internalItem.name, [\n                    ...((initialValue.get(internalItem.name) && initialValue.get(internalItem.name)) || []),\n                    { refId: items[key].id, ...internalItem },\n                ])\n            }\n            // keys.forEach( e => {\n            //     // initialValue[preConditionObj[e].name] = [\n            //     //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     //     ...(initialValue[preConditionObj[e].name] && initialValue[preConditionObj[e].name] || []),\n            //     //     // {refId: items[key].refId, ...preConditionObj  }\n            //     //     {refId: items[key].refId, ...preConditionObj[e] }\n            //     // ];\n            //     initialValue.set(preConditionObj[e].name, [\n            //         // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //         ...(initialValue.get(preConditionObj[e].name) && initialValue.get(preConditionObj[e].name) || []),\n            //         // {refId: items[key].refId, ...preConditionObj  }\n            //         {refId: items[key].refId, ...preConditionObj[e] }\n            //     ]);\n            //     // console.log(\"dyno ;)\", thisShitIsBananas, \"prepareWtchingComponentsYY ---->\", initialValue.get(preConditionObj[e].name),initialValue)\n\n            // })\n\n            // initialValue[preConditionObj.name] = [\n            // initialValue[items[key].preCondition.name] = [\n            //     // ...(initialValue[preConditionObj.name] && initialValue[preConditionObj.name] || []),\n            //     ...(initialValue[items[key].preCondition.name] && initialValue[items[key].preCondition.name] || []),\n            //     // {refId: items[key].refId, ...preConditionObj  }\n            //     {refId: items[key].refId, ...items[key].preCondition }\n            // ];\n        }\n    })\n    //console.timeEnd('prepareWtchingComponents')\n    return initialValue\n}\n\nconst convertArrayToObject = (array, key, value) => {\n    const initialValue = {}\n    if (!Array.isArray(array)) return\n    const givenArray = array.concat()\n    return givenArray.reduce((obj, item) => {\n        return {\n            ...obj,\n            [item[key]]: (value && item[value]) || (value === undefined && item) || '',\n        }\n    }, initialValue)\n}\n\nconst convertArrayToObjectPOC = (array, key, value, isParent, original) => {\n    // //console.time(\"convertArrayToObjectPOC\")\n    const initialValue = {}\n    const givenArray =\n        (isParent && array.concat()) || array.filter((el) => el.parent === undefined).concat()\n\n    const result = givenArray.reduce((obj, item) => {\n        // console.log(\"dyno ;)\", item, obj, \"reducereduce\", item[key], original[[item[key]]][value], original)\n\n        return {\n            ...obj,\n            [item[key]]:\n                (item.items && convertArrayToObjectPOC(item.items, key, 'value', true, original)) ||\n                (isParent && original[[item[key]]][value]) ||\n                (value && item[value]) ||\n                (value === undefined && item) ||\n                '',\n        }\n    }, initialValue)\n    // //console.timeEnd(\"convertArrayToObjectPOC\")\n    return result\n}\n\nlet renderCount = 0\n\n\n\nconst FormBuilderNext = React.forwardRef(({ items,\n    validationResolver,\n    // = defaultValidationResolver,\n    ControlledComponents,\n    components,\n    managedCallback,\n    localFunction,\n    shouldUnregister = true,\n    defaultValues = {},\n    devMode = false,\n    dataTransformer = defaultDataTransformer,\n    dataStore\n    // eventBus\n}, ref) => {\n\n    if (!devMode) {\n        console.log = (function () {\n            const log = console.log;\n\n            return function () {\n                const args = Array.from(arguments);\n                if (!args.includes(\"dyno ;)\")) {\n                    log.apply(console, args);\n                }\n            }\n        })();\n    }\n\n    const neededKeys = keysWithDoubleDollar(defaultValues);\n    console.log(\"dyno ;)\", neededKeys, \"[neededKeys]\", defaultValues)\n\n    //proxy here ;)\n    const proxyHandler = {\n        get(target, prop, receiver) {\n            if (neededKeys.includes(prop)) {\n                if (typeof target[prop] === \"object\" && target[prop] !== null) {\n                    // console.log(\"dyno ;)\", target[prop], \"dddproxyHanlerrrrrrrr me ;)\");\n                    return new Proxy(target[prop], proxyHandler);\n                }\n                return dataTransformer(target[prop], prop, target)({\n                    ...localFunction,\n                    sharedItems: { dataStore },\n                    // ...sharedItems\n                });\n            }\n            return target[prop];\n        }\n    };\n\n    const proxyDefaultValues = new Proxy({\n        ...defaultValues\n    }, proxyHandler);\n\n    console.log(\"dyno ;)\", defaultValues, \"defaultValues\", { ...proxyDefaultValues }, dataStore)\n\n\n    const {\n        register,\n        handleSubmit,\n        watch,\n        formState: { errors, isDirty, isValid },\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        triggerBackground,\n        triggerBackgroundOptimised,\n        triggerCustom,\n        unregister,\n        clearErrors,\n        reset\n    } = useForm({\n        mode: 'onChange',\n        shouldUnregister: true,\n        reValidateMode: 'onChange',\n        // resolver: async (data, context) => {\n        //     const { error, value: values } = validationSchema.validate(data, {\n        //         abortEarly: false,\n        //     });\n\n        //     if (!error) return { values: values, errors: {} };\n\n        //     return {\n        //         values: {},\n        //         errors: error.details.reduce(\n        //             (previous, currentError) => ({\n        //                 ...previous,\n        //                 [currentError.path[0]]: currentError,\n        //             }),\n        //             {},\n        //         ),\n        //     };\n        // },,\n        // criteriaMode: \"firstError\",\n        defaultValues: { ...proxyDefaultValues }\n    })\n\n    React.useEffect(() => {\n        reset({ ...proxyDefaultValues })\n    }, [defaultValues]);\n\n    // Shared Items\n    const sharedItems = {\n        register,\n        handleSubmit,\n        watch,\n        errors,\n        control,\n        trigger,\n        setFocus,\n        getValues,\n        setValue,\n        useFieldArray,\n        useWatch,\n        triggerBackground,\n        triggerBackgroundOptimised,\n        unregister,\n        localFunction: {\n            ...localFunction,\n            reset: reset,\n            triggerBackground: () => !_.isEmpty(errors),\n            getValues,\n            triggerBackgroundOptimised: (formId) => {\n                // console.log(triggerBackground(), 'triggerSyncBackground()')\n                const result = triggerBackgroundOptimised(formId)().then(r => r);\n                console.log('yasssss', result)\n                return result;\n            },\n            triggerGroup: async (resources) => {\n                const localErrors = await triggerBackgroundOptimised()(true);\n                // if (!isValid) return true;\n\n                // console.log(resources, errors, 'triggerreggirt',\n                //     isDirty,\n                //     '---=====----',\n                //     isValid,\n                //     localErrors\n                // )\n                let result = true;\n                for (let i = 0; i < resources.length; i++) {\n                    const item = resources[i];\n                    const isItemExist = localErrors[item];\n                    if (isItemExist) {\n                        // console.log(item, '------>', 'triggerreggirt', errors[item], 'found', result)\n                        result = false;\n                        break;\n                    }\n                }\n                // console.log('triggerreggirt ', result)\n                return result;\n            },\n        },\n        dataStore,\n        // eventBus,\n        clearErrors\n    }\n    // console.log(\"dyno ;)\", typeof errors, 'hereeeeeeeeeerroooooors')\n\n    const myComponents = React.useRef()\n    // const errors = React.useRef({})\n    const watchingComponents = React.useRef()\n    const preConditionItems = React.useRef()\n\n\n    const [data, setData] = useState()\n\n    React.useEffect(() => {\n        if (items === undefined) return\n\n        // if(items !== data && data !== undefined){\n        //     for (const [key, value] of Object.entries(data)) {\n        //         unregister(value?.name);\n        //     }\n        // }\n\n\n        //console.time('convertIdToRefffff')\n        myComponents.current = items; // convertIdToRef(items, 'name')\n        //console.timeEnd('convertIdToRefffff')\n        watchingComponents.current = prepareWtchingComponents(myComponents.current)\n        console.log(\"dyno ;)\", myComponents, 'myComponentsmyComponents')\n        console.log(\"dyno ;)\", watchingComponents, 'prepareWtchingComponents', [...watchingComponents.current.keys()])\n\n        const subscription = watch(async (value, { name, type }) => {\n            //  For watch items\n            //  Re-render watch items\n\n\n            // has better than get ;)\n            // if (watchingComponents.current.get(name)) {\n            if (watchingComponents.current.get(name)) {\n                const allValues = Object.assign(value, dataStore);\n                console.log(\"dyno ;)\", \"origincheckPreCondition ;) checkPreCondition\", value, name, type, data, items)\n                // const [a, b] = await checkPreCondition(name, value[name], items);\n                const [a, b] = await checkPreCondition(name, allValues[name], items);\n\n                if (!deepEqual(data, b) && a) {\n                    setData({ ...b });\n                    return;\n                }\n            } else if (watchingComponents.current.has(name)) {\n                console.log(\"dyno ;)\", watchingComponents.current.has(name), \"before checkPreCondition ;) checkPreCondition\", value, name, type, { data }, items)\n                setData({ ...items });\n                return;\n            }\n        });\n\n        setData(items)\n    }, [items])\n\n    const getValue = (name) => {\n        return myComponents.current[name].value\n    }\n\n    const resetValues = () => {\n        myComponents.current = resetItems(items, 'name');\n        setData(items);\n    }\n\n    const onSubmit = (data) => {\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM\", data)\n        return data;\n    }\n\n    const getValuesBackground = async () => {\n        //TODO: hot fix for double validations\n        if (Object.keys(errors).length > 0) return false;\n        const result = await triggerBackgroundOptimised()(true) //trigger();\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n        if (_.isEmpty(result)) {\n            return await getValues();\n        } else {\n            return false;\n        }\n    }\n\n    const getValuesPOC = async (options = { triggerAll: false }) => {\n        //TODO: hot fix for double validations\n        if (Object.keys(errors).length > 0) return false;\n        const result = await triggerCustom(options);\n        console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors, options)\n        if (result === true) {\n            return await getValues();\n        } else {\n            return false;\n        }\n    }\n\n    const getValuesWithoutValidation = async () => {\n        return await getValues();\n    }\n\n    ref.current = {\n        getValuesByGroup: async (props) => {\n            const valid = await sharedItems.localFunction.triggerGroup(props);\n            if (valid) {\n                const result = await getValues();\n                return result;\n            }\n            return valid;\n\n        },\n        getValues: (options) => getValuesPOC(options),\n        getGroupValuesBackground: async (props) => {\n            console.log(props, 'getValuesBackgroundgetValuesBackgroundgetValuesBackground')\n            if (Array.isArray(props)) {\n                const valid = await sharedItems.localFunction.triggerGroup(props);\n                if (valid) {\n                    const result = await getValues();\n                    return result;\n                }\n                return valid;\n            }\n            return getValuesPOC();\n        },\n        getValuesBackground: async (validation = true) => {\n            if (validation) {\n                if (Object.keys(errors).length > 0) return false;\n                const result = await triggerBackgroundOptimised()(true);\n                console.log(\"dyno ;)\", \"SUBMITFORM SUBMITFORM result trigger\", result, errors)\n                if (_.isEmpty(result)) {\n                    return await getValues();\n                } else {\n                    return false;\n                }\n            }\n            const result = await getValues();\n            return result;\n        },\n        resetValues: resetValues,\n        setValue: setValue,\n        errors: errors,\n        reset,\n        clearErrors,\n        localFunction: sharedItems.localFunction\n    }\n\n    const validationOnce = async (name, value, result) => {\n        //console.time('validationssss')\n        const validatedItem = myComponents.current[name];\n        let n = result\n        const originalErrors = { ...errors.current } || {}\n        const newErrors = errors.current || {}\n\n        let error = false\n\n        // if (item && item.visible) {\n        if (value !== '') {\n            const error = value === '313'\n            if (error) {\n                newErrors[name] = {\n                    error,\n                    errorMsg: validatedItem.errorMsg && validatedItem.errorMsg || '313 cant be here.',\n                }\n            } else {\n                delete newErrors[name]\n            }\n            // n = _.set({ a: n }, `a${item.refId}.error`, error).a;\n            // console.log(\"dyno ;)\", \"error\", n, error, value)\n        } else {\n            delete newErrors[name]\n        }\n        // }\n\n        errors.current = { ...newErrors } // {...errors.current ,...newErrors};\n        // console.log(\"dyno ;)\", \"errorolo\", errors.current, originalErrors, _.isEqual(originalErrors, newErrors))\n        console.log(\"dyno ;)\", errors, \"errrrrrrrrr\", newErrors,)\n        if (error.current !== originalErrors) {\n        }\n\n        // setData([...n])\n\n        // setData([...n])\n        // Object.values(newC).forEach(element => {\n        //     if(element.value){\n        //         element[\"error\"] = true;\n        //         error = element.value !== \"313\";\n        //     }\n        // });\n        // error && pubsub.publish('textbox-3', {error: Date.now()});\n\n        //console.timeEnd('validationssss')\n        return [!_.isEqual(originalErrors, newErrors), [...n], newErrors[name]]\n    }\n\n    const updateReference = async (value, name) => {\n\n        //console.time('myComponentsFind')\n        myComponents.current[name].value = value\n        //console.timeEnd('myComponentsFind')\n\n        console.log(\"dyno ;)\", myComponents.current, 'getValues', await getValuesPOC())\n\n        //console.time('iam here')\n        const [hasValidationChanged, result, error] = await validationOnce(name, value, { ...data })\n        const [hasPreconditionChanged, preResult] = await checkPreCondition(name, value, data)\n        // console.log(\"dyno ;)\", error, \"asyncValidation\", result, hasValidationChanged)\n\n        if (hasValidationChanged === true || hasPreconditionChanged === true) {\n            // if (hasPreconditionChanged === true) {\n\n            console.log(\"dyno ;)\",\n                'lololololololololololoolol',\n                hasValidationChanged,\n                hasPreconditionChanged,\n                errors,\n            )\n            setData({ ...preResult })\n        }\n\n        // console.log(\"dyno ;)\", \"getValues\", await getValues())\n        //console.timeEnd('iam here')\n        // return [value, error]\n    }\n\n    const checkPreCondition = async (name, value, result) => {\n        // const hasCondition = watchingComponents.current[name];\n        const hasCondition = watchingComponents.current.get(name)\n\n        console.log(\"dyno ;)\", data, \"checkPreConditionInside\", name, myComponents.current, hasCondition, watchingComponents.current);\n\n        // TODO: ;)\n        // how to update the Array\n        // OR update and don't iterate the Object\n        // _.set({ a: myComponents.current }, \"a.textbox-2.items[0].value\", \"leila\")\n        // let n = _.cloneDeep(result);\n        let n = { ...result }\n\n        let updated = false\n\n        if (hasCondition !== undefined) {\n            // for(let i = 0; i < hasCondition.length; i++){\n            //     const touched = item.value == value;\n            //         console.log(\"dyno ;)\", \"hashas\", _.get({a:n},`a${item.refId}.visible` ))\n            //         n = _.set({ a: n }, `a${item.refId}.visible`, touched).a;\n\n            // }\n\n            await hasCondition.map(async (item) => {\n                const realValue = value && value[\"value\"] || value;\n                const touched = item?.type && (await validationResolver[item.type](item, realValue)) // || validationResolver[\"eq\"](item,value); //value !== \"\" && item.value.includes(value) || false;\n                // if(touched){\n                // debugger\n                // if (n[item.refId] && n[item.refId].visible !== touched) {\n                //     n[item.refId].visible = touched;\n                //     updated = true\n                // }\n                const i = n[item.refId];\n                console.log(\"dyno ;)\", n[\"accountNo\"], \"accountNoaccountNo\", '-----', i)\n                if (i !== undefined && i.visible !== touched) {\n                    n[item.refId].visible = touched;\n                    updated = true\n                }\n                // if (_.get({ a: n }, `a${item.refId}.visible`) !== touched) { //touched\n                //     // myComponents.current[item.name].visible = touched;\n                //     n = _.set({ a: n }, `a${item.refId}.visible`, touched).a\n                //     updated = true\n                //     console.log(\"dyno ;)\", \n                //         'hashas',\n                //         await _.get({ a: n }, `a${item.refId}.visible`),\n                //         await touched,\n                //         hasCondition,\n                //         updated,\n                //     )\n                // }\n\n                // }\n            })\n        }\n        return [updated, n]\n        return [updated, { ...n }]\n    }\n\n    console.log(\"dyno ;)\", 'renderCount', renderCount++)\n\n    return (\n        (data && data.root?.items?.map((name, index) => renderComponentInd(name, data, {\n            updateReference,\n            myComponents,\n            getValues,\n            errors,\n            ControlledComponents,\n            components,\n            managedCallback,\n            undefined,\n            sharedItems,\n            index,\n            dataTransformer\n        })\n        )) || null\n    )\n\n\n    return (\n        (data &&\n            renderForm(\n                data,\n                updateReference,\n                myComponents,\n                getValues,\n                { ...errors },\n                ControlledComponents,\n                components,\n                managedCallback,\n                undefined,\n                sharedItems,\n                setValue\n            ))\n        ||\n        null\n    )\n});\n\nFormBuilderNext.whyDidYouRender = true\nFormBuilderNext.displayName = \"FormBuilderNext\"\n\nexport default FormBuilderNext\n"],"names":["element","type","data","Date","value","isObjectType","isNullOrUndefined","Array","isArray","isDateObject","event","isObject","target","isCheckBoxInput","checked","name","substring","search","names","concat","some","current","getNodeParentName","filter","Boolean","val","undefined","obj","path","defaultValue","result","compact","split","reduce","key","isUndefined","EVENTS","BLUR","CHANGE","VALIDATION_MODE","onBlur","onChange","onSubmit","onTouched","all","INPUT_VALIDATION_RULES","max","min","maxLength","minLength","pattern","required","validate","source","copy","Object","assign","FormContext","React","displayName","useFormContext","FormProvider","props","Provider","omit","children","formState","_proxyFormState","localProxyFormState","isRoot","createGetter","prop","defineProperty","get","keys","length","formStateData","isEmptyObject","find","useFormState","methods","_ref","_ref$control","control","disabled","visible","nameRef","_React$useState","_formState","updateFormState","_localProxyFormState","isDirty","dirtyFields","touchedFields","isValidating","isValid","errors","formStateSubscription","_subjects","state","subscribe","next","convertToArrayPayload","includes","shouldRenderFormState","unsubscribe","getProxyFormState","useController","_props$control","shouldUnregister","item","_formValues","_defaultValues","setInputStateValue","registerProps","register","_extends","rules","updateMounted","field","_fields","_f","mount","controllerSubscription","values","_shouldUnregisterField","_shouldUnregister","isNameInFieldArray","_names","array","_isInAction","unregister","getControllerValue","ref","elm","focus","setCustomValidity","message","reportValidity","fieldState","invalid","isTouched","error","Controller","render","validateAllFieldCriteria","_Object$assign","types","test","input","replace","set","object","index","tempPath","isKey","stringToPath","lastIndex","newValue","objValue","isNaN","focusFieldBy","fields","callback","fieldsNames","_iterator","_createForOfIteratorHelperLoose","_step","done","refs","options","shouldFocus","focusName","focusIndex","d","performance","now","c","r","Math","random","toString","keyName","map","generateId","append","fill","insert","slice","from","to","splice","prepend","removeAtIndexes","indexes","i","temp","sort","a","b","indexA","indexB","baseGet","updatePath","unset","childObject","previousObjRef","k","objectRef","currentPaths","currentPathsLength","isBoolean","fieldValues","useFieldArray","_props$keyName","_focusName","mapIds","_getFieldArrayValue","setFields","add","appendValue","updatedFieldArrayValues","appendAt","_bathFieldArrayUpdate","argA","fillEmptyArray","getFocusFieldName","prependAt","remove","removeArrayAt","insertAt","argB","swap","swapArrayAt","move","moveArrayAt","update","updateAt","watchAll","watch","watchField","startsWith","omitKey","_updateValid","fieldArraySubscription","payload","isReset","fieldArrayValues","wait","timer","_len","arguments","args","_key","clearTimeout","window","setTimeout","apply","deepEqual","object1","object2","isPrimitive","keys1","keys2","_i","_keys","val1","val2","mode","isOnSubmit","isOnBlur","isOnChange","isOnAll","isOnTouch","HTMLElement","isRadioInput","document","Subscription","tearDowns","_proto","prototype","tearDown","push","teardown","Subscriber","observer","subscription","_this","closed","_proto2","Subject","observers","_proto3","_iterator2","_step2","subscriber","defaultResult","validResult","option","attributes","valueAsNumber","valueAsDate","setValueAs","NaN","selected","_ref2","defaultReturn","previous","getFieldValue","isFileInput","files","getRadioValue","isMultipleSelect","getMultipleSelectValue","isCheckBox","getCheckboxValue","getFieldValueAs","_fieldss","criteriaMode","shouldUseNativeValidation","mounted","deepMerge","targetValue","sourceValue","_a","setDirtyFields","defaultValues","parentNode","parentName","isReValidateOnBlur","isReValidateOnChange","isBlurEvent","isSubmitted","isString","RegExp","getValidateError","isMessage","every","validationData","isRegex","inputValue","_temp4","_result3","_exit","setCustomValidty","_field$_f","Promise","resolve","inputRef","isRadio","isRadioOrCheckbox","isEmpty","appendErrorsCurry","appendErrors","bind","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","getValueAndMessage","exceedMin","maxOutput","minOutput","valueNumber","parseFloat","valueDate","maxLengthOutput","minLengthOutput","_getValueAndMessage","patternValue","match","_temp3","isFunction","then","validateError","_temp2","validationResult","_interrupt","_temp","_forIn","_validate$key","e","reject","defaultOptions","reValidateMode","shouldFocusError","isWindowUndefined","createFormControlV3","formOptions","_delayCallback","submitCount","isSubmitting","isSubmitSuccessful","_isMounted","Set","unMount","validationMode","getValidationModes","isValidateAllFieldCriteria","isFieldWatched","has","updateErrorState","shouldRenderBaseOnValid","validateForm","shouldRenderBaseOnError","shouldSkipRender","isValidFromResolver","isWatched","previousError","resolver","delayError","debounce","updatedFormState","setFieldValue","shouldRender","fieldValue","isWeb","isHTMLElement","forEach","selectRef","checkboxRef","radioRef","getValues","shouldDirty","shouldTouch","updateTouchAndDirtyState","shouldValidate","trigger","isCurrentTouched","isChanged","previousIsDirty","_getIsDirty","isPreviousFieldDirty","isCurrentFieldDirty","isPreviousFieldTouched","executeResolver","_formOptions$resolver2","context","getResolverOptions","executeResolverValidation","shouldCheckValid","valid","_temp6","_temp5","_validateForm","validateField","fieldError","handleChange","_ref2$target","inputType","_temp8","_getValidationModes","shouldSkipValidation","hasValidation","skipValidation","_temp7","_ref3","parentNodeName","valError","_validateField","_updateValidAndInputValue","shouldSkipValueAs","isValueUndefined","defaultChecked","_formOptions$resolver3","_executeResolver","setValues","entries","_ref4","fieldKey","fieldName","isFieldArray","_getWatch","fieldNames","isGlobal","resultChanges","Map","_updateFormValues","method","shouldSet","shouldSetFields","output","unsetEmptyArray","setFieldArrayDirtyFields","setValue","_temp11","_temp10","schemaResult","_temp9","_ref5","_Promise$all","triggerBackground","_temp14","_temp13","_temp12","_ref6","_Promise$all2","_validateForm3","clearErrors","inputName","setError","info","_iterator3","_step3","keepValue","keepError","keepDirty","keepTouched","keepDefaultValue","keepIsValid","registerFieldRef","fieldRef","querySelectorAll","isRadioOrCheckboxFunction","contains","handleSubmit","onValid","onInvalid","preventDefault","persist","hasNoPromiseError","_finallyRethrows","_catch","_temp18","_temp16","_temp15","_onInvalid","_temp17","_ref8","err","_wasThrown","_result2","reset","keepStateOptions","updatedValues","keepValues","_iterator4","_step4","closest","keepDefaultValues","keepSubmitCount","keepIsSubmitted","keepErrors","setFocus","_updateProps","useForm","_formControl","createFormControlV2","useFieldArraySubscription","unregisterFieldNames","live","useWatch","_name","updateValue","watchSubscription","rebuildHistory","history","newHistory","useHistory","init","_init","_useState","useState","states","setStates","_useState2","updateHistory","_useState3","setIndex","_useState4","currentPage","updateCurrentPage","useMemo","setState","pageName","existing","_","cloneDeep","newIndex","resetState","goBack","steps","Number","goBackByIndex","goBackByName","previousPageName","existingPage","goForward","updatePage","jsonataOriginal","require","htmltotext","registerWithJSONATA","expression","registerFunction","TypeError","jsonataExtended","expr","transformer","schema","jsonata","evaluate","useDynamoHistory","initialArr","id","preventDuplicates","replaceDuplicate","Error","setHistory","currentIndex","setCurrentIndex","useEffect","findIndex","prevHistory","updatedFirstObj","getNextIndex","getPreviousIndex","nextIndex","previousIndex","goToStart","goTo","newId","removeAfter","removeAfterIndex","goNext","goToIndex","goBackToPrimary","skipSecondary","goForwardToType","goToEnd","insertObjectAtIndex","insertIndex","newArray","insertObject","customIgnoreDuplicates","customReplaceDuplicate","existingIndex","previousObject","objectType","objectWithDefaultType","updateCurrent","updatedObject","updatedArray","updateObjectById","removeObjectByIndex","removeIndex","removeObjectByName","removeName","removeAtIndex","newArr","removeByName","removeFirst","removeLast","removeAll","getHistory","historyDict","objId","dataTransformer","local","sharedItems","dataStore","_ref$index","displayIndex","ExpRE","matched","Function","response","patternResult","eval","w","schemaTransformation","_$get","flattenHelper","currentObject","newObject","previousKeyName","constructor","flattenObject","oldObject","schemaProxy","extraValues","extraFunctions","proxyHandler","receiver","Proxy","proxySchema","action","setupProxy","proxyItems","newSchema","y","el","actionsRunner","localFunction","resultPromise","_loop","functionName","config","asyncFunction","defaultValidationResolver","noteq","eq","notEmptyAndEqual","ControlledComponentsV2","_props$errors","setField","updateReference","IIN","memo","createElement","prevProps","nextProps","_prevProps$errors","_prevProps$errors2","_nextProps$errors","oldE","newE","errror","isEqual","JSON","stringify","renderForm","myControl","getValue","ControlledComponents","components","managedCallback","child","items","validation","rule","_useFieldArray","Fragment","indx","Component","onClick","RenderForm","InRenderform","whyDidYouRender","convertIdToRef","parent","_extends2","itemName","refId","resetItems","_extends3","prepareWtchingComponents","initialValue","preCondition","preConditionObj","convertArrayToObject","internalItem","givenArray","_extends5","FormBuilderV1","forwardRef","_ref4$validationResol","validationResolver","_ref4$defaultValues","_useForm","myComponents","useRef","watchingComponents","preConditionItems","setData","checkPreCondition","resetValues","getValuesPOC","validationOnce","validatedItem","n","originalErrors","newErrors","errorMsg","_myComponents$current","_getValuesPOC","_ref7","hasValidationChanged","hasPreconditionChanged","preResult","updated","hasCondition","touched","_touched","realValue","_item$type","renderComponentInd","_ref$givenName","givenName","selectedComponent","renderComponentForm","errorss","idx","FormBuilderNext","_data$root","_data$root$items","_ref6$shouldUnregiste","_ref6$defaultValues","_ref9","_ref10","root","createFormControlV4","formId","triggerAll","validateFormBackground","_interrupt2","localErrors","_validateForm2","triggerCustom","_temp21","_temp20","_temp19","_temp24","_temp23","_temp22","_Promise$all3","_validateForm5","triggerBackgroundOptimised","list","_temp27","_temp26","_temp25","_validateFormBackgrou","_validateForm7","_temp31","_temp29","_temp28","_temp30","keysWithDoubleDollar","checkForKey","newPath","neededKeys","proxyItem","_ref2$validate","getItem","_ref7$shouldUnregiste","_ref7$defaultValues","_ref7$devMode","devMode","_ref7$dataTransformer","defaultDataTransformer","console","log","proxyDefaultValues","_useForm$formState","triggerGroup","resources","isItemExist","allValues","getValuesByGroup","getGroupValuesBackground","_exit2","_exit3","_result4","getValuesBackground","_result5","_exit4","_await$getValues","_ref11"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uBAAe,UAACA,OAAO;EAAA,OAAKA,OAAO,CAACC,IAAI,KAAK,UAAU;AAAA;;ACAvD,oBAAe,UAACC,IAAI;EAAA,OAAKA,IAAI,YAAYC,IAAI;AAAA;;ACA7C,yBAAe,UAACC,KAAK;EAAA,OAAKA,KAAK,IAAI,IAAI;AAAA;;ACEhC,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAID,KAAK;EAAA,OAAK,OAAOA,KAAK,KAAK,QAAQ;AAAA;AAChE,gBAAe,UAACA,KAAK;EAAA,OAAK,CAACE,iBAAiB,CAACF,KAAK,CAAC,IAC/C,CAACG,KAAK,CAACC,OAAO,CAACJ,KAAK,CAAC,IACrBC,YAAY,CAACD,KAAK,CAAC,IACnB,CAACK,YAAY,CAACL,KAAK,CAAC;AAAA;;ACJxB,0BAAe,UAACM,KAAK;EAAA,OAAKC,QAAQ,CAACD,KAAK,CAAC,IAAIA,KAAK,CAACE,MAAM,GACnDC,eAAe,CAACH,KAAK,CAACE,MAAM,CAAC,GACzBF,KAAK,CAACE,MAAM,CAACE,OAAO,GACpBJ,KAAK,CAACE,MAAM,CAACR,KAAK,GACtBM,KAAK;AAAA;;ACNX,yBAAe,UAACK,IAAI;EAAA,OAAKA,IAAI,CAACC,SAAS,CAAC,CAAC,EAAED,IAAI,CAACE,MAAM,CAAC,KAAK,CAAC,CAAC,IAAIF,IAAI;AAAA;;ACCtE,0BAAe,UAACG,KAAK,EAAEH,IAAI;EAAA,OAAK,GAAAI,MAAA,CAAID,KAAK,EAAEE,IAAI,CAAC,UAACC,OAAO;IAAA,OAAKC,iBAAiB,CAACP,IAAI,CAAC,KAAKM,OAAO;IAAC;AAAA;;ACDjG,eAAe,UAACjB,KAAK;EAAA,OAAKA,KAAK,CAACmB,MAAM,CAACC,OAAO,CAAC;AAAA;;ACA/C,mBAAe,UAACC,GAAG;EAAA,OAAKA,GAAG,KAAKC,SAAS;AAAA;;ACIzC,WAAe,UAACC,GAAG,EAAEC,IAAI,EAAEC,YAAY,EAAK;EACxC,IAAIlB,QAAQ,CAACgB,GAAG,CAAC,IAAIC,IAAI,EAAE;IACvB,IAAME,MAAM,GAAGC,OAAO,CAACH,IAAI,CAACI,KAAK,CAAC,WAAW,CAAC,CAAC,CAACC,MAAM,CAAC,UAACH,MAAM,EAAEI,GAAG;MAAA,OAAM5B,iBAAiB,CAACwB,MAAM,CAAC,GAAGA,MAAM,GAAGA,MAAM,CAACI,GAAG,CAAC;KAAC,EAAEP,GAAG,CAAC;IAChI,OAAOQ,WAAW,CAACL,MAAM,CAAC,IAAIA,MAAM,KAAKH,GAAG,GACtCQ,WAAW,CAACR,GAAG,CAACC,IAAI,CAAC,CAAC,GAClBC,YAAY,GACZF,GAAG,CAACC,IAAI,CAAC,GACbE,MAAM;;EAEhB,OAAOJ,SAAS;AACpB,CAAC;;ACdM,IAAMU,MAAM,GAAG;EACpBC,IAAI,EAAE,MAAM;EACZC,MAAM,EAAE;AACV,CAAC;AACD,AAAO,IAAMC,eAAe,GAAG;EAC7BC,MAAM,EAAE,QAAQ;EAChBC,QAAQ,EAAE,UAAU;EACpBC,QAAQ,EAAE,UAAU;EACpBC,SAAS,EAAE,WAAW;EACtBC,GAAG,EAAE;AACP,CAAC;AACD,AAAO,IAAMC,sBAAsB,GAAG;EACpCC,GAAG,EAAE,KAAK;EACVC,GAAG,EAAE,KAAK;EACVC,SAAS,EAAE,WAAW;EACtBC,SAAS,EAAE,WAAW;EACtBC,OAAO,EAAE,SAAS;EAClBC,QAAQ,EAAE,UAAU;EACpBC,QAAQ,EAAE;AACZ,CAAC;;ACnBD,YAAe,UAACC,MAAM,EAAEnB,GAAG,EAAK;EAC9B,IAAMoB,IAAI,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEH,MAAM,CAAC;EACtC,OAAOC,IAAI,CAACpB,GAAG,CAAC;EAChB,OAAOoB,IAAI;AACb,CAAC;;ACFD,IAAMG,WAAW,GAAGC,mBAAmB,CAAC,IAAI,CAAC;AAC7CD,WAAW,CAACE,WAAW,GAAG,YAAY;AACtC,IAAaC,cAAc,GAAG,SAAjBA,cAAcA;EAAA,OAASF,gBAAgB,CAACD,WAAW,CAAC;AAAA;AACjE,IAAaI,YAAY,GAAG,SAAfA,YAAYA,CAAIC,KAAK;EAAA,OAAMJ,mBAAmB,CAACD,WAAW,CAACM,QAAQ,EAAE;IAAE3D,KAAK,EAAE4D,IAAI,CAACF,KAAK,EAAE,UAAU;GAAG,EAAEA,KAAK,CAACG,QAAQ,CAAC;AAAA,CAAC;;ACHtI,yBAAe,UACbC,SAAS,EACTC,eAAe,EACfC,mBAAmB,EACnBC,MAAM,EACH;EAAA,IADHA,MAAM;IAANA,MAAM,GAAG,IAAI;;EAEb,SAASC,YAAYA,CAACC,IAAI,EAAE;IAC1B,OAAO,YAAM;MACX,IAAIA,IAAI,IAAIL,SAAS,EAAE;QACrB,IAAIC,eAAe,CAACI,IAAI,CAAC,KAAKhC,eAAe,CAACK,GAAG,EAAE;UACjDuB,eAAe,CAACI,IAAI,CAAC,GAAG,CAACF,MAAM,IAAI9B,eAAe,CAACK,GAAG;;QAExDwB,mBAAmB,KAAKA,mBAAmB,CAACG,IAAI,CAAC,GAAG,IAAI,CAAC;QACzD,OAAOL,SAAS,CAACK,IAAI,CAAC;;MAExB,OAAO7C,SAAS;KACjB;;EAGH,IAAMI,MAAM,GAAG,EAAE;EACjB,KAAK,IAAMI,GAAG,IAAIgC,SAAS,EAAE;IAC3BX,MAAM,CAACiB,cAAc,CAAC1C,MAAM,EAAEI,GAAG,EAAE;MACjCuC,GAAG,EAAEH,YAAY,CAACpC,GAAG;KACtB,CAAC;;EAGJ,OAAOJ,MAAM;AACf,CAAC;;AC5BD,qBAAe,UAAC1B,KAAK;EAAA,OAAKO,QAAQ,CAACP,KAAK,CAAC,IAAI,CAACmD,MAAM,CAACmB,IAAI,CAACtE,KAAK,CAAC,CAACuE,MAAM;AAAA;;ACEvE,6BAAe,UAACC,aAAa,EAAET,eAAe,EAAEE,MAAM,EAAK;EACvD,IAAMH,SAAS,GAAGF,IAAI,CAACY,aAAa,EAAE,MAAM,CAAC;EAC7C,OAAQC,aAAa,CAACX,SAAS,CAAC,IAC5BX,MAAM,CAACmB,IAAI,CAACR,SAAS,CAAC,CAACS,MAAM,IAAIpB,MAAM,CAACmB,IAAI,CAACP,eAAe,CAAC,CAACQ,MAAM,IACpEpB,MAAM,CAACmB,IAAI,CAACR,SAAS,CAAC,CAACY,IAAI,CAAC,UAAC5C,GAAG;IAAA,OAAKiC,eAAe,CAACjC,GAAG,CAAC,MACpD,CAACmC,MAAM,IAAI9B,eAAe,CAACK,GAAG,CAAC;IAAC;AAC7C,CAAC;;ACTD,6BAAe,UAACxC,KAAK;EAAA,OAAKG,KAAK,CAACC,OAAO,CAACJ,KAAK,CAAC,GAAGA,KAAK,GAAG,CAACA,KAAK,CAAC;AAAA;;ACKhE,SAAS2E,YAAYA,CAACjB,KAAK,EAAE;EACzB,IAAMkB,OAAO,GAAGpB,cAAc,EAAE;EAChC,IAAAqB,IAAA,GAA+DnB,KAAK,IAAI,EAAE;IAAAoB,YAAA,GAAAD,IAAA,CAAlEE,OAAO;IAAPA,OAAO,GAAAD,YAAA,cAAGF,OAAO,CAACG,OAAO,GAAAD,YAAA;IAAEE,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IAAEC,AAAStE,IAAI,GAAAkE,IAAA,CAAJlE,IAAI;EAC1D,IAAMuE,OAAO,GAAG5B,YAAY,CAAC3C,IAAI,CAAC;EAClC,IAAAwE,eAAA,GAAqC7B,cAAc,CAACyB,OAAO,CAACK,UAAU,CAAC/D,GAAG,CAAC;IAApEyC,SAAS,GAAAqB,eAAA;IAAEE,eAAe,GAAAF,eAAA;EACjC,IAAMG,oBAAoB,GAAGhC,YAAY,CAAC;IACtCiC,OAAO,EAAE,KAAK;IACdC,WAAW,EAAE,KAAK;IAClBC,aAAa,EAAE,KAAK;IACpBC,YAAY,EAAE,KAAK;IACnBC,OAAO,EAAE,KAAK;IACdC,MAAM,EAAE;GACX,CAAC;EACFV,OAAO,CAACjE,OAAO,GAAGN,IAAI;EACtB2C,eAAe,CAAC,YAAM;IAClB,IAAMuC,qBAAqB,GAAGd,OAAO,CAACe,SAAS,CAACC,KAAK,CAACC,SAAS,CAAC;MAC5DC,IAAI,EAAE,SAAAA,KAACnC,SAAS;QAAA,OAAK,CAAC,CAACoB,OAAO,CAACjE,OAAO,IAClC,CAAC6C,SAAS,CAACnD,IAAI,IACfuF,qBAAqB,CAAChB,OAAO,CAACjE,OAAO,CAAC,CAACkF,QAAQ,CAACrC,SAAS,CAACnD,IAAI,CAAC,KAC/DyF,qBAAqB,CAACtC,SAAS,EAAEwB,oBAAoB,CAACrE,OAAO,CAAC,IAC9DoE,eAAe,CAAClC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE2B,OAAO,CAACK,UAAU,CAAC/D,GAAG,CAAC,EAAEyC,SAAS,CAAC,CAAC;;KAC3F,CAAC;IACFkB,QAAQ,IAAIa,qBAAqB,CAACQ,WAAW,EAAE;IAG/C,OAAO;MAAA,OAAMR,qBAAqB,CAACQ,WAAW,EAAE;;GACnD,EAAE,CAACrB,QAAQ,EAAED,OAAO,CAAC,CAAC;EACvB,OAAOuB,iBAAiB,CAACxC,SAAS,EAAEiB,OAAO,CAAChB,eAAe,EAAEuB,oBAAoB,CAACrE,OAAO,EAAE,KAAK,CAAC;AACrG;;AC1BO,SAASsF,aAAaA,CAAC7C,KAAK,EAAE;EACjC,IAAMkB,OAAO,GAAGpB,cAAc,EAAE;EAChC,IAAQ7C,IAAI,GAAwD+C,KAAK,CAAjE/C,IAAI;IAAA6F,cAAA,GAAwD9C,KAAK,CAA3DqB,OAAO;IAAPA,OAAO,GAAAyB,cAAA,cAAG5B,OAAO,CAACG,OAAO,GAAAyB,cAAA;IAAEC,gBAAgB,GAAW/C,KAAK,CAAhC+C,gBAAgB;IAAEC,IAAI,GAAKhD,KAAK,CAAdgD,IAAI;EAE/D,IAAAvB,eAAA,GAAoC7B,cAAc,CAACe,GAAG,CAACU,OAAO,CAAC4B,WAAW,EAAEhG,IAAI,EAAE0D,GAAG,CAACU,OAAO,CAAC6B,cAAc,EAAEjG,IAAI,EAAE+C,KAAK,CAACjC,YAAY,CAAC,CAAC,CAAC;IAAlIzB,KAAK,GAAAmF,eAAA;IAAE0B,kBAAkB,GAAA1B,eAAA;EAChC,IAAMrB,SAAS,GAAGa,YAAY,CAAC;IAC3BI,OAAO,EAAEA,OAAO,IAAIH,OAAO,CAACG,OAAO;IACnCpE,IAAI,EAAJA;GACH,CAAC;EAIF,IAAMmG,aAAa,GAAG/B,OAAO,CAACgC,QAAQ,CAACpG,IAAI,EAAEwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAA4D,QAAA,KAAMtD,KAAK,CAACuD,KAAK;IAAEP,IAAI,EAAAM,QAAA,KAAMN,IAAI;IAAG,CAAC,EAAE;IAAE1G,KAAK,EAALA;GAAO,CAAC,CAAC;EAG7H,IAAMkH,aAAa,GAAG5D,iBAAiB,CAAC,UAAC3C,IAAI,EAAEX,KAAK,EAAK;IACrD,IAAMmH,KAAK,GAAG9C,GAAG,CAACU,OAAO,CAACqC,OAAO,EAAEzG,IAAI,CAAC;IACxC,IAAIwG,KAAK,EAAE;MACPA,KAAK,CAACE,EAAE,CAACC,KAAK,GAAGtH,KAAK;;GAE7B,EAAE,CAAC+E,OAAO,CAAC,CAAC;EACbzB,eAAe,CAAC,YAAM;IAClB,IAAMiE,sBAAsB,GAAGxC,OAAO,CAACe,SAAS,CAACf,OAAO,CAACiB,SAAS,CAAC;MAC/DC,IAAI,EAAE,SAAAA,KAACnG,IAAI;QAAA,OAAK,CAAC,CAACA,IAAI,CAACa,IAAI,IAAIA,IAAI,KAAKb,IAAI,CAACa,IAAI,KAC7CkG,kBAAkB,CAACxC,GAAG,CAACvE,IAAI,CAAC0H,MAAM,EAAE7G,IAAI,CAAC,CAAC;;KACjD,CAAC;IACFuG,aAAa,CAACvG,IAAI,EAAE,IAAI,CAAC;IACzB,OAAO,YAAM;MACT4G,sBAAsB,CAAClB,WAAW,EAAE;MACpC,IAAMoB,sBAAsB,GAAG1C,OAAO,CAAC2C,iBAAiB,IAAIjB,gBAAgB;MAC5E,IAAIkB,kBAAkB,CAAC5C,OAAO,CAAC6C,MAAM,CAACC,KAAK,EAAElH,IAAI,CAAC,GAC5C8G,sBAAsB,IAAI,CAAC1C,OAAO,CAAC+C,WAAW,CAACzG,GAAG,GAClDoG,sBAAsB,EAAE;QAC1B1C,OAAO,CAACgD,UAAU,CAACpH,IAAI,CAAC;OAC3B,MACI;QACDuG,aAAa,CAACvG,IAAI,EAAE,KAAK,CAAC;;KAEjC;GACJ,EAAE,CAACA,IAAI,EAAEoE,OAAO,EAAE0B,gBAAgB,EAAES,aAAa,CAAC,CAAC;EACpD,OAAO;IACHC,KAAK,EAAE;MACH9E,QAAQ,EAAE,SAAAA,SAAC/B,KAAK,EAAK;QACjB,IAAMN,KAAK,GAAGgI,kBAAkB,CAAC1H,KAAK,CAAC;QACvCuG,kBAAkB,CAAC7G,KAAK,CAAC;QACzB8G,aAAa,CAACzE,QAAQ,CAAC;UACnB7B,MAAM,EAAE;YACJR,KAAK,EAALA,KAAK;YACLW,IAAI,EAAEA;WACT;UACDd,IAAI,EAAEmC,MAAM,CAACE;SAChB,CAAC;OACL;MACDE,MAAM,EAAE,SAAAA,SAAM;QACV0E,aAAa,CAAC1E,MAAM,CAAC;UACjB5B,MAAM,EAAE;YACJG,IAAI,EAAEA;WACT;UACDd,IAAI,EAAEmC,MAAM,CAACC;SAChB,CAAC;OACL;MACDtB,IAAI,EAAJA,IAAI;MACJX,KAAK,EAALA,KAAK;MACLiI,GAAG,EAAE,SAAAA,IAACC,GAAG;QAAA,OAAKA,GAAG,IACbpB,aAAa,CAACmB,GAAG,CAAC;UAGdE,KAAK,EAAE,SAAAA;YAAA,OAAMD,GAAG,CAACC,KAAK,IAAID,GAAG,CAACC,KAAK,EAAE;;UACrCC,iBAAiB,EAAE,SAAAA,kBAACC,OAAO;YAAA,OAAKH,GAAG,CAACE,iBAAiB,CAACC,OAAO,CAAC;;UAC9DC,cAAc,EAAE,SAAAA;YAAA,OAAMJ,GAAG,CAACI,cAAc,EAAE;;SAC7C,CAAC;;KACT;IACDxE,SAAS,EAATA,SAAS;IACTyE,UAAU,EAAE;MACRC,OAAO,EAAE,CAAC,CAACnE,GAAG,CAACP,SAAS,CAAC8B,MAAM,EAAEjF,IAAI,CAAC;MACtC4E,OAAO,EAAE,CAAC,CAAClB,GAAG,CAACP,SAAS,CAAC0B,WAAW,EAAE7E,IAAI,CAAC;MAC3C8H,SAAS,EAAE,CAAC,CAACpE,GAAG,CAACP,SAAS,CAAC2B,aAAa,EAAE9E,IAAI,CAAC;MAC/C+H,KAAK,EAAErE,GAAG,CAACP,SAAS,CAAC8B,MAAM,EAAEjF,IAAI;;GAExC;AACL;;ICtFMgI,UAAU,GAAG,SAAbA,UAAUA,CAAIjF,KAAK;EAAA,OAAKA,KAAK,CAACkF,MAAM,CAACrC,aAAa,CAAC7C,KAAK,CAAC,CAAC;AAAA;;ACDhE,oBAAe,UAAC/C,IAAI,EAAEkI,wBAAwB,EAAEjD,MAAM,EAAE/F,IAAI,EAAEwI,OAAO;EAAA,IAAAS,cAAA;EAAA,OAAKD,wBAAwB,GAC9F1F,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEwC,MAAM,CAACjF,IAAI,CAAC,CAAC,EAAE;IAAEoI,KAAK,EAAE5F,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAGwC,MAAM,CAACjF,IAAI,CAAC,IAAIiF,MAAM,CAACjF,IAAI,CAAC,CAACoI,KAAK,GAAGnD,MAAM,CAACjF,IAAI,CAAC,CAACoI,KAAK,GAAG,EAAG,CAAC,GAAAD,cAAA,OAAAA,cAAA,CAAKjJ,IAAI,IAAGwI,OAAO,IAAI,IAAI,EAAAS,cAAA;GAAK,CAAC,GAAG,EAAE;AAAA;;ACDjM,aAAe,UAAC9I,KAAK;EAAA,OAAK,OAAO,CAACgJ,IAAI,CAAChJ,KAAK,CAAC;AAAA;;ACE7C,oBAAe,UAACiJ,KAAK;EAAA,OACnBtH,OAAO,CAACsH,KAAK,CAACC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAACtH,KAAK,CAAC,OAAO,CAAC,CAAC;AAAA;;ACAzC,SAASuH,GAAGA,CAACC,MAAM,EAAE5H,IAAI,EAAExB,KAAK,EAAE;EAC/C,IAAIqJ,KAAK,GAAG,CAAC,CAAC;EAEd,IAAMC,QAAQ,GAAGC,KAAK,CAAC/H,IAAI,CAAC,GAAG,CAACA,IAAI,CAAC,GAAGgI,YAAY,CAAChI,IAAI,CAAC;EAC1D,IAAM+C,MAAM,GAAG+E,QAAQ,CAAC/E,MAAM;EAC9B,IAAMkF,SAAS,GAAGlF,MAAM,GAAG,CAAC;EAC5B,OAAO,EAAE8E,KAAK,GAAG9E,MAAM,EAAE;IACvB,IAAMzC,GAAG,GAAGwH,QAAQ,CAACD,KAAK,CAAC;IAC3B,IAAIK,QAAQ,GAAG1J,KAAK;IACpB,IAAIqJ,KAAK,KAAKI,SAAS,EAAE;MACvB,IAAME,QAAQ,GAAGP,MAAM,CAACtH,GAAG,CAAC;MAC5B4H,QAAQ,GACNnJ,QAAQ,CAACoJ,QAAQ,CAAC,IAAIxJ,KAAK,CAACC,OAAO,CAACuJ,QAAQ,CAAC,GACzCA,QAAQ,GACR,CAACC,KAAK,CAAC,CAACN,QAAQ,CAACD,KAAK,GAAG,CAAC,CAAC,CAAC,GAC1B,EAAE,GACF,EAAE;;IAEZD,MAAM,CAACtH,GAAG,CAAC,GAAG4H,QAAQ;IACtBN,MAAM,GAAGA,MAAM,CAACtH,GAAG,CAAC;;EAEtB,OAAOsH,MAAM;AACf;;ACrBA,IAAMS,YAAY,GAAG,SAAfA,YAAYA,CAAIC,MAAM,EAAEC,QAAQ,EAAEC,WAAW,EAAK;EACpD,SAAAC,SAAA,GAAAC,+BAAA,CAAkBF,WAAW,IAAI7G,MAAM,CAACmB,IAAI,CAACwF,MAAM,CAAC,GAAAK,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;IAAA,IAA3CtI,GAAG,GAAAqI,KAAA,CAAAnK,KAAA;IACV,IAAMmH,KAAK,GAAG9C,GAAG,CAACyF,MAAM,EAAEhI,GAAG,CAAC;IAC9B,IAAIqF,KAAK,EAAE;MACP,IAAME,EAAE,GAAGF,KAAK,CAACE,EAAE;MACnB,IAAMpG,OAAO,GAAG2C,IAAI,CAACuD,KAAK,EAAE,IAAI,CAAC;MACjC,IAAIE,EAAE,IAAI0C,QAAQ,CAAC1C,EAAE,CAAC1G,IAAI,CAAC,EAAE;QACzB,IAAI0G,EAAE,CAACY,GAAG,CAACE,KAAK,IAAIpG,WAAW,CAACsF,EAAE,CAACY,GAAG,CAACE,KAAK,EAAE,CAAC,EAAE;UAC7C;SACH,MACI,IAAId,EAAE,CAACgD,IAAI,EAAE;UACdhD,EAAE,CAACgD,IAAI,CAAC,CAAC,CAAC,CAAClC,KAAK,EAAE;UAClB;;OAEP,MACI,IAAI5H,QAAQ,CAACU,OAAO,CAAC,EAAE;QACxB4I,YAAY,CAAC5I,OAAO,EAAE8I,QAAQ,CAAC;;;;AAI/C,CAAC;;ACxBD,yBAAe,UAACpJ,IAAI,EAAE0I,KAAK,EAAEiB,OAAO;EAAA,OAAKA,OAAO,IAAI,CAACA,OAAO,CAACC,WAAW,GAClED,OAAO,CAACE,SAAS,IAAO7J,IAAI,SAAI2J,OAAO,CAACG,UAAU,MAAG,GAClD9J,IAAI,SAAI0I,KAAK,MAAG;AAAA;;ACFzB,kBAAe,YAAM;EACnB,IAAMqB,CAAC,GACL,OAAOC,WAAW,KAAK,WAAW,GAAG5K,IAAI,CAAC6K,GAAG,EAAE,GAAGD,WAAW,CAACC,GAAG,EAAE,GAAG,IAAI;EAE5E,OAAO,sCAAsC,CAAC1B,OAAO,CAAC,OAAO,EAAE,UAAC2B,CAAC,EAAK;IACpE,IAAMC,CAAC,GAAG,CAACC,IAAI,CAACC,MAAM,EAAE,GAAG,EAAE,GAAGN,CAAC,IAAI,EAAE,GAAG,CAAC;IAE3C,OAAO,CAACG,CAAC,IAAI,GAAG,GAAGC,CAAC,GAAIA,CAAC,GAAG,GAAG,GAAI,GAAG,EAAEG,QAAQ,CAAC,EAAE,CAAC;GACrD,CAAC;AACJ,CAAC;;ACRD,cAAe,UAACzD,MAAM,EAAO0D,OAAO;EAAA,IAApB1D,MAAM;IAANA,MAAM,GAAG,EAAE;;EAAA,OAAcA,MAAM,CAAC2D,GAAG,CAAC,UAACnL,KAAK;IAAA,IAAA8I,cAAA;IAAA,OAAM3F,MAAM,CAACC,MAAM,EAAA0F,cAAA,OAAAA,cAAA,CAAIoC,OAAO,IAAIlL,KAAK,IAAIA,KAAK,CAACkL,OAAO,CAAC,IAAKE,UAAU,EAAE,EAAAtC,cAAA,GAAI9I,KAAK,CAAC;GAAC,CAAC;AAAA;;ACAjI,SAASqL,MAAMA,CAACvL,IAAI,EAAEE,KAAK,EAAE;EACxC,UAAAe,MAAA,CAAWmF,qBAAqB,CAACpG,IAAI,CAAC,EAAKoG,qBAAqB,CAAClG,KAAK,CAAC;AAC3E;;ACHA,sBAAe,UAACA,KAAK;EAAA,OACnBG,KAAK,CAACC,OAAO,CAACJ,KAAK,CAAC,GAAGG,KAAK,CAACH,KAAK,CAACuE,MAAM,CAAC,CAAC+G,IAAI,CAAChK,SAAS,CAAC,GAAGA,SAAS;AAAA;;ACAzD,SAASiK,MAAMA,CAACzL,IAAI,EAAEuJ,KAAK,EAAErJ,KAAK,EAAE;EAC/C,UAAAe,MAAA,CACOjB,IAAI,CAAC0L,KAAK,CAAC,CAAC,EAAEnC,KAAK,CAAC,EACpBnD,qBAAqB,CAAClG,KAAK,CAAC,EAC5BF,IAAI,CAAC0L,KAAK,CAACnC,KAAK,CAAC;AAE5B;;ACLA,mBAAe,UACbvJ,IAAI,EACJ2L,IAAI,EACJC,EAAE,EACC;EACH,IAAIvL,KAAK,CAACC,OAAO,CAACN,IAAI,CAAC,EAAE;IACvB,IAAIiC,WAAW,CAACjC,IAAI,CAAC4L,EAAE,CAAC,CAAC,EAAE;MACzB5L,IAAI,CAAC4L,EAAE,CAAC,GAAGpK,SAAS;;IAEtBxB,IAAI,CAAC6L,MAAM,CAACD,EAAE,EAAE,CAAC,EAAE5L,IAAI,CAAC6L,MAAM,CAACF,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3C,OAAO3L,IAAI;;EAGb,OAAO,EAAE;AACX,CAAC;;ACfD,eAAe,UAACgK,MAAM,EAAEoB,OAAO;EAAA,OAAKpB,MAAM,CAACqB,GAAG,CAAC,UAAChE,KAAK;IAAA,IAALA,KAAK;MAALA,KAAK,GAAG,EAAE;;IAAA,OAAKvD,IAAI,CAACuD,KAAK,EAAE+D,OAAO,CAAC;IAAC;AAAA;;ACArE,SAASU,OAAOA,CAAC9L,IAAI,EAAEE,KAAK,EAAE;EACzC,UAAAe,MAAA,CAAWmF,qBAAqB,CAAClG,KAAK,CAAC,EAAKkG,qBAAqB,CAACpG,IAAI,CAAC;AAC3E;;ACCA,SAAS+L,eAAeA,CAAC/L,IAAI,EAAEgM,OAAO,EAAE;EACtC,IAAIC,CAAC,GAAG,CAAC;EACT,IAAMC,IAAI,MAAAjL,MAAA,CAAOjB,IAAI,CAAC;EACtB,SAAAmK,SAAA,GAAAC,+BAAA,CAAoB4B,OAAO,GAAA3B,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;IAAA,IAAlBf,KAAK,GAAAc,KAAA,CAAAnK,KAAA;IACdgM,IAAI,CAACL,MAAM,CAACtC,KAAK,GAAG0C,CAAC,EAAE,CAAC,CAAC;IACzBA,CAAC,EAAE;;EAEL,OAAOpK,OAAO,CAACqK,IAAI,CAAC,CAACzH,MAAM,GAAGyH,IAAI,GAAG,EAAE;AACzC;AAEA,qBAAe,UAAClM,IAAI,EAAEuJ,KAAK;EAAA,OACzBtH,WAAW,CAACsH,KAAK,CAAC,GACd,EAAE,GACFwC,eAAe,CACf/L,IAAI,EACHoG,qBAAqB,CAACmD,KAAK,CAAC,CAAE4C,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKD,CAAC,GAAGC,CAAC;IACrD,CAAC;AAAA;;ACpBL,mBAAe,UAACrM,IAAI,EAAEsM,MAAM,EAAEC,MAAM,EAAK;EACvCvM,IAAI,CAACsM,MAAM,CAAC,GAAG,CAACtM,IAAI,CAACuM,MAAM,CAAC,EAAGvM,IAAI,CAACuM,MAAM,CAAC,GAAGvM,IAAI,CAACsM,MAAM,CAAC,CAAE,CAAC,CAAC,CAAC;AACjE,CAAC;;ACFD,iBAAe,UAACpM,KAAK;EAAA,OAAK,OAAOA,KAAK,KAAK,SAAS;AAAA;;ACMpD,SAASsM,OAAOA,CAAClD,MAAM,EAAEmD,UAAU,EAAE;EACnC,IAAMhI,MAAM,GAAGgI,UAAU,CAACf,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACjH,MAAM;EAC7C,IAAI8E,KAAK,GAAG,CAAC;EACb,OAAOA,KAAK,GAAG9E,MAAM,EAAE;IACrB6E,MAAM,GAAGrH,WAAW,CAACqH,MAAM,CAAC,GAAGC,KAAK,EAAE,GAAGD,MAAM,CAACmD,UAAU,CAAClD,KAAK,EAAE,CAAC,CAAC;;EAEtE,OAAOD,MAAM;AACf;AACA,AAAe,SAASoD,KAAKA,CAACpD,MAAM,EAAE5H,IAAI,EAAE;EAC1C,IAAM+K,UAAU,GAAGhD,KAAK,CAAC/H,IAAI,CAAC,GAAG,CAACA,IAAI,CAAC,GAAGgI,YAAY,CAAChI,IAAI,CAAC;EAC5D,IAAMiL,WAAW,GAAGF,UAAU,CAAChI,MAAM,IAAI,CAAC,GAAG6E,MAAM,GAAGkD,OAAO,CAAClD,MAAM,EAAEmD,UAAU,CAAC;EACjF,IAAMzK,GAAG,GAAGyK,UAAU,CAACA,UAAU,CAAChI,MAAM,GAAG,CAAC,CAAC;EAC7C,IAAImI,cAAc;EAClB,IAAID,WAAW,EAAE;IACf,OAAOA,WAAW,CAAC3K,GAAG,CAAC;;EAEzB,KAAK,IAAI6K,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,UAAU,CAACf,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAACjH,MAAM,EAAEoI,CAAC,EAAE,EAAE;IACvD,IAAItD,KAAK,GAAG,CAAC,CAAC;IACd,IAAIuD,SAAS;IACb,IAAMC,YAAY,GAAGN,UAAU,CAACf,KAAK,CAAC,CAAC,EAAE,EAAEmB,CAAC,GAAG,CAAC,CAAC,CAAC;IAClD,IAAMG,kBAAkB,GAAGD,YAAY,CAACtI,MAAM,GAAG,CAAC;IAClD,IAAIoI,CAAC,GAAG,CAAC,EAAE;MACTD,cAAc,GAAGtD,MAAM;;IAEzB,OAAO,EAAEC,KAAK,GAAGwD,YAAY,CAACtI,MAAM,EAAE;MACpC,IAAMmC,IAAI,GAAGmG,YAAY,CAACxD,KAAK,CAAC;MAChCuD,SAAS,GAAGA,SAAS,GAAGA,SAAS,CAAClG,IAAI,CAAC,GAAG0C,MAAM,CAAC1C,IAAI,CAAC;MACtD,IAAIoG,kBAAkB,KAAKzD,KAAK,KAC5B9I,QAAQ,CAACqM,SAAS,CAAC,IAAInI,aAAa,CAACmI,SAAS,CAAC,IAC9CzM,KAAK,CAACC,OAAO,CAACwM,SAAS,CAAC,IACvB,CAACA,SAAS,CAACzL,MAAM,CAAC,UAACrB,IAAI;QAAA,OAAMS,QAAQ,CAACT,IAAI,CAAC,IAAI,CAAC2E,aAAa,CAAC3E,IAAI,CAAC,IAAKiN,SAAS,CAACjN,IAAI,CAAC;QAAC,CAACyE,MAAO,CAAC,EAAE;QACvGmI,cAAc,GAAG,OAAOA,cAAc,CAAChG,IAAI,CAAC,GAAG,OAAO0C,MAAM,CAAC1C,IAAI,CAAC;;MAEpEgG,cAAc,GAAGE,SAAS;;;EAG9B,OAAOxD,MAAM;AACf;;AC3CA,gBAAe,UAAC4D,WAAW,EAAE3D,KAAK,EAAErJ,KAAK,EAAK;EAC5CgN,WAAW,CAAC3D,KAAK,CAAC,GAAGrJ,KAAK;EAC1B,OAAOgN,WAAW;AACpB,CAAC;;ICeYC,aAAa,GAAG,SAAhBA,aAAaA,CAAIvJ,KAAK,EAAK;EACpC,IAAMkB,OAAO,GAAGpB,cAAc,EAAE;EAChC,IAAAgD,cAAA,GAA+E9C,KAAK,CAA5EqB,OAAO;IAAPA,OAAO,GAAAyB,cAAA,cAAG5B,OAAO,CAACG,OAAO,GAAAyB,cAAA;IAAE7F,IAAI,GAAwC+C,KAAK,CAAjD/C,IAAI;IAAAuM,cAAA,GAAwCxJ,KAAK,CAA3CwH,OAAO;IAAPA,OAAO,GAAAgC,cAAA,cAAG,IAAI,GAAAA,cAAA;IAAEzG,gBAAgB,GAAM/C,KAAK,CAA3B+C,gBAAgB;EACzE,IAAM0G,UAAU,GAAG7J,YAAY,CAAC,EAAE,CAAC;EACnC,IAAA6B,eAAA,GAA4B7B,cAAc,CAAC8J,MAAM,CAACrI,OAAO,CAACsI,mBAAmB,CAAC1M,IAAI,CAAC,EAAEuK,OAAO,CAAC,CAAC;IAAvFpB,MAAM,GAAA3E,eAAA;IAAEmI,SAAS,GAAAnI,eAAA;EACxBJ,OAAO,CAAC6C,MAAM,CAACC,KAAK,CAAC0F,GAAG,CAAC5M,IAAI,CAAC;EAC9B,IAAM0K,QAAM,GAAG,SAATA,QAAMA,CAAIrL,KAAK,EAAEsK,OAAO,EAAK;IAC/B,IAAMkD,WAAW,GAAGtH,qBAAqB,CAAClG,KAAK,CAAC;IAChD,IAAMyN,uBAAuB,GAAGC,MAAQ,CAAC3I,OAAO,CAACsI,mBAAmB,CAAC1M,IAAI,CAAC,EAAE6M,WAAW,CAAC;IACxFzI,OAAO,CAAC4I,qBAAqB,CAACzC,OAAO,EAAEvK,IAAI,EAAE+M,MAAQ,EAAE;MACnDE,IAAI,EAAEC,cAAc,CAAC7N,KAAK;KAC7B,EAAEyN,uBAAuB,EAAE,KAAK,CAAC;IAClCH,SAAS,CAACF,MAAM,CAACK,uBAAuB,EAAEvC,OAAO,CAAC,CAAC;IACnDiC,UAAU,CAAClM,OAAO,GAAG6M,iBAAiB,CAACnN,IAAI,EAAE8M,uBAAuB,CAAClJ,MAAM,GAAGiJ,WAAW,CAACjJ,MAAM,EAAE+F,OAAO,CAAC;GAC7G;EACD,IAAMsB,SAAO,GAAG,SAAVA,SAAOA,CAAI5L,KAAK,EAAEsK,OAAO,EAAK;IAChC,IAAMmD,uBAAuB,GAAGM,OAAS,CAAChJ,OAAO,CAACsI,mBAAmB,CAAC1M,IAAI,CAAC,EAAEuF,qBAAqB,CAAClG,KAAK,CAAC,CAAC;IAC1G+E,OAAO,CAAC4I,qBAAqB,CAACzC,OAAO,EAAEvK,IAAI,EAAEoN,OAAS,EAAE;MACpDH,IAAI,EAAEC,cAAc,CAAC7N,KAAK;KAC7B,EAAEyN,uBAAuB,CAAC;IAC3BH,SAAS,CAACF,MAAM,CAACK,uBAAuB,EAAEvC,OAAO,CAAC,CAAC;IACnDiC,UAAU,CAAClM,OAAO,GAAG6M,iBAAiB,CAACnN,IAAI,EAAE,CAAC,EAAE2J,OAAO,CAAC;GAC3D;EACD,IAAM0D,MAAM,GAAG,SAATA,MAAMA,CAAI3E,KAAK,EAAK;IACtB,IAAMoE,uBAAuB,GAAGQ,aAAa,CAAClJ,OAAO,CAACsI,mBAAmB,CAAC1M,IAAI,CAAC,EAAE0I,KAAK,CAAC;IACvFtE,OAAO,CAAC4I,qBAAqB,CAACzC,OAAO,EAAEvK,IAAI,EAAEsN,aAAa,EAAE;MACxDL,IAAI,EAAEvE;KACT,EAAEoE,uBAAuB,CAAC;IAC3BH,SAAS,CAACF,MAAM,CAACK,uBAAuB,EAAEvC,OAAO,CAAC,CAAC;GACtD;EACD,IAAMK,QAAM,GAAG,SAATA,QAAMA,CAAIlC,KAAK,EAAErJ,KAAK,EAAEsK,OAAO,EAAK;IACtC,IAAMmD,uBAAuB,GAAGS,MAAQ,CAACnJ,OAAO,CAACsI,mBAAmB,CAAC1M,IAAI,CAAC,EAAE0I,KAAK,EAAEnD,qBAAqB,CAAClG,KAAK,CAAC,CAAC;IAChH+E,OAAO,CAAC4I,qBAAqB,CAACzC,OAAO,EAAEvK,IAAI,EAAEuN,MAAQ,EAAE;MACnDN,IAAI,EAAEvE,KAAK;MACX8E,IAAI,EAAEN,cAAc,CAAC7N,KAAK;KAC7B,EAAEyN,uBAAuB,CAAC;IAC3BH,SAAS,CAACF,MAAM,CAACK,uBAAuB,EAAEvC,OAAO,CAAC,CAAC;IACnDiC,UAAU,CAAClM,OAAO,GAAG6M,iBAAiB,CAACnN,IAAI,EAAE0I,KAAK,EAAEiB,OAAO,CAAC;GAC/D;EACD,IAAM8D,IAAI,GAAG,SAAPA,IAAIA,CAAIhC,MAAM,EAAEC,MAAM,EAAK;IAC7B,IAAMW,WAAW,GAAGjI,OAAO,CAACsI,mBAAmB,CAAC1M,IAAI,CAAC;IACrD0N,WAAW,CAACrB,WAAW,EAAEZ,MAAM,EAAEC,MAAM,CAAC;IACxCtH,OAAO,CAAC4I,qBAAqB,CAACzC,OAAO,EAAEvK,IAAI,EAAE0N,WAAW,EAAE;MACtDT,IAAI,EAAExB,MAAM;MACZ+B,IAAI,EAAE9B;KACT,EAAEW,WAAW,EAAE,KAAK,CAAC;IACtBM,SAAS,CAACF,MAAM,CAACJ,WAAW,EAAE9B,OAAO,CAAC,CAAC;GAC1C;EACD,IAAMoD,IAAI,GAAG,SAAPA,IAAIA,CAAI7C,IAAI,EAAEC,EAAE,EAAK;IACvB,IAAMsB,WAAW,GAAGjI,OAAO,CAACsI,mBAAmB,CAAC1M,IAAI,CAAC;IACrD4N,WAAW,CAACvB,WAAW,EAAEvB,IAAI,EAAEC,EAAE,CAAC;IAClC3G,OAAO,CAAC4I,qBAAqB,CAACzC,OAAO,EAAEvK,IAAI,EAAE4N,WAAW,EAAE;MACtDX,IAAI,EAAEnC,IAAI;MACV0C,IAAI,EAAEzC;KACT,EAAEsB,WAAW,EAAE,KAAK,CAAC;IACtBM,SAAS,CAACF,MAAM,CAACJ,WAAW,EAAE9B,OAAO,CAAC,CAAC;GAC1C;EACD,IAAMsD,MAAM,GAAG,SAATA,MAAMA,CAAInF,KAAK,EAAErJ,KAAK,EAAK;IAC7B,IAAMgN,WAAW,GAAGjI,OAAO,CAACsI,mBAAmB,CAAC1M,IAAI,CAAC;IACrD,IAAM8M,uBAAuB,GAAGgB,QAAQ,CAACzB,WAAW,EAAE3D,KAAK,EAAErJ,KAAK,CAAC;IACnE+E,OAAO,CAAC4I,qBAAqB,CAACzC,OAAO,EAAEvK,IAAI,EAAE8N,QAAQ,EAAE;MACnDb,IAAI,EAAEvE,KAAK;MACX8E,IAAI,EAAEnO;KACT,EAAEgN,WAAW,EAAE,IAAI,EAAE,KAAK,CAAC;IAC5BM,SAAS,CAACF,MAAM,CAACK,uBAAuB,EAAEvC,OAAO,CAAC,CAAC;GACtD;EACD5H,eAAe,CAAC,YAAM;IAClByB,OAAO,CAAC+C,WAAW,CAACzG,GAAG,GAAG,KAAK;IAC/B,IAAI0D,OAAO,CAAC6C,MAAM,CAAC8G,QAAQ,EAAE;MACzB3J,OAAO,CAACe,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC,EAAE,CAAC;KACnC,MACI;MACD,SAAAgE,SAAA,GAAAC,+BAAA,CAAyBnF,OAAO,CAAC6C,MAAM,CAAC+G,KAAK,GAAAxE,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;QAAA,IAApCwE,UAAU,GAAAzE,KAAA,CAAAnK,KAAA;QACjB,IAAIW,IAAI,CAACkO,UAAU,CAACD,UAAU,CAAC,EAAE;UAC7B7J,OAAO,CAACe,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC,EAAE,CAAC;UAChC;;;;IAIZlB,OAAO,CAACe,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC;MACzBtF,IAAI,EAAJA,IAAI;MACJ6G,MAAM,EAAEzC,OAAO,CAAC4B;KACnB,CAAC;IACFwG,UAAU,CAAClM,OAAO,IACd4I,YAAY,CAAC9E,OAAO,CAACqC,OAAO,EAAE,UAACtF,GAAG;MAAA,OAAKA,GAAG,CAAC+M,UAAU,CAAC1B,UAAU,CAAClM,OAAO,CAAC;MAAC;IAC9EkM,UAAU,CAAClM,OAAO,GAAG,EAAE;IACvB8D,OAAO,CAACe,SAAS,CAAC+B,KAAK,CAAC5B,IAAI,CAAC;MACzBtF,IAAI,EAAJA,IAAI;MACJ6G,MAAM,EAAEsH,OAAO,IAAA/N,MAAA,CAAK+I,MAAM,GAAGoB,OAAO;KACvC,CAAC;IACFnG,OAAO,CAAChB,eAAe,CAAC4B,OAAO,IAAIZ,OAAO,CAACgK,YAAY,EAAE;GAC5D,EAAE,CAACjF,MAAM,EAAEnJ,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,CAAC,CAAC;EACpC5H,eAAe,CAAC,YAAM;IAClB,IAAM0L,sBAAsB,GAAGjK,OAAO,CAACe,SAAS,CAAC+B,KAAK,CAAC7B,SAAS,CAAC;MAC7DC,IAAI,WAAAA,KAACgJ,OAAO,EAAE;QACV,IAAIA,OAAO,CAACC,OAAO,EAAE;UACjB1C,KAAK,CAACzH,OAAO,CAACqC,OAAO,EAAE6H,OAAO,CAACtO,IAAI,IAAIA,IAAI,CAAC;UAC5C6L,KAAK,CAACzH,OAAO,CAAC4B,WAAW,EAAEsI,OAAO,CAACtO,IAAI,IAAIA,IAAI,CAAC;UAChDsO,OAAO,CAACtO,IAAI,GACNwI,GAAG,CAACpE,OAAO,CAAC4B,WAAW,EAAEsI,OAAO,CAACtO,IAAI,EAAEsO,OAAO,CAACzH,MAAM,CAAC,GACtDyH,OAAO,CAACzH,MAAM,KAAKzC,OAAO,CAAC4B,WAAW,GAAGsI,OAAO,CAACzH,MAAM,CAAC;UAC9D8F,SAAS,CAACF,MAAM,CAAC/I,GAAG,CAACU,OAAO,CAAC4B,WAAW,EAAEhG,IAAI,CAAC,EAAEuK,OAAO,CAAC,CAAC;;;KAGrE,CAAC;IACF,CAAC7G,GAAG,CAACU,OAAO,CAAC4B,WAAW,EAAEhG,IAAI,CAAC,IAAIwI,GAAG,CAACpE,OAAO,CAAC4B,WAAW,EAAEhG,IAAI,EAAE,EAAE,CAAC;IACrE,OAAO,YAAM;MACTqO,sBAAsB,CAAC3I,WAAW,EAAE;MACpC,IAAItB,OAAO,CAAC2C,iBAAiB,IAAIjB,gBAAgB,EAAE;QAC/C1B,OAAO,CAACgD,UAAU,CAACpH,IAAI,CAAC;QACxB6L,KAAK,CAACzH,OAAO,CAAC4B,WAAW,EAAEhG,IAAI,CAAC;OACnC,MACI;QACD,IAAMwO,gBAAgB,GAAG9K,GAAG,CAACU,OAAO,CAAC4B,WAAW,EAAEhG,IAAI,CAAC;QACvDwO,gBAAgB,IAAIhG,GAAG,CAACpE,OAAO,CAAC4B,WAAW,EAAEhG,IAAI,EAAEwO,gBAAgB,CAAC;;KAE3E;GACJ,EAAE,CAACxO,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,EAAEzE,gBAAgB,CAAC,CAAC;EAC9C,OAAO;IACH2H,IAAI,EAAE9K,iBAAiB,CAAC8K,IAAI,EAAE,CAACzN,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,CAAC,CAAC;IACvDoD,IAAI,EAAEhL,iBAAiB,CAACgL,IAAI,EAAE,CAAC3N,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,CAAC,CAAC;IACvDU,OAAO,EAAEtI,iBAAiB,CAACsI,SAAO,EAAE,CAACjL,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,CAAC,CAAC;IAC7DG,MAAM,EAAE/H,iBAAiB,CAAC+H,QAAM,EAAE,CAAC1K,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,CAAC,CAAC;IAC3D8C,MAAM,EAAE1K,iBAAiB,CAAC0K,MAAM,EAAE,CAACrN,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,CAAC,CAAC;IAC3DK,MAAM,EAAEjI,iBAAiB,CAACiI,QAAM,EAAE,CAAC5K,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,CAAC,CAAC;IAC3DsD,MAAM,EAAElL,iBAAiB,CAACkL,MAAM,EAAE,CAAC7N,IAAI,EAAEoE,OAAO,EAAEmG,OAAO,CAAC,CAAC;IAC3DpB,MAAM,EAAEA;GACX;AACL,CAAC;;AClJD;AACA,AAAO,MAAM,KAAK,gBAAgB,CAAC,WAAW;AAC9C,CAAC,SAAS,KAAK,GAAG,EAAE;AACpB,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,WAAW,EAAE,UAAU,EAAE;AAC1D,EAAE,MAAM,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;AAC7B,EAAE,MAAM,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC;AACvB,EAAE,IAAI,KAAK,EAAE;AACb,GAAG,MAAM,QAAQ,GAAG,KAAK,GAAG,CAAC,GAAG,WAAW,GAAG,UAAU,CAAC;AACzD,GAAG,IAAI,QAAQ,EAAE;AACjB,IAAI,IAAI;AACR,KAAK,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1C,KAAK,CAAC,OAAO,CAAC,EAAE;AAChB,KAAK,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,KAAK;AACL,IAAI,OAAO,MAAM,CAAC;AAClB,IAAI,MAAM;AACV,IAAI,OAAO,IAAI,CAAC;AAChB,IAAI;AACJ,GAAG;AACH,EAAE,IAAI,CAAC,CAAC,GAAG,SAAS,KAAK,EAAE;AAC3B,GAAG,IAAI;AACP,IAAI,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC;AAC1B,IAAI,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,EAAE;AACrB,KAAK,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAClE,KAAK,MAAM,IAAI,UAAU,EAAE;AAC3B,KAAK,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;AAC3C,KAAK,MAAM;AACX,KAAK,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;AAC/B,KAAK;AACL,IAAI,CAAC,OAAO,CAAC,EAAE;AACf,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC1B,IAAI;AACJ,GAAG,CAAC;AACJ,EAAE,OAAO,MAAM,CAAC;AAChB,GAAE;AACF,CAAC,OAAO,KAAK,CAAC;AACd,CAAC,GAAG,CAAC;AACL;AACA;AACA,AAAO,SAAS,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;AAC5C,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;AACd,EAAE,IAAI,KAAK,YAAY,KAAK,EAAE;AAC9B,GAAG,IAAI,KAAK,CAAC,CAAC,EAAE;AAChB,IAAI,IAAI,KAAK,GAAG,CAAC,EAAE;AACnB,KAAK,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC;AACrB,KAAK;AACL,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC;AACpB,IAAI,MAAM;AACV,IAAI,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AAC9C,IAAI,OAAO;AACX,IAAI;AACJ,GAAG;AACH,EAAE,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,EAAE;AAC3B,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,EAAE,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5E,GAAG,OAAO;AACV,GAAG;AACH,EAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;AACjB,EAAE,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;AACjB,EAAE,MAAM,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC;AAC1B,EAAE,IAAI,QAAQ,EAAE;AAChB,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AAClB,GAAG;AACH,EAAE;AACF,CAAC;AACD;AACA,AAAO,SAAS,cAAc,CAAC,QAAQ,EAAE;AACzC,CAAC,OAAO,QAAQ,YAAY,KAAK,IAAI,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;AACpD,CAAC;AACD,AA4CA;AACA;AACA,AAAO,SAAS,MAAM,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;AAC3C,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC;AAC1B,CAAC,SAAS,MAAM,CAAC,MAAM,EAAE;AACzB,EAAE,IAAI;AACN,GAAG,OAAO,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,KAAK,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE;AACtD,IAAI,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACrB,IAAI,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;AAC/B,KAAK,IAAI,cAAc,CAAC,MAAM,CAAC,EAAE;AACjC,MAAM,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC;AACxB,MAAM,MAAM;AACZ,MAAM,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,KAAK,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,GAAG,IAAI,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1F,MAAM,OAAO;AACb,MAAM;AACN,KAAK;AACL,IAAI;AACJ,GAAG,IAAI,IAAI,EAAE;AACb,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;AAC7B,IAAI,MAAM;AACV,IAAI,IAAI,GAAG,MAAM,CAAC;AAClB,IAAI;AACJ,GAAG,CAAC,OAAO,CAAC,EAAE;AACd,GAAG,OAAO,CAAC,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/C,GAAG;AACH,EAAE;AACF,CAAC,MAAM,EAAE,CAAC;AACV,CAAC,OAAO,IAAI,CAAC;AACb,CAAC;AACD;AACA;AACA;AACA,AAAO,SAAS,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE;AAC5C,CAAC,IAAI,IAAI,GAAG,EAAE,CAAC;AACf,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;AACzB,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACjB,EAAE;AACF,CAAC,OAAO,MAAM,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;AACnE,CAAC;AACD,AAYA;AACA,AAAO,MAAM,eAAe,iBAAiB,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,QAAQ,KAAK,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,YAAY,CAAC;AAC/J,AA2DA;AACA,AAAO,MAAM,oBAAoB,iBAAiB,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,aAAa,KAAK,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC,sBAAsB,CAAC,CAAC,IAAI,iBAAiB,CAAC;AACxL,AA8UA;AACA;AACA,AAAO,SAAS,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE;AACtC,CAAC,IAAI;AACL,EAAE,IAAI,MAAM,GAAG,IAAI,EAAE,CAAC;AACtB,EAAE,CAAC,MAAM,CAAC,EAAE;AACZ,EAAE,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC;AACpB,EAAE;AACF,CAAC,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;AAC5B,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;AACtC,EAAE;AACF,CAAC,OAAO,MAAM,CAAC;AACf,CAAC;AACD;AACA;AACA,AAAO,SAAS,gBAAgB,CAAC,IAAI,EAAE,SAAS,EAAE;AAClD,CAAC,IAAI;AACL,EAAE,IAAI,MAAM,GAAG,IAAI,EAAE,CAAC;AACtB,EAAE,CAAC,OAAO,CAAC,EAAE;AACb,EAAE,OAAO,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;AAC5B,EAAE;AACF,CAAC,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;AAC5B,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;AAC9E,EAAE;AACF,CAAC,OAAO,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AACjC,CAAC;;ACzkBD,gBAAe,UAACC,QAAQ,EAAEqF,IAAI,EAAK;EACjC,IAAIC,KAAK,GAAG,CAAC;EACb,OAAO,YAAa;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAhL,MAAA,EAATiL,IAAI,OAAArP,KAAA,CAAAmP,IAAA,GAAAG,IAAA,MAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA;MAAJD,IAAI,CAAAC,IAAA,IAAAF,SAAA,CAAAE,IAAA;;IACXC,YAAY,CAACL,KAAK,CAAC;IACnBA,KAAK,GAAGM,MAAM,CAACC,UAAU,CAAC;MAAA,OAAM7F,QAAQ,CAAA8F,KAAA,SAAIL,IAAI,CAAC;OAAEJ,IAAI,CAAC;GAC3D;AACH,CAAC;;ACJD,mBAAe,UAACpP,KAAK;EAAA,OAAKE,iBAAiB,CAACF,KAAK,CAAC,IAAI,CAACC,YAAY,CAACD,KAAK,CAAC;AAAA;;ACC3D,SAAS8P,SAASA,CAACC,OAAO,EAAEC,OAAO,EAAE;EAChD,IAAIC,WAAW,CAACF,OAAO,CAAC,IACpBE,WAAW,CAACD,OAAO,CAAC,IACpB3P,YAAY,CAAC0P,OAAO,CAAC,IACrB1P,YAAY,CAAC2P,OAAO,CAAC,EAAE;IACvB,OAAOD,OAAO,KAAKC,OAAO;;EAE9B,IAAME,KAAK,GAAG/M,MAAM,CAACmB,IAAI,CAACyL,OAAO,CAAC;EAClC,IAAMI,KAAK,GAAGhN,MAAM,CAACmB,IAAI,CAAC0L,OAAO,CAAC;EAClC,IAAIE,KAAK,CAAC3L,MAAM,KAAK4L,KAAK,CAAC5L,MAAM,EAAE;IAC/B,OAAO,KAAK;;EAEhB,SAAA6L,EAAA,MAAAC,KAAA,GAAkBH,KAAK,EAAAE,EAAA,GAAAC,KAAA,CAAA9L,MAAA,EAAA6L,EAAA,IAAE;IAApB,IAAMtO,GAAG,GAAAuO,KAAA,CAAAD,EAAA;IACV,IAAME,IAAI,GAAGP,OAAO,CAACjO,GAAG,CAAC;IACzB,IAAI,CAACqO,KAAK,CAAChK,QAAQ,CAACrE,GAAG,CAAC,EAAE;MACtB,OAAO,KAAK;;IAEhB,IAAIA,GAAG,KAAK,KAAK,EAAE;MACf,IAAMyO,IAAI,GAAGP,OAAO,CAAClO,GAAG,CAAC;MACzB,IAAI,CAACvB,QAAQ,CAAC+P,IAAI,CAAC,IAAInQ,KAAK,CAACC,OAAO,CAACkQ,IAAI,CAAC,MACrC/P,QAAQ,CAACgQ,IAAI,CAAC,IAAIpQ,KAAK,CAACC,OAAO,CAACmQ,IAAI,CAAC,CAAC,GACrC,CAACT,SAAS,CAACQ,IAAI,EAAEC,IAAI,CAAC,GACtBD,IAAI,KAAKC,IAAI,EAAE;QACjB,OAAO,KAAK;;;;EAIxB,OAAO,IAAI;AACf;;AC9BA,0BAAe,UAACC,IAAI;EAAA,OAAM;IACtBC,UAAU,EAAE,CAACD,IAAI,IAAIA,IAAI,KAAKrO,eAAe,CAACG,QAAQ;IACtDoO,QAAQ,EAAEF,IAAI,KAAKrO,eAAe,CAACC,MAAM;IACzCuO,UAAU,EAAEH,IAAI,KAAKrO,eAAe,CAACE,QAAQ;IAC7CuO,OAAO,EAAEJ,IAAI,KAAKrO,eAAe,CAACK,GAAG;IACrCqO,SAAS,EAAEL,IAAI,KAAKrO,eAAe,CAACI;GACvC;AAAA,CAAC;;ACPF,mBAAe,UAAC3C,OAAO;EAAA,OAAKA,OAAO,CAACC,IAAI,KAAK,MAAM;AAAA;;ACAnD,kBAAe,UAACG,KAAK;EAAA,OAAK,OAAOA,KAAK,KAAK,UAAU;AAAA;;ACArD,qBAAe,UAACA,KAAK;EAAA,OAAKA,KAAK,YAAY8Q,WAAW;AAAA;;ACAtD,wBAAe,UAAClR,OAAO;EAAA,OAAKA,OAAO,CAACC,IAAI,sBAAsB;AAAA;;ACA9D,oBAAe,UAACD,OAAO;EAAA,OAAKA,OAAO,CAACC,IAAI,KAAK,OAAO;AAAA;;ACEpD,iCAAe,UAACoI,GAAG;EAAA,OAAK8I,YAAY,CAAC9I,GAAG,CAAC,IAAIxH,eAAe,CAACwH,GAAG,CAAC;AAAA;;ACFjE,gBAAe,UAACjI,KAAK;EAAA,OAAK,OAAOA,KAAK,KAAK,QAAQ;AAAA;;ACAnD,YAAe,OAAO2P,MAAM,KAAK,WAAW,IACxC,OAAOA,MAAM,CAACmB,WAAW,KAAK,WAAW,IACzC,OAAOE,QAAQ,KAAK,WAAW;;ICFtBC,YAAY;EACvB,SAAAA,eAAc;IACV,IAAI,CAACC,SAAS,GAAG,EAAE;;EACtB,IAAAC,MAAA,GAAAF,YAAA,CAAAG,SAAA;EAAAD,MAAA,CACD5D,GAAG,GAAH,SAAAA,IAAI8D,QAAQ,EAAE;IACV,IAAI,CAACH,SAAS,CAACI,IAAI,CAACD,QAAQ,CAAC;GAChC;EAAAF,MAAA,CACD9K,WAAW,GAAX,SAAAA,cAAc;IACV,SAAA4D,SAAA,GAAAC,+BAAA,CAAuB,IAAI,CAACgH,SAAS,GAAA/G,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;MAAA,IAA5BmH,QAAQ,GAAApH,KAAA,CAAAnK,KAAA;MACfuR,QAAQ,EAAE;;IAEd,IAAI,CAACL,SAAS,GAAG,EAAE;GACtB;EAAA,OAAAD,YAAA;AAAA;AACF,IACKO,UAAU;EACd,SAAAA,WAAYC,QAAQ,EAAEC,YAAY,EAAE;IAAA,IAAAC,KAAA;IAChC,IAAI,CAACF,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACG,MAAM,GAAG,KAAK;IACnBF,YAAY,CAACnE,GAAG,CAAC;MAAA,OAAOoE,KAAI,CAACC,MAAM,GAAG,IAAI;KAAC,CAAC;;EAC/C,IAAAC,OAAA,GAAAL,UAAA,CAAAJ,SAAA;EAAAS,OAAA,CACD5L,IAAI,GAAJ,SAAAA,KAAKjG,KAAK,EAAE;IACR,IAAI,CAAC,IAAI,CAAC4R,MAAM,EAAE;MACd,IAAI,CAACH,QAAQ,CAACxL,IAAI,CAACjG,KAAK,CAAC;;GAEhC;EAAA,OAAAwR,UAAA;AAAA;AAAA,IAEkBM,OAAO;EAC1B,SAAAA,UAAc;IACV,IAAI,CAACC,SAAS,GAAG,EAAE;;EACtB,IAAAC,OAAA,GAAAF,OAAA,CAAAV,SAAA;EAAAY,OAAA,CACD/L,IAAI,GAAJ,SAAAA,KAAKjG,KAAK,EAAE;IACR,SAAAiS,UAAA,GAAA/H,+BAAA,CAAuB,IAAI,CAAC6H,SAAS,GAAAG,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAA7H,IAAA,GAAE;MAAA,IAA5BqH,QAAQ,GAAAS,MAAA,CAAAlS,KAAA;MACfyR,QAAQ,CAACxL,IAAI,CAACjG,KAAK,CAAC;;GAE3B;EAAAgS,OAAA,CACDhM,SAAS,GAAT,SAAAA,UAAUyL,QAAQ,EAAE;IAChB,IAAMC,YAAY,GAAG,IAAIT,YAAY,EAAE;IACvC,IAAMkB,UAAU,GAAG,IAAIX,UAAU,CAACC,QAAQ,EAAEC,YAAY,CAAC;IACzD,IAAI,CAACK,SAAS,CAACT,IAAI,CAACa,UAAU,CAAC;IAC/B,OAAOT,YAAY;GACtB;EAAAM,OAAA,CACD3L,WAAW,GAAX,SAAAA,cAAc;IACV,IAAI,CAAC0L,SAAS,GAAG,EAAE;GACtB;EAAA,OAAAD,OAAA;AAAA;;AC1CH,IAAMM,aAAa,GAAG;EAClBpS,KAAK,EAAE,KAAK;EACZ2F,OAAO,EAAE;AACb,CAAC;AACD,IAAM0M,WAAW,GAAG;EAAErS,KAAK,EAAE,IAAI;EAAE2F,OAAO,EAAE;AAAK,CAAC;AAClD,wBAAe,UAAC2E,OAAO,EAAK;EACxB,IAAInK,KAAK,CAACC,OAAO,CAACkK,OAAO,CAAC,EAAE;IACxB,IAAIA,OAAO,CAAC/F,MAAM,GAAG,CAAC,EAAE;MACpB,IAAMiD,MAAM,GAAG8C,OAAO,CACjBnJ,MAAM,CAAC,UAACmR,MAAM;QAAA,OAAKA,MAAM,IAAIA,MAAM,CAAC5R,OAAO,IAAI,CAAC4R,MAAM,CAACtN,QAAQ;QAAC,CAChEmG,GAAG,CAAC,UAACmH,MAAM;QAAA,OAAKA,MAAM,CAACtS,KAAK;QAAC;MAClC,OAAO;QAAEA,KAAK,EAAEwH,MAAM;QAAE7B,OAAO,EAAE,CAAC,CAAC6B,MAAM,CAACjD;OAAQ;;IAEtD,OAAO+F,OAAO,CAAC,CAAC,CAAC,CAAC5J,OAAO,IAAI,CAAC4J,OAAO,CAAC,CAAC,CAAC,CAACtF,QAAQ,GAEzCsF,OAAO,CAAC,CAAC,CAAC,CAACiI,UAAU,IAAI,CAACxQ,WAAW,CAACuI,OAAO,CAAC,CAAC,CAAC,CAACiI,UAAU,CAACvS,KAAK,CAAC,GAC5D+B,WAAW,CAACuI,OAAO,CAAC,CAAC,CAAC,CAACtK,KAAK,CAAC,IAAIsK,OAAO,CAAC,CAAC,CAAC,CAACtK,KAAK,KAAK,EAAE,GACpDqS,WAAW,GACX;MAAErS,KAAK,EAAEsK,OAAO,CAAC,CAAC,CAAC,CAACtK,KAAK;MAAE2F,OAAO,EAAE;KAAM,GAC9C0M,WAAW,GACnBD,aAAa;;EAEvB,OAAOA,aAAa;AACxB,CAAC;;ACvBD,uBAAe,UAACpS,KAAK,EAAA6E,IAAA;EAAA,IAAI2N,aAAa,GAAA3N,IAAA,CAAb2N,aAAa;IAAEC,WAAW,GAAA5N,IAAA,CAAX4N,WAAW;IAAEC,UAAU,GAAA7N,IAAA,CAAV6N,UAAU;EAAA,OAAO3Q,WAAW,CAAC/B,KAAK,CAAC,GAClFA,KAAK,GACLwS,aAAa,GACTxS,KAAK,KAAK,EAAE,GACR2S,GAAG,GACH,CAAC3S,KAAK,GACVyS,WAAW,GACP,IAAI1S,IAAI,CAACC,KAAK,CAAC,GACf0S,UAAU,GACNA,UAAU,CAAC1S,KAAK,CAAC,GACjBA,KAAK;AAAA;;ACXvB,8BAAe,UAACsK,OAAO;EAAA,OAAK,GAAAvJ,MAAA,CAAIuJ,OAAO,EAClCnJ,MAAM,CAAC,UAAA0D,IAAA;IAAA,IAAG+N,QAAQ,GAAA/N,IAAA,CAAR+N,QAAQ;IAAA,OAAOA,QAAQ;IAAC,CAClCzH,GAAG,CAAC,UAAA0H,KAAA;IAAA,IAAG7S,KAAK,GAAA6S,KAAA,CAAL7S,KAAK;IAAA,OAAOA,KAAK;IAAC;AAAA;;ACF9B,IAAM8S,aAAa,GAAG;EACpBnN,OAAO,EAAE,KAAK;EACd3F,KAAK,EAAE;AACT,CAAC;AACD,qBAAe,UAACsK,OAAO;EAAA,OAAKnK,KAAK,CAACC,OAAO,CAACkK,OAAO,CAAC,GAC9CA,OAAO,CAACzI,MAAM,CAAC,UAACkR,QAAQ,EAAET,MAAM;IAAA,OAAKA,MAAM,IAAIA,MAAM,CAAC5R,OAAO,IAAI,CAAC4R,MAAM,CAACtN,QAAQ,GAC7E;MACEW,OAAO,EAAE,IAAI;MACb3F,KAAK,EAAEsS,MAAM,CAACtS;KACjB,GACC+S,QAAQ;KAAED,aAAa,CAAC,GAC5BA,aAAa;AAAA;;ACFF,SAASE,aAAaA,CAAC7L,KAAK,EAAE;EACzC,IAAIA,KAAK,IAAIA,KAAK,CAACE,EAAE,EAAE;IACnB,IAAMY,GAAG,GAAGd,KAAK,CAACE,EAAE,CAACY,GAAG;IAKxB,IAAIgL,WAAW,CAAChL,GAAG,CAAC,EAAE;MAClB,OAAOA,GAAG,CAACiL,KAAK;;IAEpB,IAAInC,YAAY,CAAC9I,GAAG,CAAC,EAAE;MACnB,OAAOkL,aAAa,CAAChM,KAAK,CAACE,EAAE,CAACgD,IAAI,CAAC,CAACrK,KAAK;;IAE7C,IAAIoT,gBAAgB,CAACnL,GAAG,CAAC,EAAE;MACvB,OAAOoL,sBAAsB,CAACpL,GAAG,CAACqC,OAAO,CAAC;;IAE9C,IAAIgJ,eAAU,CAACrL,GAAG,CAAC,EAAE;MACjB,OAAOsL,gBAAgB,CAACpM,KAAK,CAACE,EAAE,CAACgD,IAAI,CAAC,CAACrK,KAAK;;IAEhD,OAAOwT,eAAe,CAACzR,WAAW,CAACkG,GAAG,CAACjI,KAAK,CAAC,GAAGmH,KAAK,CAACE,EAAE,CAACY,GAAG,CAACjI,KAAK,GAAGiI,GAAG,CAACjI,KAAK,EAAEmH,KAAK,CAACE,EAAE,CAAC;;AAEjG;;AC3BA,0BAAe,UACb2C,WAAW,EACXyJ,QAAQ,EACRC,YAAY,EACZC,yBAAyB,EACtB;EACH,IAAM7J,MAAM,GAAG,EAAE;EAEjB,SAAAG,SAAA,GAAAC,+BAAA,CAAmBF,WAAW,GAAAG,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;IAAA,IAArBzJ,IAAI,GAAAwJ,KAAA,CAAAnK,KAAA;IACb,IAAMmH,KAAK,GAAG9C,GAAG,CAACoP,QAAQ,EAAE9S,IAAI,CAAC;IAEjCwG,KAAK,IAAIgC,GAAG,CAACW,MAAM,EAAEnJ,IAAI,EAAEwG,KAAK,CAACE,EAAE,CAAC;;EAGtC,OAAO;IACLqM,YAAY,EAAZA,YAAY;IACZ5S,KAAK,KAAAC,MAAA,CAAMiJ,WAAW,CAAC;IACvBF,MAAM,EAANA,MAAM;IACN6J,yBAAyB,EAAzBA;GACD;AACH,CAAC;;ACvBD,qBAAe,UAACrJ,OAAO,EAAEsJ,OAAO;EAAA,OAAKA,OAAO,IACxCtJ,OAAO,KACNA,OAAO,CAACvH,QAAQ,IACbuH,OAAO,CAAC3H,GAAG,IACX2H,OAAO,CAAC5H,GAAG,IACX4H,OAAO,CAAC1H,SAAS,IACjB0H,OAAO,CAACzH,SAAS,IACjByH,OAAO,CAACxH,OAAO,IACfwH,OAAO,CAACtH,QAAQ,CAAC;AAAA;;ACNlB,SAAS6Q,SAASA,CAACrT,MAAM,EAAEyC,MAAM,EAAE;EACtC,IAAIgN,WAAW,CAACzP,MAAM,CAAC,IAAIyP,WAAW,CAAChN,MAAM,CAAC,EAAE;IAC5C,OAAOA,MAAM;;EAEjB,KAAK,IAAMnB,GAAG,IAAImB,MAAM,EAAE;IACtB,IAAM6Q,WAAW,GAAGtT,MAAM,CAACsB,GAAG,CAAC;IAC/B,IAAMiS,WAAW,GAAG9Q,MAAM,CAACnB,GAAG,CAAC;IAC/B,IAAI;MACAtB,MAAM,CAACsB,GAAG,CAAC,GACNvB,QAAQ,CAACuT,WAAW,CAAC,IAAIvT,QAAQ,CAACwT,WAAW,CAAC,IAC1C5T,KAAK,CAACC,OAAO,CAAC0T,WAAW,CAAC,IAAI3T,KAAK,CAACC,OAAO,CAAC2T,WAAW,CAAE,GACxDF,SAAS,CAACC,WAAW,EAAEC,WAAW,CAAC,GACnCA,WAAW;KACxB,CACD,OAAOC,EAAE,EAAE;;EAEf,OAAOxT,MAAM;AACjB;;ACdA,SAASyT,cAAcA,CAACzM,MAAM,EAAE0M,aAAa,EAAE1O,WAAW,EAAE2O,UAAU,EAAEC,UAAU,EAAE;EAChF,IAAI/K,KAAK,GAAG,CAAC,CAAC;EACd,OAAO,EAAEA,KAAK,GAAG7B,MAAM,CAACjD,MAAM,EAAE;IAC5B,KAAK,IAAMzC,GAAG,IAAI0F,MAAM,CAAC6B,KAAK,CAAC,EAAE;MAC7B,IAAIlJ,KAAK,CAACC,OAAO,CAACoH,MAAM,CAAC6B,KAAK,CAAC,CAACvH,GAAG,CAAC,CAAC,EAAE;QACnC,CAAC0D,WAAW,CAAC6D,KAAK,CAAC,KAAK7D,WAAW,CAAC6D,KAAK,CAAC,GAAG,EAAE,CAAC;QAChD7D,WAAW,CAAC6D,KAAK,CAAC,CAACvH,GAAG,CAAC,GAAG,EAAE;QAC5BmS,cAAc,CAACzM,MAAM,CAAC6B,KAAK,CAAC,CAACvH,GAAG,CAAC,EAAEuC,GAAG,CAAC6P,aAAa,CAAC7K,KAAK,CAAC,IAAI,EAAE,EAAEvH,GAAG,EAAE,EAAE,CAAC,EAAE0D,WAAW,CAAC6D,KAAK,CAAC,CAACvH,GAAG,CAAC,EAAE0D,WAAW,CAAC6D,KAAK,CAAC,EAAEvH,GAAG,CAAC;OACjI,MACI;QAAA,IAAAgH,cAAA;QACD,CAAC5I,iBAAiB,CAACgU,aAAa,CAAC,IAC7BpE,SAAS,CAACzL,GAAG,CAAC6P,aAAa,CAAC7K,KAAK,CAAC,IAAI,EAAE,EAAEvH,GAAG,CAAC,EAAE0F,MAAM,CAAC6B,KAAK,CAAC,CAACvH,GAAG,CAAC,CAAC,GACjEqH,GAAG,CAAC3D,WAAW,CAAC6D,KAAK,CAAC,IAAI,EAAE,EAAEvH,GAAG,CAAC,GACjC0D,WAAW,CAAC6D,KAAK,CAAC,GAAGlG,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEoC,WAAW,CAAC6D,KAAK,CAAC,CAAC,GAAAP,cAAA,OAAAA,cAAA,CAAKhH,GAAG,IAAG,IAAI,EAAAgH,cAAA,EAAI;;;IAG1GqL,UAAU,IACN,CAAC3O,WAAW,CAACjB,MAAM,IACnB,OAAO4P,UAAU,CAACC,UAAU,CAAC;;EAErC,OAAO5O,WAAW;AACtB;AACA,gCAAe,UAACgC,MAAM,EAAE0M,aAAa,EAAE1O,WAAW;EAAA,OAAKqO,SAAS,CAACI,cAAc,CAACzM,MAAM,EAAE0M,aAAa,EAAE1O,WAAW,CAACgG,KAAK,CAAC,CAAC,EAAEhE,MAAM,CAACjD,MAAM,CAAC,CAAC,EAAE0P,cAAc,CAACC,aAAa,EAAE1M,MAAM,EAAEhC,WAAW,CAACgG,KAAK,CAAC,CAAC,EAAEhE,MAAM,CAACjD,MAAM,CAAC,CAAC,CAAC;AAAA;;AC3BxN,sBAAe,UAAAM,IAAA,EAAkI;EAAA,IAA/H6L,QAAQ,GAAA7L,IAAA,CAAR6L,QAAQ;IAAEC,UAAU,GAAA9L,IAAA,CAAV8L,UAAU;IAAEE,SAAS,GAAAhM,IAAA,CAATgM,SAAS;IAAEpI,SAAS,GAAA5D,IAAA,CAAT4D,SAAS;IAAE4L,kBAAkB,GAAAxP,IAAA,CAAlBwP,kBAAkB;IAAEC,oBAAoB,GAAAzP,IAAA,CAApByP,oBAAoB;IAAEC,WAAW,GAAA1P,IAAA,CAAX0P,WAAW;IAAEC,WAAW,GAAA3P,IAAA,CAAX2P,WAAW;IAAE5D,OAAO,GAAA/L,IAAA,CAAP+L,OAAO;EACvI,IAAIA,OAAO,EAAE;IACT,OAAO,KAAK;GACf,MACI,IAAI,CAAC4D,WAAW,IAAI3D,SAAS,EAAE;IAChC,OAAO,EAAEpI,SAAS,IAAI8L,WAAW,CAAC;GACrC,MACI,IAAIC,WAAW,GAAGH,kBAAkB,GAAG3D,QAAQ,EAAE;IAClD,OAAO,CAAC6D,WAAW;GACtB,MACI,IAAIC,WAAW,GAAGF,oBAAoB,GAAG3D,UAAU,EAAE;IACtD,OAAO4D,WAAW;;EAEtB,OAAO,IAAI;AACb,CAAC;;ACVD,uBAAe,UAACtM,GAAG,EAAEtH,IAAI;EAAA,OACvB,CAACgB,OAAO,CAAC0C,GAAG,CAAC4D,GAAG,EAAEtH,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC4D,MAAM,IAAIiI,KAAK,CAACvE,GAAG,EAAEtH,IAAI,CAAC;AAAA;;ACHzD,iBAAe,UAACX,KAAK;EAAA,OAAKyU,QAAQ,CAACzU,KAAK,CAAC,IAAIsD,oBAAoB,CAACtD,KAAK,CAAC;AAAA;;ACFxE,eAAe,UAACA,KAAK;EAAA,OAAKA,KAAK,YAAY0U,MAAM;AAAA;;ACElC,SAASC,gBAAgBA,CAACjT,MAAM,EAAEuG,GAAG,EAAEpI,IAAI,EAAe;EAAA,IAAnBA,IAAI;IAAJA,IAAI,GAAG,UAAU;;EACnE,IAAI+U,SAAS,CAAClT,MAAM,CAAC,IAChBvB,KAAK,CAACC,OAAO,CAACsB,MAAM,CAAC,IAAIA,MAAM,CAACmT,KAAK,CAACD,SAAS,CAAE,IACjD7H,SAAS,CAACrL,MAAM,CAAC,IAAI,CAACA,MAAO,EAAE;IAChC,OAAO;MACH7B,IAAI,EAAJA,IAAI;MACJwI,OAAO,EAAEuM,SAAS,CAAClT,MAAM,CAAC,GAAGA,MAAM,GAAG,EAAE;MACxCuG,GAAG,EAAHA;KACH;;AAET;;ACTA,0BAAe,UAAC6M,cAAc;EAAA,OAC5BvU,QAAQ,CAACuU,cAAc,CAAC,IAAI,CAACC,OAAO,CAACD,cAAc,CAAC,GAChDA,cAAc,GACd;IACE9U,KAAK,EAAE8U,cAAc;IACrBzM,OAAO,EAAE;GACV;AAAA;;ACQP,+BAAsBlB,KAAK,EAAE6N,UAAU,EAAEnM,wBAAwB,EAAE8K,yBAAyB;EAAA,IAAK;IAAA,IAAAsB,MAAA,YAAAA,OAAAC,QAAA;MAAA,IAAAC,KAAA,SAAAD,QAAA;MAsI7FE,gBAAgB,CAAC,IAAI,CAAC;MACtB,OAAO1M,KAAK;;IAAC,IAAAyM,KAAA;IAtIb,IAAAE,SAAA,GAAgHlO,KAAK,CAACE,EAAE;MAAhHY,GAAG,GAAAoN,SAAA,CAAHpN,GAAG;MAAEoC,IAAI,GAAAgL,SAAA,CAAJhL,IAAI;MAAEtH,QAAQ,GAAAsS,SAAA,CAARtS,QAAQ;MAAEH,SAAS,GAAAyS,SAAA,CAATzS,SAAS;MAAEC,SAAS,GAAAwS,SAAA,CAATxS,SAAS;MAAEF,GAAG,GAAA0S,SAAA,CAAH1S,GAAG;MAAED,GAAG,GAAA2S,SAAA,CAAH3S,GAAG;MAAEI,OAAO,GAAAuS,SAAA,CAAPvS,OAAO;MAAEE,QAAQ,GAAAqS,SAAA,CAARrS,QAAQ;MAAErC,IAAI,GAAA0U,SAAA,CAAJ1U,IAAI;MAAE6R,aAAa,GAAA6C,SAAA,CAAb7C,aAAa;MAAElL,KAAK,GAAA+N,SAAA,CAAL/N,KAAK;IAC1G,IAAI,CAACA,KAAK,EAAE;MACR,OAAAgO,OAAA,CAAAC,OAAA,CAAO,EAAE;;IAEb,IAAMC,QAAQ,GAAGnL,IAAI,GAAGA,IAAI,CAAC,CAAC,CAAC,GAAGpC,GAAG;IACrC,IAAMmN,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAI/M,OAAO,EAAK;MAClC,IAAIsL,yBAAyB,IAAI6B,QAAQ,CAAClN,cAAc,EAAE;QACtDkN,QAAQ,CAACpN,iBAAiB,CAAC2E,SAAS,CAAC1E,OAAO,CAAC,GAAG,EAAE,GAAGA,OAAO,IAAI,GAAG,CAAC;QACpEmN,QAAQ,CAAClN,cAAc,EAAE;;KAEhC;IACD,IAAMI,KAAK,GAAG,EAAE;IAChB,IAAM+M,OAAO,GAAG1E,YAAY,CAAC9I,GAAG,CAAC;IACjC,IAAMqL,UAAU,GAAG7S,eAAe,CAACwH,GAAG,CAAC;IACvC,IAAMyN,iBAAiB,GAAGD,OAAO,IAAInC,UAAU;IAC/C,IAAMqC,OAAO,GAAI,CAACnD,aAAa,IAAIS,WAAW,CAAChL,GAAG,CAAC,KAAK,CAACA,GAAG,CAACjI,KAAK,IAC9DgV,UAAU,KAAK,EAAE,IAChB7U,KAAK,CAACC,OAAO,CAAC4U,UAAU,CAAC,IAAI,CAACA,UAAU,CAACzQ,MAAO;IACrD,IAAMqR,iBAAiB,GAAGC,YAAY,CAACC,IAAI,CAAC,IAAI,EAAEnV,IAAI,EAAEkI,wBAAwB,EAAEH,KAAK,CAAC;IACxF,IAAMqN,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,SAAS,EAAEC,gBAAgB,EAAEC,gBAAgB,EAAEC,OAAO,EAAqCC,OAAO,EAAwC;MAAA,IAA3FD,OAAO;QAAPA,OAAO,GAAG1T,sBAAsB,CAACG,SAAS;;MAAA,IAAEwT,OAAO;QAAPA,OAAO,GAAG3T,sBAAsB,CAACI,SAAS;;MAC3J,IAAMwF,OAAO,GAAG2N,SAAS,GAAGC,gBAAgB,GAAGC,gBAAgB;MAC/DxN,KAAK,CAAC/H,IAAI,CAAC,GAAGwC,MAAM,CAACC,MAAM,CAAC;QAAEvD,IAAI,EAAEmW,SAAS,GAAGG,OAAO,GAAGC,OAAO;QAAE/N,OAAO,EAAPA,OAAO;QACtEJ,GAAG,EAAHA;OAAK,EAAE2N,iBAAiB,CAACI,SAAS,GAAGG,OAAO,GAAGC,OAAO,EAAE/N,OAAO,CAAC,CAAC;KACxE;IACD,IAAItF,QAAQ,KACN,CAAC2S,iBAAiB,KAAKC,OAAO,IAAIzV,iBAAiB,CAAC8U,UAAU,CAAC,CAAC,IAC7DjI,SAAS,CAACiI,UAAU,CAAC,IAAI,CAACA,UAAW,IACrC1B,UAAU,IAAI,CAACC,gBAAgB,CAAClJ,IAAI,CAAC,CAAC1E,OAAQ,IAC9C8P,OAAO,IAAI,CAACtC,aAAa,CAAC9I,IAAI,CAAC,CAAC1E,OAAQ,CAAC,EAAE;MAChD,IAAAd,IAAA,GAA2B+P,SAAS,CAAC7R,QAAQ,CAAC,GACxC;UAAE/C,KAAK,EAAE,CAAC,CAAC+C,QAAQ;UAAEsF,OAAO,EAAEtF;SAAU,GACxCsT,kBAAkB,CAACtT,QAAQ,CAAC;QAF1B/C,KAAK,GAAA6E,IAAA,CAAL7E,KAAK;QAAEqI,OAAO,GAAAxD,IAAA,CAAPwD,OAAO;MAGtB,IAAIrI,KAAK,EAAE;QACP0I,KAAK,CAAC/H,IAAI,CAAC,GAAGwC,MAAM,CAACC,MAAM,CAAC;UAAEvD,IAAI,EAAE4C,sBAAsB,CAACM,QAAQ;UAAEsF,OAAO,EAAPA,OAAO;UAAEJ,GAAG,EAAEuN;SAAU,EAAEI,iBAAiB,CAACnT,sBAAsB,CAACM,QAAQ,EAAEsF,OAAO,CAAC,CAAC;QAC3J,IAAI,CAACQ,wBAAwB,EAAE;UAC3BuM,gBAAgB,CAAC/M,OAAO,CAAC;UACzB,OAAAiN,OAAA,CAAAC,OAAA,CAAO7M,KAAK;;;;IAIxB,IAAI,CAACiN,OAAO,KAAK,CAACzV,iBAAiB,CAACyC,GAAG,CAAC,IAAI,CAACzC,iBAAiB,CAACwC,GAAG,CAAC,CAAC,EAAE;MAClE,IAAIsT,SAAS;MACb,IAAIM,SAAS;MACb,IAAMC,SAAS,GAAGF,kBAAkB,CAAC3T,GAAG,CAAC;MACzC,IAAM8T,SAAS,GAAGH,kBAAkB,CAAC1T,GAAG,CAAC;MACzC,IAAI,CAACiH,KAAK,CAACoL,UAAU,CAAC,EAAE;QACpB,IAAMyB,WAAW,GAAGxO,GAAG,CAACuK,aAAa,IAAIkE,UAAU,CAAC1B,UAAU,CAAC;QAC/D,IAAI,CAAC9U,iBAAiB,CAACqW,SAAS,CAACvW,KAAK,CAAC,IAAIuW,SAAS,CAACvW,KAAK,IAAI,EAAE,EAAE;UAC9DgW,SAAS,GAAGS,WAAW,GAAGF,SAAS,CAACvW,KAAK;;QAE7C,IAAI,CAACE,iBAAiB,CAACsW,SAAS,CAACxW,KAAK,CAAC,IAAIwW,SAAS,CAACxW,KAAK,IAAI,EAAE,EAAE;UAC9DsW,SAAS,GAAGG,WAAW,GAAGD,SAAS,CAACxW,KAAK;;OAEhD,MACI;QACD,IAAM2W,SAAS,GAAG1O,GAAG,CAACwK,WAAW,IAAI,IAAI1S,IAAI,CAACiV,UAAU,CAAC;QACzD,IAAIP,QAAQ,CAAC8B,SAAS,CAACvW,KAAK,CAAC,EAAE;UAC3BgW,SAAS,GAAGW,SAAS,GAAG,IAAI5W,IAAI,CAACwW,SAAS,CAACvW,KAAK,CAAC;;QAErD,IAAIyU,QAAQ,CAAC+B,SAAS,CAACxW,KAAK,CAAC,EAAE;UAC3BsW,SAAS,GAAGK,SAAS,GAAG,IAAI5W,IAAI,CAACyW,SAAS,CAACxW,KAAK,CAAC;;;MAGzD,IAAIgW,SAAS,IAAIM,SAAS,EAAE;QACxBP,gBAAgB,CAAC,CAAC,CAACC,SAAS,EAAEO,SAAS,CAAClO,OAAO,EAAEmO,SAAS,CAACnO,OAAO,EAAE5F,sBAAsB,CAACC,GAAG,EAAED,sBAAsB,CAACE,GAAG,CAAC;QAC3H,IAAI,CAACkG,wBAAwB,EAAE;UAC3BuM,gBAAgB,CAAC1M,KAAK,CAAC/H,IAAI,CAAC,CAAC0H,OAAO,CAAC;UACrC,OAAAiN,OAAA,CAAAC,OAAA,CAAO7M,KAAK;;;;IAIxB,IAAI,CAAC9F,SAAS,IAAIC,SAAS,KAAK,CAAC8S,OAAO,IAAIlB,QAAQ,CAACO,UAAU,CAAC,EAAE;MAC9D,IAAM4B,eAAe,GAAGP,kBAAkB,CAACzT,SAAS,CAAC;MACrD,IAAMiU,eAAe,GAAGR,kBAAkB,CAACxT,SAAS,CAAC;MACrD,IAAMmT,UAAS,GAAG,CAAC9V,iBAAiB,CAAC0W,eAAe,CAAC5W,KAAK,CAAC,IACvDgV,UAAU,CAACzQ,MAAM,GAAGqS,eAAe,CAAC5W,KAAK;MAC7C,IAAMsW,UAAS,GAAG,CAACpW,iBAAiB,CAAC2W,eAAe,CAAC7W,KAAK,CAAC,IACvDgV,UAAU,CAACzQ,MAAM,GAAGsS,eAAe,CAAC7W,KAAK;MAC7C,IAAIgW,UAAS,IAAIM,UAAS,EAAE;QACxBP,gBAAgB,CAACC,UAAS,EAAEY,eAAe,CAACvO,OAAO,EAAEwO,eAAe,CAACxO,OAAO,CAAC;QAC7E,IAAI,CAACQ,wBAAwB,EAAE;UAC3BuM,gBAAgB,CAAC1M,KAAK,CAAC/H,IAAI,CAAC,CAAC0H,OAAO,CAAC;UACrC,OAAAiN,OAAA,CAAAC,OAAA,CAAO7M,KAAK;;;;IAIxB,IAAI5F,OAAO,IAAI,CAAC6S,OAAO,IAAIlB,QAAQ,CAACO,UAAU,CAAC,EAAE;MAC7C,IAAA8B,mBAAA,GAAyCT,kBAAkB,CAACvT,OAAO,CAAC;QAArDiU,YAAY,GAAAD,mBAAA,CAAnB9W,KAAK;QAAgBqI,QAAO,GAAAyO,mBAAA,CAAPzO,OAAO;MAEpC,IAAI0M,OAAO,CAAC,IAAIL,MAAM,CAACqC,YAAY,CAAC,CAAC,IAAI,CAAC/B,UAAU,CAACgC,KAAK,CAACD,YAAY,CAAC,EAAE;QACtErO,KAAK,CAAC/H,IAAI,CAAC,GAAGwC,MAAM,CAACC,MAAM,CAAC;UAAEvD,IAAI,EAAE4C,sBAAsB,CAACK,OAAO;UAAEuF,OAAO,EAAPA,QAAO;UACvEJ,GAAG,EAAHA;SAAK,EAAE2N,iBAAiB,CAACnT,sBAAsB,CAACK,OAAO,EAAEuF,QAAO,CAAC,CAAC;QACtE,IAAI,CAACQ,wBAAwB,EAAE;UAC3BuM,gBAAgB,CAAC/M,QAAO,CAAC;UACzB,OAAAiN,OAAA,CAAAC,OAAA,CAAO7M,KAAK;;;;IAGvB,IAAAuO,MAAA;MAAA,IACGjU,QAAQ;QAAA;UAAA,IACJkU,UAAU,CAAClU,QAAQ,CAAC;YAAA,OAAAsS,OAAA,CAAAC,OAAA,CACCvS,QAAQ,CAACgS,UAAU,CAAC,EAAAmC,IAAA,WAAnCzV,MAAM;cACZ,IAAM0V,aAAa,GAAGzC,gBAAgB,CAACjT,MAAM,EAAE8T,QAAQ,CAAC;cAAC,IACrD4B,aAAa;gBACb1O,KAAK,CAAC/H,IAAI,CAAC,GAAGwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEgU,aAAa,CAAC,EAAExB,iBAAiB,CAACnT,sBAAsB,CAACO,QAAQ,EAAEoU,aAAa,CAAC/O,OAAO,CAAC,CAAC;gBAAC,IACrI,CAACQ,wBAAwB;kBACzBuM,gBAAgB,CAACgC,aAAa,CAAC/O,OAAO,CAAC;kBAAC8M,KAAA;kBAAA,OACjCzM,KAAK;;;;;YAAA,IAIfnI,QAAQ,CAACyC,QAAQ,CAAC;cAAA,IAAAqU,MAAA,YAAAA;gBAAA,IAenB,CAAC5S,aAAa,CAAC6S,iBAAgB,CAAC;kBAChC5O,KAAK,CAAC/H,IAAI,CAAC,GAAGwC,MAAM,CAACC,MAAM,CAAC;oBAAE6E,GAAG,EAAEuN;mBAAU,EAAE8B,iBAAgB,CAAC;kBAAC,IAC7D,CAACzO,wBAAwB;oBAAAsM,KAAA;oBAAA,OAClBzM,KAAK;;;;cAAA,IAAA6O,UAAA;cAjBpB,IAAID,iBAAgB,GAAG,EAAE;cAAC,IAAAE,KAAA,GAAAC,MAAA,CACRzU,QAAQ,YAAflB,GAAG,EAAc;gBACxB,IAAI,CAAC2C,aAAa,CAAC6S,iBAAgB,CAAC,IAAI,CAACzO,wBAAwB,EAAE;kBAAA0O,UAAA;kBAAA;;gBAElE,OAAAjC,OAAA,CAAAC,OAAA,CAC4CvS,QAAQ,CAAClB,GAAG,CAAC,CAACkT,UAAU,CAAC,EAAAmC,IAAA,WAAAO,aAAA;kBAAtE,IAAMN,aAAa,GAAGzC,gBAAgB,CAAA+C,aAAA,EAAkClC,QAAQ,EAAE1T,GAAG,CAAC;kBAAC,IACnFsV,aAAa;oBACbE,iBAAgB,GAAGnU,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEgU,aAAa,CAAC,EAAExB,iBAAiB,CAAC9T,GAAG,EAAEsV,aAAa,CAAC/O,OAAO,CAAC,CAAC;oBACjH+M,gBAAgB,CAACgC,aAAa,CAAC/O,OAAO,CAAC;oBAAC,IACpCQ,wBAAwB;sBACxBH,KAAK,CAAC/H,IAAI,CAAC,GAAG2W,iBAAgB;;;;eAGzC;gBAAA,OAAAC,UAAA;;cAAA,OAAAC,KAAA,IAAAA,KAAA,CAAAL,IAAA,GAAAK,KAAA,CAAAL,IAAA,CAAAE,MAAA,IAAAA,MAAA,CAAAG,KAAA;;;;;;IAAA,OAAAlC,OAAA,CAAAC,OAAA,CAAA0B,MAAA,IAAAA,MAAA,CAAAE,IAAA,GAAAF,MAAA,CAAAE,IAAA,CAAAlC,MAAA,IAAAA,MAAA,CAAAgC,MAAA;GAWZ,QAAAU,CAAA;IAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;AAAA;;ACpHD,IAAME,cAAc,GAAG;EACnBrH,IAAI,EAAErO,eAAe,CAACG,QAAQ;EAC9BwV,cAAc,EAAE3V,eAAe,CAACE,QAAQ;EACxC0V,gBAAgB,EAAE;AACtB,CAAC;AACD,IAAMC,iBAAiB,GAAG,OAAOrI,MAAM,KAAK,WAAW;AACvD,AAAO,SAASsI,mBAAmBA,CAACvU,KAAK,EAAO;EAAA,IAAZA,KAAK;IAALA,KAAK,GAAG,EAAE;;EAC1C,IAAIwU,WAAW,GAAG/U,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEyU,cAAc,CAAC,EAAEnU,KAAK,CAAC;EACzE,IAAIyU,cAAc;EAClB,IAAI/S,UAAU,GAAG;IACbG,OAAO,EAAE,KAAK;IACdG,YAAY,EAAE,KAAK;IACnBF,WAAW,EAAE,EAAE;IACfgP,WAAW,EAAE,KAAK;IAClB4D,WAAW,EAAE,CAAC;IACd3S,aAAa,EAAE,EAAE;IACjB4S,YAAY,EAAE,KAAK;IACnBC,kBAAkB,EAAE,KAAK;IACzB3S,OAAO,EAAE,KAAK;IACdC,MAAM,EAAE;GACX;EACD,IAAM7B,eAAe,GAAG;IACpBwB,OAAO,EAAE,KAAK;IACdC,WAAW,EAAE,KAAK;IAClBC,aAAa,EAAE,KAAK;IACpBC,YAAY,EAAE,KAAK;IACnBC,OAAO,EAAE,KAAK;IACdC,MAAM,EAAE;GACX;EACD,IAAIwB,OAAO,GAAG,EAAE;EAChB,IAAIT,WAAW,GAAG,EAAE;EACpB,IAAIC,cAAc,GAAGsR,WAAW,CAAChE,aAAa,IAAI,EAAE;EACpD,IAAIpM,WAAW,GAAG,KAAK;EACvB,IAAIyQ,UAAU,GAAG,KAAK;EACtB,IAAMzS,SAAS,GAAG;IACd6I,KAAK,EAAE,IAAImD,OAAO,EAAE;IACpB/M,OAAO,EAAE,IAAI+M,OAAO,EAAE;IACtBjK,KAAK,EAAE,IAAIiK,OAAO,EAAE;IACpB/L,KAAK,EAAE,IAAI+L,OAAO;GACrB;EACD,IAAIlK,MAAM,GAAG;IACTN,KAAK,EAAE,IAAIkR,GAAG,EAAE;IAChBC,OAAO,EAAE,IAAID,GAAG,EAAE;IAClB3Q,KAAK,EAAE,IAAI2Q,GAAG,EAAE;IAChB7J,KAAK,EAAE,IAAI6J,GAAG,EAAE;IAChB9J,QAAQ,EAAE;GACb;EACD,IAAMgK,cAAc,GAAGC,kBAAkB,CAACT,WAAW,CAAC1H,IAAI,CAAC;EAC3D,IAAMoI,0BAA0B,GAAGV,WAAW,CAACxE,YAAY,KAAKvR,eAAe,CAACK,GAAG;EACnF,IAAMqW,cAAc,GAAG,SAAjBA,cAAcA,CAAIlY,IAAI;IAAA,OAAKiH,MAAM,CAAC8G,QAAQ,IAC5C9G,MAAM,CAAC+G,KAAK,CAACmK,GAAG,CAACnY,IAAI,CAAC,IACtBiH,MAAM,CAAC+G,KAAK,CAACmK,GAAG,CAAC,CAACnY,IAAI,CAACqW,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;;EAClD,IAAM+B,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIpY,IAAI,EAAE+H,KAAK,EAAK;IACtCS,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAE+H,KAAK,CAAC;IACnC5C,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBL,MAAM,EAAER,UAAU,CAACQ;KACtB,CAAC;GACL;EACD,IAAMoT,uBAAuB,YAAvBA,uBAAuBA,GAAe;IAAA,OAAA1D,OAAA,CAAAC,OAAA,CAClB0D,YAAY,CAAC7R,OAAO,EAAE,IAAI,CAAC,EAAA+P,IAAA,WAA3CxR,OAAO;MAAA,IACTA,OAAO,KAAKP,UAAU,CAACO,OAAO;QAC9BP,UAAU,CAACO,OAAO,GAAGA,OAAO;QAC5BG,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;UACjBN,OAAO,EAAPA;SACH,CAAC;;;GAET;EACD,IAAMuT,uBAAuB,YAAvBA,uBAAuBA,CAAUC,gBAAgB,EAAExY,IAAI,EAAE+H,KAAK,EAAEH,UAAU,EAAE6Q,mBAAmB,EAAEC,SAAS;IAAA,IAAK;MACjH,IAAMC,aAAa,GAAGjV,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC;MAClD,IAAMgF,OAAO,GAAG,CAAC,EAAE5B,eAAe,CAAC4B,OAAO,KACrCuS,WAAW,CAACqB,QAAQ,GAAGH,mBAAmB,GAAGJ,uBAAuB,EAAE,CAAC,CAAC;MAC7E,IAAItV,KAAK,CAAC8V,UAAU,IAAI9Q,KAAK,EAAE;QAC3ByP,cAAc,GACVA,cAAc,IAAIsB,QAAQ,CAACV,gBAAgB,EAAErV,KAAK,CAAC8V,UAAU,CAAC;QAClErB,cAAc,CAACxX,IAAI,EAAE+H,KAAK,CAAC;OAC9B,MACI;QACDA,KAAK,GACCS,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAE+H,KAAK,CAAC,GACnC8D,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC;;MAExC,IAAI,CAAC0Y,SAAS,KACT3Q,KAAK,GAAG,CAACoH,SAAS,CAACwJ,aAAa,EAAE5Q,KAAK,CAAC,GAAG4Q,aAAa,CAAC,IAC1D,CAAC7U,aAAa,CAAC8D,UAAU,CAAC,IAC1BnD,UAAU,CAACO,OAAO,KAAKA,OAAO,KAC9B,CAACwT,gBAAgB,EAAE;QACnB,IAAMO,gBAAgB,GAAGvW,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEmF,UAAU,CAAC,EAAGxE,eAAe,CAAC4B,OAAO,IAAIuS,WAAW,CAACqB,QAAQ,GAAG;UAAE5T,OAAO,EAAPA;SAAS,GAAG,EAAG,CAAC,EAAE;UAAEC,MAAM,EAAER,UAAU,CAACQ,MAAM;UAAEjF,IAAI,EAAJA;SAAM,CAAC;QAC/LyE,UAAU,GAAGjC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEgC,UAAU,CAAC,EAAEsU,gBAAgB,CAAC;QAE3E5T,SAAS,CAACC,KAAK,CAACE,IAAI,CAACoT,SAAS,GAAG;UAAE1Y,IAAI,EAAJA;SAAM,GAAG+Y,gBAAgB,CAAC;;MAEjE5T,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;QACjBP,YAAY,EAAE;OACjB,CAAC;MAAC,OAAA4P,OAAA,CAAAC,OAAA;KACN,QAAAoC,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMgC,aAAa,GAAG,SAAhBA,aAAaA,CAAIhZ,IAAI,EAAEX,KAAK,EAAEsK,OAAO,EAAOsP,YAAY,EAAK;IAAA,IAA/BtP,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAC5C,IAAMnD,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAEhC,IAAIwG,KAAK,EAAE;MACP,IAAME,EAAE,GAAGF,KAAK,CAACE,EAAE;MACnB,IAAIA,EAAE,EAAE;QAEJ8B,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAE6S,eAAe,CAACxT,KAAK,EAAEqH,EAAE,CAAC,CAAC;QAClD,IAAMwS,UAAU,GAAGC,KAAK,IAAIC,aAAa,CAAC1S,EAAE,CAACY,GAAG,CAAC,IAAI/H,iBAAiB,CAACF,KAAK,CAAC,GACvE,EAAE,GACFA,KAAK;QACX,IAAIiT,WAAW,CAAC5L,EAAE,CAACY,GAAG,CAAC,IAAI,CAACwM,QAAQ,CAACoF,UAAU,CAAC,EAAE;UAC9CxS,EAAE,CAACY,GAAG,CAACiL,KAAK,GAAG2G,UAAU;SAC5B,MACI,IAAIzG,gBAAgB,CAAC/L,EAAE,CAACY,GAAG,CAAC,EAAE;UAC/B,GAAAlH,MAAA,CAAIsG,EAAE,CAACY,GAAG,CAACqC,OAAO,EAAE0P,OAAO,CAAC,UAACC,SAAS;YAAA,OAAMA,SAAS,CAACrH,QAAQ,GAAGiH,UAAU,CAAC1T,QAAQ,CAAC8T,SAAS,CAACja,KAAK,CAAC;WAAC,CAAC;SAC1G,MACI,IAAIqH,EAAE,CAACgD,IAAI,EAAE;UACd,IAAI5J,eAAe,CAAC4G,EAAE,CAACY,GAAG,CAAC,EAAE;YACzBZ,EAAE,CAACgD,IAAI,CAAC9F,MAAM,GAAG,CAAC,GACZ8C,EAAE,CAACgD,IAAI,CAAC2P,OAAO,CAAC,UAACE,WAAW;cAAA,OAAMA,WAAW,CAACxZ,OAAO,GAAGP,KAAK,CAACC,OAAO,CAACyZ,UAAU,CAAC,GAC7E,CAAC,CAACA,UAAU,CAACnV,IAAI,CAAC,UAAC5E,IAAI;gBAAA,OAAKA,IAAI,KAAKoa,WAAW,CAACla,KAAK;gBAAC,GACvD6Z,UAAU,KAAKK,WAAW,CAACla,KAAK;aAAC,CAAC,GACrCqH,EAAE,CAACgD,IAAI,CAAC,CAAC,CAAC,CAAC3J,OAAO,GAAG,CAAC,CAACmZ,UAAW;WAC5C,MACI;YACDxS,EAAE,CAACgD,IAAI,CAAC2P,OAAO,CAAC,UAACG,QAAQ;cAAA,OAAMA,QAAQ,CAACzZ,OAAO,GAAGyZ,QAAQ,CAACna,KAAK,KAAK6Z,UAAU;aAAC,CAAC;;SAExF,MACI;UACDxS,EAAE,CAACY,GAAG,CAACjI,KAAK,GAAG6Z,UAAU;;QAE7B,IAAID,YAAY,EAAE;UACd9T,SAAS,CAACf,OAAO,CAACkB,IAAI,CAAC;YACnBuB,MAAM,EAAE4S,SAAS,EAAE;YACnBzZ,IAAI,EAAJA;WACH,CAAC;;QAEN,CAAC2J,OAAO,CAAC+P,WAAW,IAAI/P,OAAO,CAACgQ,WAAW,KACvCC,wBAAwB,CAAC5Z,IAAI,EAAEkZ,UAAU,EAAEvP,OAAO,CAACgQ,WAAW,CAAC;QACnEhQ,OAAO,CAACkQ,cAAc,IAAIC,OAAO,CAAC9Z,IAAI,CAAC;;;GAGlD;EACD,IAAM4Z,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAI5Z,IAAI,EAAEqU,UAAU,EAAE0F,gBAAgB,EAAEd,YAAY,EAAY;IAAA,IAAxBA,YAAY;MAAZA,YAAY,GAAG,IAAI;;IACrF,IAAM7T,KAAK,GAAG;MACVpF,IAAI,EAAJA;KACH;IACD,IAAIga,SAAS,GAAG,KAAK;IACrB,IAAI5W,eAAe,CAACwB,OAAO,EAAE;MACzB,IAAMqV,eAAe,GAAGxV,UAAU,CAACG,OAAO;MAC1CH,UAAU,CAACG,OAAO,GAAGsV,WAAW,EAAE;MAClC9U,KAAK,CAACR,OAAO,GAAGH,UAAU,CAACG,OAAO;MAClCoV,SAAS,GAAGC,eAAe,KAAK7U,KAAK,CAACR,OAAO;;IAEjD,IAAIxB,eAAe,CAACyB,WAAW,IAAI,CAACkV,gBAAgB,EAAE;MAClD,IAAMI,oBAAoB,GAAGzW,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,CAAC;MAC9D,IAAMoa,mBAAmB,GAAG,CAACjL,SAAS,CAACzL,GAAG,CAACuC,cAAc,EAAEjG,IAAI,CAAC,EAAEqU,UAAU,CAAC;MAC7E+F,mBAAmB,GACb5R,GAAG,CAAC/D,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAE,IAAI,CAAC,GACvC6L,KAAK,CAACpH,UAAU,CAACI,WAAW,EAAE7E,IAAI,CAAC;MACzCoF,KAAK,CAACP,WAAW,GAAGJ,UAAU,CAACI,WAAW;MAC1CmV,SAAS,GACLA,SAAS,IAAIG,oBAAoB,KAAKzW,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,CAAC;;IAE/E,IAAMqa,sBAAsB,GAAG3W,GAAG,CAACe,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC;IAClE,IAAI+Z,gBAAgB,IAAI,CAACM,sBAAsB,EAAE;MAC7C7R,GAAG,CAAC/D,UAAU,CAACK,aAAa,EAAE9E,IAAI,EAAE+Z,gBAAgB,CAAC;MACrD3U,KAAK,CAACN,aAAa,GAAGL,UAAU,CAACK,aAAa;MAC9CkV,SAAS,GACLA,SAAS,IACJ5W,eAAe,CAAC0B,aAAa,IAC1BuV,sBAAsB,KAAKN,gBAAiB;;IAE5DC,SAAS,IAAIf,YAAY,IAAI9T,SAAS,CAACC,KAAK,CAACE,IAAI,CAACF,KAAK,CAAC;IACxD,OAAO4U,SAAS,GAAG5U,KAAK,GAAG,EAAE;GAChC;EACD,IAAMkV,eAAe,YAAfA,eAAeA,CAAUta,IAAI;IAAA,IAAK;MAAA,IAAAua,sBAAA,GAC7BhD,WAAW,CAACqB,QAAQ;MAAA,OAAAjE,OAAA,CAAAC,OAAA,CAAA2F,sBAAA,GACfhD,WAAW,CAACqB,QAAQ,CAACpW,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEuD,WAAW,CAAC,EAAEuR,WAAW,CAACiD,OAAO,EAAEC,kBAAkB,CAACza,IAAI,IAAIiH,MAAM,CAACN,KAAK,EAAEF,OAAO,EAAE8Q,WAAW,CAACxE,YAAY,EAAEwE,WAAW,CAACvE,yBAAyB,CAAC,CAAC,GACnM,EAAE;KACX,QAAAgE,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAM0D,yBAAyB,YAAzBA,yBAAyBA,CAAUva,KAAK,EAAK;IAAA,OAAAwU,OAAA,CAAAC,OAAA,CACtB0F,eAAe,EAAE,EAAA9D,IAAA,WAAAtS,IAAA;MAAA,IAAlCe,MAAM,GAAAf,IAAA,CAANe,MAAM;MACd,IAAI9E,KAAK,EAAE;QACP,SAAAmJ,SAAA,GAAAC,+BAAA,CAAmBpJ,KAAK,GAAAqJ,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;UAAA,IAAfzJ,IAAI,GAAAwJ,KAAA,CAAAnK,KAAA;UACX,IAAM0I,KAAK,GAAGrE,GAAG,CAACuB,MAAM,EAAEjF,IAAI,CAAC;UAC/B+H,KAAK,GACCS,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAE+H,KAAK,CAAC,GACnC8D,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC;;OAE3C,MACI;QACDyE,UAAU,CAACQ,MAAM,GAAGA,MAAM;;MAE9B,OAAOA,MAAM;;GAChB;EACD,IAAMqT,YAAY,YAAZA,YAAYA,CAAU7R,OAAO,EAAEkU,gBAAgB,EAAEH,OAAO;IAAA,IAAPA,OAAO;MAAPA,OAAO,GAAG;QAC7DI,KAAK,EAAE;OACV;;IAAA,IAAK;MAAA,IAAAC,MAAA,YAAAA;QA+BF,OAAOL,OAAO,CAACI,KAAK;;MAAC,IAAAhE,UAAA;MAAA,IAAAkE,MAAA,GAAAhE,MAAA,CA7BFrQ,OAAO,YAAfzG,IAAI,EAAa;QACxB,IAAMwG,KAAK,GAAGC,OAAO,CAACzG,IAAI,CAAC;QAAC,IAAAsU,MAAA;UAAA,IACxB9N,KAAK;YAAA,IAAA8P,MAAA,YAAAA;cAAA,SAAAO,MAAAkE,aAAA;gBAwBLA,aAAA;;cAA4D,OAA5Dra,IAAG,GAAAiU,OAAA,CAAAC,OAAA,CAAW0D,YAAY,CAAC5X,IAAG,EAAEia,gBAAgB,EAAEH,OAAO,CAAC,EAAAhE,IAAA,CAAAK,KAAA,IAAAA,KAAA,CAA1DnW,IAAG;;YAvBH,IAAMgG,EAAE,GAAGF,KAAK,CAACE,EAAE;YACnB,IAAMhG,IAAG,GAAGuC,IAAI,CAACuD,KAAK,EAAE,IAAI,CAAC;YAAC,IAAAkQ,MAAA;cAAA,IAE1BhQ,EAAE;gBAAA,OAAAiO,OAAA,CAAAC,OAAA,CAEuBoG,aAAa,CAACxU,KAAK,EAAE9C,GAAG,CAACsC,WAAW,EAAEU,EAAE,CAAC1G,IAAI,CAAC,EAAEiY,0BAA0B,EAAEV,WAAW,CAACvE,yBAAyB,CAAC,EAAAwD,IAAA,WAArIyE,UAAU;kBAAA,IAGZN,gBAAgB;oBAAA,IACZM,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC;sBACnBwa,OAAO,CAACI,KAAK,GAAG,KAAK;sBAAChE,UAAA;;;oBAK1B,IAAIqE,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,EAAE;sBACrBwa,OAAO,CAACI,KAAK,GAAG,KAAK;;oBAEzBK,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,GACbwI,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEyB,EAAE,CAAC1G,IAAI,EAAEib,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,CAAC,GACpD6L,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEyB,EAAE,CAAC1G,IAAI,CAAC;;;;;YAAC,OAAA0W,MAAA,IAAAA,MAAA,CAAAF,IAAA,GAAAE,MAAA,CAAAF,IAAA,CAAAF,MAAA,IAAAA,MAAA,CAAAI,MAAA;;;QAAA,IAAApC,MAAA,IAAAA,MAAA,CAAAkC,IAAA,SAAAlC,MAAA,CAAAkC,IAAA;OAKvD;QAAA,OAAAI,UAAA;;MAAA,OAAAjC,OAAA,CAAAC,OAAA,CAAAkG,MAAA,IAAAA,MAAA,CAAAtE,IAAA,GAAAsE,MAAA,CAAAtE,IAAA,CAAAqE,MAAA,IAAAA,MAAA,CAAAC,MAAA;KAEJ,QAAA9D,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMkE,YAAY,YAAZA,YAAYA,CAAAhJ,KAAA;IAAA,IAAYhT,IAAI,GAAAgT,KAAA,CAAJhT,IAAI;MAAEW,MAAM,GAAAqS,KAAA,CAANrS,MAAM;MAAAsb,YAAA,GAAAjJ,KAAA,CAAErS,MAAM;MAAIR,KAAK,GAAA8b,YAAA,CAAL9b,KAAK;MAAEW,IAAI,GAAAmb,YAAA,CAAJnb,IAAI;MAAQob,SAAS,GAAAD,YAAA,CAAfjc,IAAI;IAAA,IAAqB;MACxF,IAAI6I,KAAK;MACT,IAAI/C,OAAO;MACX,IAAMwB,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;MAAC,OAAA2U,OAAA,CAAAC,OAAA;QAAA,IAE7BpO,KAAK;UAAA,IAAA6U,MAAA,YAAAA;YA6CL,CAACzH,YAAW,IACRzO,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC;cACjBtF,IAAI,EAAJA,IAAI;cACJd,IAAI,EAAJA,IAAI;cACJ2H,MAAM,EAAE4S,SAAS;aACpB,CAAC;YACNlB,uBAAuB,CAAC,KAAK,EAAEvY,IAAI,EAAE+H,KAAK,EAAEH,WAAU,EAAE5C,OAAO,EAAE0T,UAAS,CAAC;;UAlD3E,IAAIrE,UAAU,GAAG+G,SAAS,GAAG/I,aAAa,CAAC7L,KAAK,CAAC,GAAG7F,SAAS;UAC7D0T,UAAU,GAAGjT,WAAW,CAACiT,UAAU,CAAC,GAAGhV,KAAK,GAAGgV,UAAU;UAEzD,IAAMT,YAAW,GAAG1U,IAAI,KAAKmC,MAAM,CAACC,IAAI;UACxC,IAAAga,mBAAA,GAA2EtD,kBAAkB,CAACT,WAAW,CAACJ,cAAc,CAAC;YAAvGzD,kBAAkB,GAAA4H,mBAAA,CAA5BvL,QAAQ;YAAkC4D,oBAAoB,GAAA2H,mBAAA,CAAhCtL,UAAU;UAChD,IAAMuL,oBAAoB,GAAI,CAACC,aAAa,CAAChV,KAAK,CAACE,EAAE,EAAEF,KAAK,CAACE,EAAE,CAACC,KAAK,CAAC,IAClE,CAAC4Q,WAAW,CAACqB,QAAQ,IACrB,CAAClV,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC,IAC7Byb,cAAc,CAACjZ,MAAM,CAACC,MAAM,CAAC;YAAEmR,WAAW,EAAXA,YAAW;YAAE9L,SAAS,EAAE,CAAC,CAACpE,GAAG,CAACe,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC;YAAE6T,WAAW,EAAEpP,UAAU,CAACoP,WAAW;YAAEH,kBAAkB,EAAlBA,kBAAkB;YACjJC,oBAAoB,EAApBA;WAAsB,EAAEoE,cAAc,CAAC,CAAC;UAChD,IAAMW,UAAS,GAAG,CAAC9E,YAAW,IAAIsE,cAAc,CAAClY,IAAI,CAAC;UACtD,IAAI,CAACoB,WAAW,CAACiT,UAAU,CAAC,EAAE;YAC1B7L,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAEqU,UAAU,CAAC;;UAEtC,IAAMzM,WAAU,GAAGgS,wBAAwB,CAAC5Z,IAAI,EAAEqU,UAAU,EAAET,YAAW,EAAE,KAAK,CAAC;UACjF,IAAMqF,YAAY,GAAG,CAACnV,aAAa,CAAC8D,WAAU,CAAC,IAAI8Q,UAAS;UAC5D,IAAI6C,oBAAoB,EAAE;YACtB,CAAC3H,YAAW,IACRzO,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC;cACjBtF,IAAI,EAAJA,IAAI;cACJd,IAAI,EAAJA;aACH,CAAC;YACN,OAAQ+Z,YAAY,IAChB9T,SAAS,CAACC,KAAK,CAACE,IAAI,CAACoT,UAAS,GAAG;cAAE1Y,IAAI,EAAJA;aAAM,GAAGwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEmF,WAAU,CAAC,EAAE;cAAE5H,IAAI,EAAJA;aAAM,CAAC,CAAC;;UAE3GmF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;YACjBP,YAAY,EAAE;WACjB,CAAC;UAAC,IAAA2W,MAAA;YAAA,IACCnE,WAAW,CAACqB,QAAQ;cAAA,OAAAjE,OAAA,CAAAC,OAAA,CACK0F,eAAe,CAAC,CAACta,IAAI,CAAC,CAAC,EAAAwW,IAAA,WAAAmF,KAAA;gBAAA,IAAxC1W,MAAM,GAAA0W,KAAA,CAAN1W,MAAM;gBACd8C,KAAK,GAAGrE,GAAG,CAACuB,MAAM,EAAEjF,IAAI,CAAC;gBACzB,IAAIF,eAAe,CAACD,MAAM,CAAC,IAAI,CAACkI,KAAK,EAAE;kBACnC,IAAM6T,cAAc,GAAGrb,iBAAiB,CAACP,IAAI,CAAC;kBAC9C,IAAM6b,QAAQ,GAAGnY,GAAG,CAACuB,MAAM,EAAE2W,cAAc,EAAE,EAAE,CAAC;kBAChDC,QAAQ,CAAC3c,IAAI,IAAI2c,QAAQ,CAACnU,OAAO,KAAKK,KAAK,GAAG8T,QAAQ,CAAC;kBACvD,IAAIA,QAAQ,IAAInY,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE2W,cAAc,CAAC,EAAE;oBACpD5b,IAAI,GAAG4b,cAAc;;;gBAG7B5W,OAAO,GAAGlB,aAAa,CAACmB,MAAM,CAAC;;;cAAC,OAAA0P,OAAA,CAAAC,OAAA,CAGjBoG,aAAa,CAACxU,KAAK,EAAE9C,GAAG,CAACsC,WAAW,EAAEhG,IAAI,CAAC,EAAEiY,0BAA0B,EAAEV,WAAW,CAACvE,yBAAyB,CAAC,EAAAwD,IAAA,WAAAsF,cAAA;gBAA9H/T,KAAK,GAAG+T,cAAA,CAAwH9b,IAAI,CAAC;;;;UAAC,OAAA0b,MAAA,IAAAA,MAAA,CAAAlF,IAAA,GAAAkF,MAAA,CAAAlF,IAAA,CAAA6E,MAAA,IAAAA,MAAA,CAAAK,MAAA;;;KAUjJ,QAAA1E,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAM+E,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAI/b,IAAI,EAAEsH,GAAG,EAAE0U,iBAAiB,EAAK;IAChE,IAAMxV,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAEhC,IAAIwG,KAAK,EAAE;MACP,IAAM0S,UAAU,GAAGxV,GAAG,CAACsC,WAAW,EAAEhG,IAAI,CAAC;MACzC,IAAMic,gBAAgB,GAAG7a,WAAW,CAAC8X,UAAU,CAAC;MAChD,IAAMpY,YAAY,GAAGmb,gBAAgB,GAC/BvY,GAAG,CAACuC,cAAc,EAAEjG,IAAI,CAAC,GACzBkZ,UAAU;MAChB,IAAI9X,WAAW,CAACN,YAAY,CAAC,IACxBwG,GAAG,IAAIA,GAAG,CAAC4U,cAAe,IAC3BF,iBAAiB,EAAE;QACnB1U,GAAG,IAAIA,GAAG,CAAChD,OAAO,IAClBkE,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAEgc,iBAAiB,GAAGlb,YAAY,GAAGuR,aAAa,CAAC7L,KAAK,CAAC,CAAC;OAClF,MACI;QACDwS,aAAa,CAAChZ,IAAI,EAAEc,YAAY,CAAC;;;IAGzC8W,UAAU,IAAIxU,eAAe,CAAC4B,OAAO,IAAIoJ,YAAY,EAAE;GAC1D;EACD,IAAM8L,WAAW,GAAG,SAAdA,WAAWA,CAAIla,IAAI,EAAEb,IAAI,EAAK;IAChCa,IAAI,IAAIb,IAAI,IAAIqJ,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAEb,IAAI,CAAC;IAC5C,OAAO,CAACgQ,SAAS,CAAC3M,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEgX,SAAS,EAAE,CAAC,EAAExT,cAAc,CAAC;GACpE;EACD,IAAMmI,YAAY,YAAZA,YAAYA;IAAA,IAAe;MAAA,IAAA+N,sBAAA,GACb5E,WAAW,CAACqB,QAAQ;MAAA,OAAAjE,OAAA,CAAAC,OAAA,CAAAuH,sBAAA,GACT7B,eAAe,EAAE,GAChChC,YAAY,CAAC7R,OAAO,EAAE,IAAI,CAAC,EAAA+P,IAAA,WAAA4F,gBAAA;QAFvC,IAAMpX,OAAO,GAAAoX,gBAE0B;QAAC,IACpCpX,OAAO,KAAKP,UAAU,CAACO,OAAO;UAC9BP,UAAU,CAACO,OAAO,GAAGA,OAAO;UAC5BG,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;YACjBN,OAAO,EAAPA;WACH,CAAC;;;KAET,QAAAgS,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMqF,SAAS,GAAG,SAAZA,SAASA,CAAIrc,IAAI,EAAEX,KAAK,EAAEsK,OAAO;IAAA,OAAKnH,MAAM,CAAC8Z,OAAO,CAACjd,KAAK,CAAC,CAACga,OAAO,CAAC,UAAAkD,KAAA,EAA4B;MAAA,IAA1BC,QAAQ,GAAAD,KAAA;QAAErD,UAAU,GAAAqD,KAAA;MAC5F,IAAME,SAAS,GAAMzc,IAAI,SAAIwc,QAAU;MACvC,IAAMhW,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;MACrC,IAAMC,YAAY,GAAGzV,MAAM,CAACC,KAAK,CAACiR,GAAG,CAACnY,IAAI,CAAC;MAC3C,CAAC0c,YAAY,IAAI,CAACpN,WAAW,CAAC4J,UAAU,CAAC,IAAK1S,KAAK,IAAI,CAACA,KAAK,CAACE,EAAG,KAC7D,CAAChH,YAAY,CAACwZ,UAAU,CAAC,GACvBmD,SAAS,CAACI,SAAS,EAAEvD,UAAU,EAAEvP,OAAO,CAAC,GACzCqP,aAAa,CAACyD,SAAS,EAAEvD,UAAU,EAAEvP,OAAO,EAAE,IAAI,CAAC;KAC5D,CAAC;;EACF,IAAMgT,SAAS,GAAG,SAAZA,SAASA,CAAIC,UAAU,EAAE9b,YAAY,EAAE+b,QAAQ,EAAK;IACtD,IAAMxQ,WAAW,GAAG7J,MAAM,CAACC,MAAM,CAAC,EAAE,EAAGmV,UAAU,GAC3CpV,MAAM,CAACC,MAAM,CAAC,EAAE,EAAED,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEwD,cAAc,CAAC,EAAED,WAAW,CAAC,CAAC,GAAG5E,WAAW,CAACN,YAAY,CAAC,GAC5GmF,cAAc,GACdnF,YAAa,CAAC;IACpB,IAAI,CAAC8b,UAAU,EAAE;MACbC,QAAQ,KAAK5V,MAAM,CAAC8G,QAAQ,GAAG,IAAI,CAAC;MACpC,OAAO1B,WAAW;;IAEtB,IAAMyQ,aAAa,GAAG,EAAE;IACxB,IAAM/b,MAAM,GAAG,IAAIgc,GAAG,EAAE;IACxB,SAAAzL,UAAA,GAAA/H,+BAAA,CAAwBhE,qBAAqB,CAACqX,UAAU,CAAC,GAAArL,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAA7H,IAAA,GAAE;MAAA,IAAhDgT,SAAS,GAAAlL,MAAA,CAAAlS,KAAA;MAChBwd,QAAQ,IAAI5V,MAAM,CAAC+G,KAAK,CAACpB,GAAG,CAAC6P,SAAS,CAAC;MACvCK,aAAa,CAACnM,IAAI,CAACjN,GAAG,CAAC2I,WAAW,EAAEoQ,SAAS,CAAC,CAAC;MAC/C1b,MAAM,CAACyH,GAAG,CAACiU,SAAS,EAAE/Y,GAAG,CAAC2I,WAAW,EAAEoQ,SAAS,CAAC,CAAC;;IAEtD,OAAOjd,KAAK,CAACC,OAAO,CAACmd,UAAU,CAAC,GAC1B,CAACE,aAAa,EAAC/b,MAAM,CAAC,GACtBnB,QAAQ,CAACmB,MAAM,CAAC,CAAC,CAAC,CAAC,GACfyB,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE1B,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGvB,KAAK,CAACC,OAAO,CAACsB,MAAM,CAAC,CAAC,CAAC,CAAC,MAAAX,MAAA,CACnDW,MAAM,CAAC,CAAC,CAAC,IACbA,MAAM,CAAC,CAAC,CAAC;GACtB;EACD,IAAMic,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIzJ,aAAa,EAAEvT,IAAI,EAAU;IAAA,IAAdA,IAAI;MAAJA,IAAI,GAAG,EAAE;;IAE/C,KAAK,IAAMmB,GAAG,IAAIoS,aAAa,EAAE;MAC7B,IAAMlU,KAAK,GAAGkU,aAAa,CAACpS,GAAG,CAAC;MAChC,IAAMsb,SAAS,GAAGzc,IAAI,IAAIA,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC,GAAGmB,GAAG;MAChD,IAAMqF,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;MACrC,IAAI,CAACjW,KAAK,IAAI,CAACA,KAAK,CAACE,EAAE,EAAE;QACrB,IAAI9G,QAAQ,CAACP,KAAK,CAAC,IAAIG,KAAK,CAACC,OAAO,CAACJ,KAAK,CAAC,EAAE;UACzC2d,iBAAiB,CAAC3d,KAAK,EAAEod,SAAS,CAAC;SACtC,MACI,IAAI,CAACjW,KAAK,EAAE;UACbgC,GAAG,CAACxC,WAAW,EAAEyW,SAAS,EAAEpd,KAAK,CAAC;;;;GAIjD;EACD,IAAM2N,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIzC,OAAO,EAAEvK,IAAI,EAAEid,MAAM,EAAEpO,IAAI,EAAE/B,uBAAuB,EAAOoQ,SAAS,EAASC,eAAe,EAAY;IAAA,IAA3ErQ,uBAAuB;MAAvBA,uBAAuB,GAAG,EAAE;;IAAA,IAAEoQ,SAAS;MAATA,SAAS,GAAG,IAAI;;IAAA,IAAEC,eAAe;MAAfA,eAAe,GAAG,IAAI;;IAC9HhW,WAAW,GAAG,IAAI;IAClB,IAAIgW,eAAe,IAAIzZ,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC,EAAE;MACvC,IAAMod,MAAM,GAAGH,MAAM,CAACvZ,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC,EAAE6O,IAAI,CAAC5B,IAAI,EAAE4B,IAAI,CAACrB,IAAI,CAAC;MAC/D0P,SAAS,IAAI1U,GAAG,CAAC/B,OAAO,EAAEzG,IAAI,EAAEod,MAAM,CAAC;;IAE3C5U,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAE8M,uBAAuB,CAAC;IAC/C,IAAItN,KAAK,CAACC,OAAO,CAACiE,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC,CAAC,EAAE;MAC7C,IAAMod,OAAM,GAAGH,MAAM,CAACvZ,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC,EAAE6O,IAAI,CAAC5B,IAAI,EAAE4B,IAAI,CAACrB,IAAI,CAAC;MACzE0P,SAAS,IAAI1U,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAEod,OAAM,CAAC;MACjDC,eAAe,CAAC5Y,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC;;IAE5C,IAAIoD,eAAe,CAAC0B,aAAa,IAAIpB,GAAG,CAACe,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC,EAAE;MACtE,IAAMod,QAAM,GAAGH,MAAM,CAACvZ,GAAG,CAACe,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC,EAAE6O,IAAI,CAAC5B,IAAI,EAAE4B,IAAI,CAACrB,IAAI,CAAC;MAChF0P,SAAS,IAAI1U,GAAG,CAAC/D,UAAU,CAACK,aAAa,EAAE9E,IAAI,EAAEod,QAAM,CAAC;MACxDC,eAAe,CAAC5Y,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC;;IAEnD,IAAIoD,eAAe,CAACyB,WAAW,IAAIzB,eAAe,CAACwB,OAAO,EAAE;MACxD4D,GAAG,CAAC/D,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAEsd,wBAAwB,CAACnP,OAAO,CAACrB,uBAAuB,EAAEvC,OAAO,CAAC,EAAE7G,GAAG,CAACuC,cAAc,EAAEjG,IAAI,EAAE,EAAE,CAAC,EAAE0D,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;MAC5K8M,uBAAuB,IACnBtE,GAAG,CAAC/D,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAEsd,wBAAwB,CAACnP,OAAO,CAACrB,uBAAuB,EAAEvC,OAAO,CAAC,EAAE7G,GAAG,CAACuC,cAAc,EAAEjG,IAAI,EAAE,EAAE,CAAC,EAAE0D,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;MAChLqd,eAAe,CAAC5Y,UAAU,CAACI,WAAW,EAAE7E,IAAI,CAAC;;IAEjDmF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBV,OAAO,EAAEsV,WAAW,CAACla,IAAI,EAAEmO,OAAO,CAACrB,uBAAuB,EAAEvC,OAAO,CAAC,CAAC;MACrE1F,WAAW,EAAEJ,UAAU,CAACI,WAAW;MACnCI,MAAM,EAAER,UAAU,CAACQ,MAAM;MACzBD,OAAO,EAAEP,UAAU,CAACO;KACvB,CAAC;GACL;EACD,IAAM0H,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAI1M,IAAI;IAAA,OAAK0D,GAAG,CAACkU,UAAU,GAAG5R,WAAW,GAAGC,cAAc,EAAEjG,IAAI,EAAE,EAAE,CAAC;;EAC9F,IAAMud,QAAQ,GAAG,SAAXA,QAAQA,CAAIvd,IAAI,EAAEX,KAAK,EAAEsK,OAAO,EAAU;IAAA,IAAjBA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IACvC,IAAMnD,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAChC,IAAM0c,YAAY,GAAGzV,MAAM,CAACC,KAAK,CAACiR,GAAG,CAACnY,IAAI,CAAC;IAC3CwI,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAEX,KAAK,CAAC;IAC7B,IAAIqd,YAAY,EAAE;MACdvX,SAAS,CAAC+B,KAAK,CAAC5B,IAAI,CAAC;QACjBuB,MAAM,EAAExH,KAAK;QACbW,IAAI,EAAJA,IAAI;QACJuO,OAAO,EAAE;OACZ,CAAC;MACF,IAAI,CAACnL,eAAe,CAACwB,OAAO,IAAIxB,eAAe,CAACyB,WAAW,KACvD8E,OAAO,CAAC+P,WAAW,EAAE;QACrBlR,GAAG,CAAC/D,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAEsd,wBAAwB,CAACje,KAAK,EAAEqE,GAAG,CAACuC,cAAc,EAAEjG,IAAI,EAAE,EAAE,CAAC,EAAE0D,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACxImF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;UACjBtF,IAAI,EAAJA,IAAI;UACJ6E,WAAW,EAAEJ,UAAU,CAACI,WAAW;UACnCD,OAAO,EAAEsV,WAAW,CAACla,IAAI,EAAEX,KAAK;SACnC,CAAC;;KAET,MACI;MACDmH,KAAK,IAAI,CAACA,KAAK,CAACE,EAAE,IAAI,CAACnH,iBAAiB,CAACF,KAAK,CAAC,GACzCgd,SAAS,CAACrc,IAAI,EAAEX,KAAK,EAAEsK,OAAO,CAAC,GAC/BqP,aAAa,CAAChZ,IAAI,EAAEX,KAAK,EAAEsK,OAAO,EAAE,IAAI,CAAC;;IAEnDuO,cAAc,CAAClY,IAAI,CAAC,IAAImF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC,EAAE,CAAC;IAChDH,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC;MACjBtF,IAAI,EAAJA;KACH,CAAC;GACL;EACD,IAAM8Z,OAAO,YAAPA,OAAOA,CAAU9Z,IAAI,EAAE2J,OAAO;IAAA,IAAPA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAAA,IAAK;MAAA,IAAA6T,OAAA,YAAAA;QAwB1CrY,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC9C,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAGqR,QAAQ,CAAC9T,IAAI,CAAC,GAAG;UAAEA,IAAI,EAAJA;SAAM,GAAG,EAAG,CAAC,EAAE;UAAEiF,MAAM,EAAER,UAAU,CAACQ,MAAM;UAAEF,YAAY,EAAE;SAAO,CAAC,CAAC;QAC5I,IAAI4E,OAAO,CAACC,WAAW,IAAI,CAAC5E,OAAO,EAAE;UACjCkE,YAAY,CAACzC,OAAO,EAAE,UAACtF,GAAG;YAAA,OAAKuC,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE9D,GAAG,CAAC;aAAEnB,IAAI,GAAG4c,UAAU,GAAG3V,MAAM,CAACN,KAAK,CAAC;;QAEjGvD,eAAe,CAAC4B,OAAO,IAAIoJ,YAAY,EAAE;QACzC,OAAOpJ,OAAO;;MA5Bd,IAAM4X,UAAU,GAAGrX,qBAAqB,CAACvF,IAAI,CAAC;MAC9C,IAAIgF,OAAO;MACXG,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;QACjBP,YAAY,EAAE;OACjB,CAAC;MAAC,IAAA0Y,OAAA;QAAA,IACClG,WAAW,CAACqB,QAAQ;UAAA,OAAAjE,OAAA,CAAAC,OAAA,CACO8F,yBAAyB,CAACtZ,WAAW,CAACpB,IAAI,CAAC,GAAGA,IAAI,GAAG4c,UAAU,CAAC,EAAApG,IAAA,WAArFkH,YAAY;YAClB1Y,OAAO,GAAGhF,IAAI,GACR4c,UAAU,CAAC1I,KAAK,CAAC,UAAClU,IAAI;cAAA,OAAK,CAAC0D,GAAG,CAACga,YAAY,EAAE1d,IAAI,CAAC;cAAC,GACpD8D,aAAa,CAAC4Z,YAAY,CAAC;;;UAAC,IAAAC,MAAA;YAAA,IAG9B3d,IAAI;cAAA,OAAA2U,OAAA,CAAAC,OAAA,CACaD,OAAO,CAAC9S,GAAG,CAAC+a,UAAU,CAACpS,GAAG,WAAQiS,SAAS;gBAAA,IAAK;kBAAA,IAAAmB,KAAA;kBAC7D,IAAMpX,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;kBAAC,OAAA9H,OAAA,CAAAC,OAAA,CACzB0D,YAAY,CAAC9R,KAAK,CAACE,EAAE,IAAAkX,KAAA,OAAAA,KAAA,CAAMnB,SAAS,IAAGjW,KAAK,EAAAoX,KAAA,IAAKpX,KAAK,CAAC;iBACvE,QAAAwQ,CAAA;kBAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;gBAAC,CAAC,EAAAR,IAAA,WAAAqH,YAAA;gBAHH7Y,OAAO,GAAG6Y,YAAA,CAGL3J,KAAK,CAACzT,OAAO,CAAC;;;cAAC,OAAAkU,OAAA,CAAAC,OAAA,CAGd0D,YAAY,CAAC7R,OAAO,CAAC,EAAA+P,IAAA;gBAC3BxR,OAAO,GAAGlB,aAAa,CAACW,UAAU,CAACQ,MAAM,CAAC;;;;UAAC,IAAA0Y,MAAA,IAAAA,MAAA,CAAAnH,IAAA,SAAAmH,MAAA,CAAAnH,IAAA;;;MAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAA6I,OAAA,IAAAA,OAAA,CAAAjH,IAAA,GAAAiH,OAAA,CAAAjH,IAAA,CAAAgH,OAAA,IAAAA,OAAA,CAAAC,OAAA;KAStD,QAAAzG,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAM8G,iBAAiB,YAAjBA,iBAAiBA,CAAU9d,IAAI,EAAE2J,OAAO;IAAA,IAAPA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAAA,IAAK;MAAA,IAAAoU,OAAA,YAAAA;QA0BpD,IAAIpU,OAAO,CAACC,WAAW,IAAI,CAAC5E,OAAO,EAAE;UACjCkE,YAAY,CAACzC,OAAO,EAAE,UAACtF,GAAG;YAAA,OAAKuC,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE9D,GAAG,CAAC;aAAEnB,IAAI,GAAG4c,UAAU,GAAG3V,MAAM,CAACN,KAAK,CAAC;;QAEjGvD,eAAe,CAAC4B,OAAO,IAAIoJ,YAAY,EAAE;QAEzC,OAAOpJ,OAAO;;MA9Bd,IAAM4X,UAAU,GAAGrX,qBAAqB,CAACvF,IAAI,CAAC;MAC9C,IAAIgF,OAAO;MAAC,IAAAgZ,OAAA;QAAA,IAKRzG,WAAW,CAACqB,QAAQ;UAAA,OAAAjE,OAAA,CAAAC,OAAA,CACO8F,yBAAyB,CAACtZ,WAAW,CAACpB,IAAI,CAAC,GAAGA,IAAI,GAAG4c,UAAU,CAAC,EAAApG,IAAA,WAArFkH,YAAY;YAClB1Y,OAAO,GAAGhF,IAAI,GACR4c,UAAU,CAAC1I,KAAK,CAAC,UAAClU,IAAI;cAAA,OAAK,CAAC0D,GAAG,CAACga,YAAY,EAAE1d,IAAI,CAAC;cAAC,GACpD8D,aAAa,CAAC4Z,YAAY,CAAC;;;UAAC,IAAAO,OAAA;YAAA,IAG9Bje,IAAI;cAAA,OAAA2U,OAAA,CAAAC,OAAA,CACaD,OAAO,CAAC9S,GAAG,CAAC+a,UAAU,CAACpS,GAAG,WAAQiS,SAAS;gBAAA,IAAK;kBAAA,IAAAyB,KAAA;kBAC7D,IAAM1X,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;kBAAC,OAAA9H,OAAA,CAAAC,OAAA,CACzB0D,YAAY,CAAC9R,KAAK,CAACE,EAAE,IAAAwX,KAAA,OAAAA,KAAA,CAAMzB,SAAS,IAAGjW,KAAK,EAAA0X,KAAA,IAAK1X,KAAK,CAAC;iBACvE,QAAAwQ,CAAA;kBAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;gBAAC,CAAC,EAAAR,IAAA,WAAA2H,aAAA;gBAHHnZ,OAAO,GAAGmZ,aAAA,CAGLjK,KAAK,CAACzT,OAAO,CAAC;;;cAAC,OAAAkU,OAAA,CAAAC,OAAA,CAGJ0D,YAAY,CAAC7R,OAAO,EAAE,IAAI,CAAC,EAAA+P,IAAA,WAAA4H,cAAA;gBAA3CpZ,OAAO,GAAAoZ,cAAoC;;;;UAAC,IAAAH,OAAA,IAAAA,OAAA,CAAAzH,IAAA,SAAAyH,OAAA,CAAAzH,IAAA;;;MAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAAoJ,OAAA,IAAAA,OAAA,CAAAxH,IAAA,GAAAwH,OAAA,CAAAxH,IAAA,CAAAuH,OAAA,IAAAA,OAAA,CAAAC,OAAA;KAWvD,QAAAhH,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMyC,SAAS,GAAG,SAAZA,SAASA,CAAImD,UAAU,EAAK;IAE9B,IAAM/V,MAAM,GAAGrE,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEwD,cAAc,CAAC,EAAED,WAAW,CAAC;IAC5E,OAAO5E,WAAW,CAACwb,UAAU,CAAC,GACxB/V,MAAM,GACNiN,QAAQ,CAAC8I,UAAU,CAAC,GAChBlZ,GAAG,CAACmD,MAAM,EAAE+V,UAAU,CAAC,GACvBA,UAAU,CAACpS,GAAG,CAAC,UAACxK,IAAI;MAAA,OAAK0D,GAAG,CAACmD,MAAM,EAAE7G,IAAI,CAAC;MAAC;GACxD;EACD,IAAMqe,WAAW,GAAG,SAAdA,WAAWA,CAAIre,IAAI,EAAK;IAC1BA,IAAI,GACEuF,qBAAqB,CAACvF,IAAI,CAAC,CAACqZ,OAAO,CAAC,UAACiF,SAAS;MAAA,OAAKzS,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEqZ,SAAS,CAAC;MAAC,GACtF7Z,UAAU,CAACQ,MAAM,GAAG,EAAG;IAC9BE,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBL,MAAM,EAAER,UAAU,CAACQ;KACtB,CAAC;GACL;EACD,IAAMsZ,QAAQ,GAAG,SAAXA,QAAQA,CAAIve,IAAI,EAAE+H,KAAK,EAAE4B,OAAO,EAAK;IACvC,IAAMrC,GAAG,GAAG,CAAC5D,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,EAAE;MAAE0G,EAAE,EAAE;KAAI,CAAC,CAACA,EAAE,IAAI,EAAE,EAAEY,GAAG;IACzDkB,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAEwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEsF,KAAK,CAAC,EAAE;MAAET,GAAG,EAAHA;KAAK,CAAC,CAAC;IAC9EnC,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBtF,IAAI,EAAJA,IAAI;MACJiF,MAAM,EAAER,UAAU,CAACQ,MAAM;MACzBD,OAAO,EAAE;KACZ,CAAC;IACF2E,OAAO,IAAIA,OAAO,CAACC,WAAW,IAAItC,GAAG,IAAIA,GAAG,CAACE,KAAK,IAAIF,GAAG,CAACE,KAAK,EAAE;GACpE;EACD,IAAMwG,KAAK,GAAG,SAARA,KAAKA,CAAIyO,SAAS,EAAE3b,YAAY;IAAA,OAAKyV,UAAU,CAACkG,SAAS,CAAC,GAC1DtX,SAAS,CAAC6I,KAAK,CAAC3I,SAAS,CAAC;MACxBC,IAAI,EAAE,SAAAA,KAACkZ,IAAI;QAAA,OAAK/B,SAAS,CAACE,SAAS,CAAChc,SAAS,EAAEG,YAAY,CAAC,EAAE0d,IAAI,CAAC;;KACtE,CAAC,GACA7B,SAAS,CAACF,SAAS,EAAE3b,YAAY,EAAE,IAAI,CAAC;;EAC9C,IAAMsG,UAAU,GAAG,SAAbA,UAAUA,CAAIpH,IAAI,EAAE2J,OAAO,EAAU;IAAA,IAAjBA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAClC,SAAA8U,UAAA,GAAAlV,+BAAA,CAAwBvJ,IAAI,GAAGuF,qBAAqB,CAACvF,IAAI,CAAC,GAAGiH,MAAM,CAACN,KAAK,GAAA+X,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAAhV,IAAA,GAAE;MAAA,IAAhE6U,SAAS,GAAAI,MAAA,CAAArf,KAAA;MAChB4H,MAAM,CAACN,KAAK,UAAO,CAAC2X,SAAS,CAAC;MAC9BrX,MAAM,CAACC,KAAK,UAAO,CAACoX,SAAS,CAAC;MAC9B,IAAI5a,GAAG,CAAC+C,OAAO,EAAE6X,SAAS,CAAC,EAAE;QACzB,IAAI,CAAC3U,OAAO,CAACgV,SAAS,EAAE;UACpB9S,KAAK,CAACpF,OAAO,EAAE6X,SAAS,CAAC;UACzBzS,KAAK,CAAC7F,WAAW,EAAEsY,SAAS,CAAC;;QAEjC,CAAC3U,OAAO,CAACiV,SAAS,IAAI/S,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEqZ,SAAS,CAAC;QACzD,CAAC3U,OAAO,CAACkV,SAAS,IAAIhT,KAAK,CAACpH,UAAU,CAACI,WAAW,EAAEyZ,SAAS,CAAC;QAC9D,CAAC3U,OAAO,CAACmV,WAAW,IAAIjT,KAAK,CAACpH,UAAU,CAACK,aAAa,EAAEwZ,SAAS,CAAC;QAClE,CAAC/G,WAAW,CAACzR,gBAAgB,IACzB,CAAC6D,OAAO,CAACoV,gBAAgB,IACzBlT,KAAK,CAAC5F,cAAc,EAAEqY,SAAS,CAAC;;;IAG5CnZ,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC,EAAE,CAAC;IACxBH,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC9C,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEgC,UAAU,CAAC,EAAG,CAACkF,OAAO,CAACkV,SAAS,GAAG,EAAE,GAAG;MAAEja,OAAO,EAAEsV,WAAW;KAAK,CAAC,CAAC;IAC1H,CAACvQ,OAAO,CAACqV,WAAW,IAAI5Q,YAAY,EAAE;GACzC;EACD,IAAM6Q,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIjf,IAAI,EAAEkf,QAAQ,EAAEvV,OAAO,EAAK;IAClDvD,QAAQ,CAACpG,IAAI,EAAE2J,OAAO,CAAC;IACvB,IAAInD,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAC9B,IAAMsH,GAAG,GAAGlG,WAAW,CAAC8d,QAAQ,CAAC7f,KAAK,CAAC,GACjC6f,QAAQ,CAACC,gBAAgB,GACrBD,QAAQ,CAACC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,IACnDD,QAAQ,GACVA,QAAQ,GACZA,QAAQ;IACd,IAAMnK,iBAAiB,GAAGqK,yBAAyB,CAAC9X,GAAG,CAAC;IACxD,IAAIA,GAAG,KAAKd,KAAK,CAACE,EAAE,CAACY,GAAG,IACnByN,iBAAiB,IACd/T,OAAO,CAACwF,KAAK,CAACE,EAAE,CAACgD,IAAI,IAAI,EAAE,CAAC,CAAC3F,IAAI,CAAC,UAAC4N,MAAM;MAAA,OAAKA,MAAM,KAAKrK,GAAG;MAAE,EAAE;MACpE;;IAEJd,KAAK,GAAG;MACJE,EAAE,EAAEqO,iBAAiB,GACfvS,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE+D,KAAK,CAACE,EAAE,CAAC,EAAE;QAAEgD,IAAI,KAAAtJ,MAAA,CACxCY,OAAO,CAACwF,KAAK,CAACE,EAAE,CAACgD,IAAI,IAAI,EAAE,CAAC,CAAClJ,MAAM,CAAC,UAAC8G,GAAG;UAAA,OAAK8R,aAAa,CAAC9R,GAAG,CAAC,IAAI+I,QAAQ,CAACgP,QAAQ,CAAC/X,GAAG,CAAC;UAAC,GAC7FA,GAAG,EACN;QAAEA,GAAG,EAAE;UAAEpI,IAAI,EAAEoI,GAAG,CAACpI,IAAI;UAAEc,IAAI,EAAJA;;OAAQ,CAAC,GAAGwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE+D,KAAK,CAACE,EAAE,CAAC,EAAE;QAAEY,GAAG,EAAHA;OAAK;KACnG;IACDkB,GAAG,CAAC/B,OAAO,EAAEzG,IAAI,EAAEwG,KAAK,CAAC;IACzBuV,yBAAyB,CAAC/b,IAAI,EAAEsH,GAAG,CAAC;GACvC;EACD,IAAMlB,QAAQ,GAAG,SAAXA,QAAQA,CAAIpG,IAAI,EAAE2J,OAAO,EAAU;IAAA,IAAjBA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAChC,IAAMnD,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAEhCwI,GAAG,CAAC/B,OAAO,EAAEzG,IAAI,EAAE;MACf0G,EAAE,EAAElE,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAG+D,KAAK,IAAIA,KAAK,CAACE,EAAE,GAAGF,KAAK,CAACE,EAAE,GAAG;QAAEY,GAAG,EAAE;UAAEtH,IAAI,EAAJA;;OAAS,CAAC,EAAE;QAAEA,IAAI,EAAJA,IAAI;QAAE2G,KAAK,EAAE;OAAM,CAAC,EAAEgD,OAAO;KACzI,CAAC;IAEF,IAAIA,OAAO,CAACtK,KAAK,EAAE;MACfmJ,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAE2J,OAAO,CAACtK,KAAK,CAAC;;IAEzC,IAAI,CAAC+B,WAAW,CAACuI,OAAO,CAACtF,QAAQ,CAAC,IAC9BmC,KAAK,IACLA,KAAK,CAACE,EAAE,IACRF,KAAK,CAACE,EAAE,CAACY,GAAG,CAACjD,QAAQ,KAAKsF,OAAO,CAACtF,QAAQ,EAAE;MAC5CmE,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAE2J,OAAO,CAACtF,QAAQ,GAAG1D,SAAS,GAAG6F,KAAK,CAACE,EAAE,CAACY,GAAG,CAACjI,KAAK,CAAC;;IAE7E4H,MAAM,CAACN,KAAK,CAACiG,GAAG,CAAC5M,IAAI,CAAC;IACtB,CAACwG,KAAK,IAAIuV,yBAAyB,CAAC/b,IAAI,EAAEW,SAAS,EAAE,IAAI,CAAC;IAC1D,OAAO0W,iBAAiB,GAClB;MAAErX,IAAI,EAAEA;KAAM,GACdwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC;MAAEzC,IAAI,EAAJA;KAAM,EAAGoB,WAAW,CAACuI,OAAO,CAACtF,QAAQ,CAAC,GAChE,EAAE,GACF;MAAEA,QAAQ,EAAEsF,OAAO,CAACtF;KAAW,CAAC,EAAE;MAAE3C,QAAQ,EAAEwZ,YAAY;MAAEzZ,MAAM,EAAEyZ,YAAY;MAAE5T,GAAG,EAAE,SAAAA,IAACA,KAAG,EAAK;QAC9F,IAAIA,KAAG,EAAE;UACL2X,gBAAgB,CAACjf,IAAI,EAAEsH,KAAG,EAAEqC,OAAO,CAAC;SACvC,MACI;UACD,IAAMnD,MAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,EAAE,EAAE,CAAC;UACpC,IAAM+G,iBAAiB,GAAGwQ,WAAW,CAACzR,gBAAgB,IAAI6D,OAAO,CAAC7D,gBAAgB;UAClF,IAAIU,MAAK,CAACE,EAAE,EAAE;YACVF,MAAK,CAACE,EAAE,CAACC,KAAK,GAAG,KAAK;;UAE1BI,iBAAiB,IACb,EAAEC,kBAAkB,CAACC,MAAM,CAACC,KAAK,EAAElH,IAAI,CAAC,IAAImH,WAAW,CAAC,IACxDF,MAAM,CAAC6Q,OAAO,CAAClL,GAAG,CAAC5M,IAAI,CAAC;;;KAEjC,CAAC;GACf;EACD,IAAMsf,YAAY,GAAG,SAAfA,YAAYA,CAAIC,OAAO,EAAEC,SAAS;IAAA,iBAAYxI,CAAC;MAAA,IAAK;QACtD,IAAIA,CAAC,EAAE;UACHA,CAAC,CAACyI,cAAc,IAAIzI,CAAC,CAACyI,cAAc,EAAE;UACtCzI,CAAC,CAAC0I,OAAO,IAAI1I,CAAC,CAAC0I,OAAO,EAAE;;QAE5B,IAAIC,iBAAiB,GAAG,IAAI;QAC5B,IAAItT,WAAW,GAAG7J,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEuD,WAAW,CAAC;QAEhDb,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;UACjBoS,YAAY,EAAE;SACjB,CAAC;QAAC,OAAA/C,OAAA,CAAAC,OAAA,CAAAgL,gBAAA;UAAA,OAAAC,MAAA,aACC;YAAA,SAAAC;cAAA,IAAAC,OAAA;gBAAA,IASIjc,aAAa,CAACW,UAAU,CAACQ,MAAM,CAAC,IAChCzC,MAAM,CAACmB,IAAI,CAACc,UAAU,CAACQ,MAAM,CAAC,CAACiP,KAAK,CAAC,UAAClU,IAAI;kBAAA,OAAK0D,GAAG,CAAC2I,WAAW,EAAErM,IAAI,CAAC;kBAAC;kBACtEmF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;oBACjBL,MAAM,EAAE,EAAE;oBACVyS,YAAY,EAAE;mBACjB,CAAC;kBAAC,OAAA/C,OAAA,CAAAC,OAAA,CACG2K,OAAO,CAAClT,WAAW,EAAE2K,CAAC,CAAC,EAAAR,IAAA;;kBAAA,IAAAwJ,OAAA,YAAAA,QAAAC,UAAA;oBAG7BA,UAAA;oBACA1I,WAAW,CAACH,gBAAgB,IACxBlO,YAAY,CAACzC,OAAO,EAAE,UAACtF,GAAG;sBAAA,OAAKuC,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE9D,GAAG,CAAC;uBAAE8F,MAAM,CAACN,KAAK,CAAC;;kBAAC,OAF9E6Y,SAAS,GAAA7K,OAAA,CAAAC,OAAA,CAAW4K,SAAS,CAAC/a,UAAU,CAACQ,MAAM,EAAE+R,CAAC,CAAC,EAAAR,IAAA,CAAAwJ,OAAA,IAAAA,OAAA,CAAnDR,SAAS;;;cAAA,IAAAO,OAAA,IAAAA,OAAA,CAAAvJ,IAAA,SAAAuJ,OAAA,CAAAvJ,IAAA;;YAAA,IAAA0J,OAAA;cAAA,IAjBT3I,WAAW,CAACqB,QAAQ;gBAAA,OAAAjE,OAAA,CAAAC,OAAA,CACa0F,eAAe,EAAE,EAAA9D,IAAA,WAAA2J,KAAA;kBAAA,IAA1Clb,MAAM,GAAAkb,KAAA,CAANlb,MAAM;oBAAE4B,MAAM,GAAAsZ,KAAA,CAANtZ,MAAM;kBACtBpC,UAAU,CAACQ,MAAM,GAAGA,MAAM;kBAC1BoH,WAAW,GAAGxF,MAAM;;;gBAAC,OAAA8N,OAAA,CAAAC,OAAA,CAGf0D,YAAY,CAAC7R,OAAO,CAAC,EAAA+P,IAAA;;;YAAA,OAAA0J,OAAA,IAAAA,OAAA,CAAA1J,IAAA,GAAA0J,OAAA,CAAA1J,IAAA,CAAAsJ,OAAA,IAAAA,OAAA,CAAAI,OAAA;WAelC,YACME,GAAG,EAAE;YACRT,iBAAiB,GAAG,KAAK;YACzB,MAAMS,GAAG;WACZ;qBAAAC,UAAA,EAAAC,QAAA;UAEG7b,UAAU,CAACoP,WAAW,GAAG,IAAI;UAC7B1O,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;YACjBuO,WAAW,EAAE,IAAI;YACjB6D,YAAY,EAAE,KAAK;YACnBC,kBAAkB,EAAE7T,aAAa,CAACW,UAAU,CAACQ,MAAM,CAAC,IAAI0a,iBAAiB;YACzElI,WAAW,EAAEhT,UAAU,CAACgT,WAAW,GAAG,CAAC;YACvCxS,MAAM,EAAER,UAAU,CAACQ;WACtB,CAAC;UAAC,IAAAob,UAAA,QAAAC,QAAA;UAAA,OAAAA,QAAA;;OAEV,QAAAtJ,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;;EACD,IAAMuJ,KAAK,GAAG,SAARA,KAAKA,CAAI1Z,MAAM,EAAE2Z,gBAAgB,EAAU;IAAA,IAA1BA,gBAAgB;MAAhBA,gBAAgB,GAAG,EAAE;;IACxC,IAAMC,aAAa,GAAG5Z,MAAM,IAAIZ,cAAc;IAC9C,IAAIkT,KAAK,IAAI,CAACqH,gBAAgB,CAACE,UAAU,EAAE;MACvC,SAAAC,UAAA,GAAApX,+BAAA,CAAmBtC,MAAM,CAACN,KAAK,GAAAia,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAAlX,IAAA,GAAE;QAAA,IAAtBzJ,IAAI,GAAA4gB,MAAA,CAAAvhB,KAAA;QACX,IAAMmH,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;QAChC,IAAIwG,KAAK,IAAIA,KAAK,CAACE,EAAE,EAAE;UACnB,IAAMmO,QAAQ,GAAGrV,KAAK,CAACC,OAAO,CAAC+G,KAAK,CAACE,EAAE,CAACgD,IAAI,CAAC,GACvClD,KAAK,CAACE,EAAE,CAACgD,IAAI,CAAC,CAAC,CAAC,GAChBlD,KAAK,CAACE,EAAE,CAACY,GAAG;UAClB,IAAI;YACA8R,aAAa,CAACvE,QAAQ,CAAC,IAAIA,QAAQ,CAACgM,OAAO,CAAC,MAAM,CAAC,CAACN,KAAK,EAAE;YAC3D;WACH,CACD,OAAOlN,EAAE,EAAE;;;;IAIvB,IAAI,CAACmN,gBAAgB,CAACM,iBAAiB,EAAE;MACrC7a,cAAc,GAAGzD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEge,aAAa,CAAC;MACjDza,WAAW,GAAGxD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEge,aAAa,CAAC;;IAElD,IAAI,CAACD,gBAAgB,CAACE,UAAU,EAAE;MAC9Bja,OAAO,GAAG,EAAE;MACZT,WAAW,GAAG,EAAE;MAChBb,SAAS,CAACf,OAAO,CAACkB,IAAI,CAAC;QACnBuB,MAAM,EAAE2Z,gBAAgB,CAACM,iBAAiB,GACpC7a,cAAc,GACdzD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEge,aAAa;OACxC,CAAC;MACFtb,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC,EAAE,CAAC;MACxBH,SAAS,CAAC+B,KAAK,CAAC5B,IAAI,CAAC;QACjBuB,MAAM,EAAErE,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEge,aAAa,CAAC;QACxClS,OAAO,EAAE;OACZ,CAAC;;IAENtH,MAAM,GAAG;MACLN,KAAK,EAAE,IAAIkR,GAAG,EAAE;MAChBC,OAAO,EAAE,IAAID,GAAG,EAAE;MAClB3Q,KAAK,EAAE,IAAI2Q,GAAG,EAAE;MAChB7J,KAAK,EAAE,IAAI6J,GAAG,EAAE;MAChB9J,QAAQ,EAAE;KACb;IACD5I,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBmS,WAAW,EAAE+I,gBAAgB,CAACO,eAAe,GACvCtc,UAAU,CAACgT,WAAW,GACtB,CAAC;MACP7S,OAAO,EAAE4b,gBAAgB,CAAC3B,SAAS,GAC7Bpa,UAAU,CAACG,OAAO,GAClB4b,gBAAgB,CAACM,iBAAiB,GAC9B3R,SAAS,CAACtI,MAAM,EAAEZ,cAAc,CAAC,GACjC,KAAK;MACf4N,WAAW,EAAE2M,gBAAgB,CAACQ,eAAe,GACvCvc,UAAU,CAACoP,WAAW,GACtB,KAAK;MACXhP,WAAW,EAAE2b,gBAAgB,CAAC3B,SAAS,GAAGpa,UAAU,CAACI,WAAW,GAAG,EAAE;MACrEC,aAAa,EAAE0b,gBAAgB,CAAC1B,WAAW,GACrCra,UAAU,CAACK,aAAa,GACxB,EAAE;MACRG,MAAM,EAAEub,gBAAgB,CAACS,UAAU,GAAGxc,UAAU,CAACQ,MAAM,GAAG,EAAE;MAC5DyS,YAAY,EAAE,KAAK;MACnBC,kBAAkB,EAAE;KACvB,CAAC;IACFC,UAAU,GAAG,CAAC,CAAC4I,gBAAgB,CAACxB,WAAW;GAC9C;EACD,IAAMkC,QAAQ,GAAG,SAAXA,QAAQA,CAAIlhB,IAAI;IAAA,OAAK0D,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC,CAAC0G,EAAE,CAACY,GAAG,CAACE,KAAK,EAAE;;EAC5D,OAAO;IACHpD,OAAO,EAAE;MACLgC,QAAQ,EAARA,QAAQ;MACRgB,UAAU,EAAVA,UAAU;MACV8S,WAAW,EAAXA,WAAW;MACXyC,SAAS,EAATA,SAAS;MACTvO,YAAY,EAAZA,YAAY;MACZ4O,iBAAiB,EAAjBA,iBAAiB;MACjBhQ,qBAAqB,EAArBA,qBAAqB;MACrBN,mBAAmB,EAAnBA,mBAAmB;MACnBvH,SAAS,EAATA,SAAS;MACT4B,iBAAiB,EAAEwQ,WAAW,CAACzR,gBAAgB;MAC/CW,OAAO,EAAPA,OAAO;MACPrD,eAAe,EAAfA,eAAe;MACf,IAAI4C,WAAWA,GAAG;QACd,OAAOA,WAAW;OACrB;MACD,IAAIA,WAAWA,CAAC3G,KAAK,EAAE;QACnB2G,WAAW,GAAG3G,KAAK;OACtB;MACD,IAAIuY,UAAUA,GAAG;QACb,OAAOA,UAAU;OACpB;MACD,IAAIA,UAAUA,CAACvY,KAAK,EAAE;QAClBuY,UAAU,GAAGvY,KAAK;OACrB;MACD,IAAI4G,cAAcA,GAAG;QACjB,OAAOA,cAAc;OACxB;MACD,IAAIA,cAAcA,CAAC5G,KAAK,EAAE;QACtB4G,cAAc,GAAG5G,KAAK;OACzB;MACD,IAAI4H,MAAMA,GAAG;QACT,OAAOA,MAAM;OAChB;MACD,IAAIA,MAAMA,CAAC5H,KAAK,EAAE;QACd4H,MAAM,GAAG5H,KAAK;OACjB;MACD8H,WAAW,EAAE;QACT,IAAIzG,GAAGA,GAAG;UACN,OAAOyG,WAAW;SACrB;QACD,IAAIzG,GAAGA,CAACrB,KAAK,EAAE;UACX8H,WAAW,GAAG9H,KAAK;;OAE1B;MACDoF,UAAU,EAAE;QACR,IAAI/D,GAAGA,GAAG;UACN,OAAO+D,UAAU;SACpB;QACD,IAAI/D,GAAGA,CAACrB,KAAK,EAAE;UACXoF,UAAU,GAAGpF,KAAK;;OAEzB;MACD8hB,YAAY,EAAE,SAAAA,aAACxX,OAAO,EAAK;QACvB4N,WAAW,GAAG/U,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEyU,cAAc,CAAC,EAAEvN,OAAO,CAAC;;KAE9E;IACDmQ,OAAO,EAAPA,OAAO;IACPgE,iBAAiB,EAAjBA,iBAAiB;IACjB1X,QAAQ,EAARA,QAAQ;IACRkZ,YAAY,EAAZA,YAAY;IACZtR,KAAK,EAALA,KAAK;IACLuP,QAAQ,EAARA,QAAQ;IACR9D,SAAS,EAATA,SAAS;IACT8G,KAAK,EAALA,KAAK;IACLlC,WAAW,EAAXA,WAAW;IACXjX,UAAU,EAAVA,UAAU;IACVmX,QAAQ,EAARA,QAAQ;IACR2C,QAAQ,EAARA;GACH;AACL;;ACh0BA,YAAe,UAAC5Z,GAAG;EAAA,OAAK,CAAC8R,aAAa,CAAC9R,GAAG,CAAC,IAAI,CAAC+I,QAAQ,CAACgP,QAAQ,CAAC/X,GAAG,CAAC;AAAA;;ACO/D,SAAS8Z,OAAOA,CAACre,KAAK,EAAO;EAAA,IAAZA,KAAK;IAALA,KAAK,GAAG,EAAE;;EAC9B,IAAMse,YAAY,GAAG1e,YAAY,EAAE;EACnC,IAAA6B,eAAA,GAAqC7B,cAAc,CAAC;MAChDiC,OAAO,EAAE,KAAK;MACdG,YAAY,EAAE,KAAK;MACnBF,WAAW,EAAE,EAAE;MACfgP,WAAW,EAAE,KAAK;MAClB4D,WAAW,EAAE,CAAC;MACd3S,aAAa,EAAE,EAAE;MACjB4S,YAAY,EAAE,KAAK;MACnBC,kBAAkB,EAAE,KAAK;MACzB3S,OAAO,EAAE,KAAK;MACdC,MAAM,EAAE;KACX,CAAC;IAXK9B,SAAS,GAAAqB,eAAA;IAAEE,eAAe,GAAAF,eAAA;EAYjC,IAAI6c,YAAY,CAAC/gB,OAAO,EAAE;IACtB+gB,YAAY,CAAC/gB,OAAO,CAAC8D,OAAO,CAAC+c,YAAY,CAACpe,KAAK,CAAC;GACnD,MACI;IACDse,YAAY,CAAC/gB,OAAO,GAAGkC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE6e,mBAAmB,CAACve,KAAK,CAAC,CAAC,EAAE;MAAEI,SAAS,EAATA;KAAW,CAAC;;EAEtG,IAAMiB,OAAO,GAAGid,YAAY,CAAC/gB,OAAO,CAAC8D,OAAO;EAC5CzB,eAAe,CAAC,YAAM;IAClB,IAAMuC,qBAAqB,GAAGd,OAAO,CAACe,SAAS,CAACC,KAAK,CAACC,SAAS,CAAC;MAC5DC,IAAI,WAAAA,KAACnC,SAAS,EAAE;QAEZ,IAAIsC,qBAAqB,CAACtC,SAAS,EAAEiB,OAAO,CAAChB,eAAe,EAAE,IAAI,CAAC,EAAE;UACjEgB,OAAO,CAACK,UAAU,CAAC/D,GAAG,GAAG8B,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE2B,OAAO,CAACK,UAAU,CAAC/D,GAAG,CAAC,EAAEyC,SAAS,CAAC;UAC5FuB,eAAe,CAAClC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE2B,OAAO,CAACK,UAAU,CAAC/D,GAAG,CAAC,CAAC;;;KAGrE,CAAC;IACF,IAAM6gB,yBAAyB,GAAGnd,OAAO,CAACe,SAAS,CAAC+B,KAAK,CAAC7B,SAAS,CAAC;MAChEC,IAAI,WAAAA,KAACF,KAAK,EAAE;QACR,IAAIA,KAAK,CAACyB,MAAM,IAAIzB,KAAK,CAACpF,IAAI,IAAIoE,OAAO,CAAChB,eAAe,CAAC4B,OAAO,EAAE;UAC/DwD,GAAG,CAACpE,OAAO,CAAC4B,WAAW,EAAEZ,KAAK,CAACpF,IAAI,EAAEoF,KAAK,CAACyB,MAAM,CAAC;UAClDzC,OAAO,CAACgK,YAAY,EAAE;;;KAGjC,CAAC;IACF,OAAO,YAAM;MACTlJ,qBAAqB,CAACQ,WAAW,EAAE;MACnC6b,yBAAyB,CAAC7b,WAAW,EAAE;KAC1C;GACJ,EAAE,CAACtB,OAAO,CAAC,CAAC;EACbzB,eAAe,CAAC,YAAM;IAClB,IAAM6e,oBAAoB,GAAG,EAAE;IAC/B,IAAI,CAACpd,OAAO,CAACwT,UAAU,EAAE;MACrBxT,OAAO,CAACwT,UAAU,GAAG,IAAI;MACzBxT,OAAO,CAAChB,eAAe,CAAC4B,OAAO,IAAIZ,OAAO,CAACgK,YAAY,EAAE;MACzD,CAACrL,KAAK,CAAC+C,gBAAgB,IACnB1B,OAAO,CAAC4Y,iBAAiB,CAAC5Y,OAAO,CAAC6B,cAAc,CAAC;;IAEzD,SAAAqD,SAAA,GAAAC,+BAAA,CAAmBnF,OAAO,CAAC6C,MAAM,CAAC6Q,OAAO,GAAAtO,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;MAAA,IAAhCzJ,IAAI,GAAAwJ,KAAA,CAAAnK,KAAA;MACX,IAAMmH,KAAK,GAAG9C,GAAG,CAACU,OAAO,CAACqC,OAAO,EAAEzG,IAAI,CAAC;MACxCwG,KAAK,KACAA,KAAK,CAACE,EAAE,CAACgD,IAAI,GAAGlD,KAAK,CAACE,EAAE,CAACgD,IAAI,CAACwK,KAAK,CAACuN,IAAI,CAAC,GAAGA,IAAI,CAACjb,KAAK,CAACE,EAAE,CAACY,GAAG,CAAC,CAAC,IAChEka,oBAAoB,CAAC7Q,IAAI,CAAC3Q,IAAI,CAAC;;IAGvCwhB,oBAAoB,CAAC5d,MAAM,IACvByd,YAAY,CAAC/gB,OAAO,CAAC8G,UAAU,CAACoa,oBAAoB,CAAC;IACzDpd,OAAO,CAAC6C,MAAM,CAAC6Q,OAAO,GAAG,IAAID,GAAG,EAAE;GACrC,CAAC;EACFwJ,YAAY,CAAC/gB,OAAO,CAAC6C,SAAS,GAAGwC,iBAAiB,CAACxC,SAAS,EAAEiB,OAAO,CAAChB,eAAe,CAAC;EACtF,OAAOie,YAAY,CAAC/gB,OAAO;AAC/B;;ACrEO,SAASohB,QAAQA,CAAC3e,KAAK,EAAE;EAC5B,IAAMkB,OAAO,GAAGpB,cAAc,EAAE;EAChC,IAAAqB,IAAA,GAAqEnB,KAAK,IAAI,EAAE;IAAAoB,YAAA,GAAAD,IAAA,CAAxEE,OAAO;IAAPA,OAAO,GAAAD,YAAA,cAAGF,OAAO,CAACG,OAAO,GAAAD,YAAA;IAAEnE,IAAI,GAAAkE,IAAA,CAAJlE,IAAI;IAAEc,YAAY,GAAAoD,IAAA,CAAZpD,YAAY;IAAEuD,QAAQ,GAAAH,IAAA,CAARG,QAAQ;EAC/D,IAAMsd,KAAK,GAAGhf,YAAY,CAAC3C,IAAI,CAAC;EAChC2hB,KAAK,CAACrhB,OAAO,GAAGN,IAAI;EACpB,IAAAwE,eAAA,GAA6B7B,cAAc,CAACvB,WAAW,CAACN,YAAY,CAAC,GAC/DsD,OAAO,CAACuY,SAAS,CAAC3c,IAAI,CAAC,GACvBc,YAAY,CAAC;IAFZzB,KAAK,GAAAmF,eAAA;IAAEod,WAAW,GAAApd,eAAA;EAGzB7B,eAAe,CAAC,YAAM;IAClB,IAAMkf,iBAAiB,GAAGzd,OAAO,CAACe,SAAS,CAAC6I,KAAK,CAAC3I,SAAS,CAAC;MACxDC,IAAI,EAAE,SAAAA,KAAA4M,KAAA,EAAc;QAAA,IAAXlS,IAAI,GAAAkS,KAAA,CAAJlS,IAAI;QAET,OAAM,CAAC,CAAC2hB,KAAK,CAACrhB,OAAO,IACrB,CAACN,IAAI,IACLuF,qBAAqB,CAACoc,KAAK,CAACrhB,OAAO,CAAC,CAACD,IAAI,CAAC,UAACoc,SAAS;UAAA,OAAKzc,IAAI,IACzDyc,SAAS,KACRA,SAAS,CAACvO,UAAU,CAAClO,IAAI,CAAC,IACvBA,IAAI,CAACkO,UAAU,CAACuO,SAAS,CAAC,CAAC;UAAC,KACpCmF,WAAW,CAACxd,OAAO,CAACuY,SAAS,CAACgF,KAAK,CAACrhB,OAAO,EAAEQ,YAAY,CAAC,CAAC;;KAClE,CAAC;IACFuD,QAAQ,IAAIwd,iBAAiB,CAACnc,WAAW,EAAE;IAC3C,OAAO;MAAA,OAAMmc,iBAAiB,CAACnc,WAAW,EAAE;;GAC/C,EAAE,CAACrB,QAAQ,EAAED,OAAO,EAAEtD,YAAY,CAAC,CAAC;EACrC,OAAOzB,KAAK;AAChB;;ACzBA,IAAMyiB,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,OAAO,EAAOhX,EAAE,EAAMD,IAAI,EAAS;EAAA,IAAnCiX,OAAO;IAAPA,OAAO,GAAG,EAAE;;EAAA,IAAEhX,EAAE;IAAFA,EAAE,GAAG,CAAC;;EAAA,IAAED,IAAI;IAAJA,IAAI,GAAG,CAAC;;EAClD,IAAMkX,UAAU,GAAG,GAAA5hB,MAAA,CAAI2hB,OAAO,EAAElX,KAAK,CAACC,IAAI,EAAEC,EAAE,CAAC;EAE/C,OAAO,IAAI8M,GAAG,CAACmK,UAAU,CAAC;AAC9B,CAAC;AAED,AAAe,SAASC,UAAUA,CAACC,IAAI,EAAiB;EAAA,IAAAC,KAAA;EAAA,IAArBD,IAAI;IAAJA,IAAI,GAAG;MAAEliB,IAAI,EAAE;KAAI;;EAElD,IAAAoiB,SAAA,GAA4BC,cAAQ,CAACH,IAAI,CAAC;IAAnCI,MAAM,GAAAF,SAAA;IAAEG,SAAS,GAAAH,SAAA;EAGxB,IAAAI,UAAA,GAAiCH,cAAQ,CAAC,IAAIxK,GAAG,EAAE,CAAC;IAA7CkK,OAAO,GAAAS,UAAA;IAAEC,aAAa,GAAAD,UAAA;EAC7B,IAAAE,UAAA,GAA0BL,cAAQ,CAAC,CAAC,CAAC;IAA9B3Z,KAAK,GAAAga,UAAA;IAAEC,QAAQ,GAAAD,UAAA;EACtB,IAAAE,UAAA,GAAyCP,cAAQ,EAAAF,KAAA,GAACD,IAAI,cAAAC,KAAA,uBAAJA,KAAA,CAAMniB,IAAI,CAAC;IAAtD6iB,WAAW,GAAAD,UAAA;IAAEE,iBAAiB,GAAAF,UAAA;EAErC,IAAMxd,KAAK,GAAG2d,aAAO,CAAC;IAAA,OAAMT,MAAM,CAACO,WAAW,CAAC;KAAE,CAACna,KAAK,EAAEma,WAAW,CAAC,CAAC;EAOtE,IAAMG,QAAQ,GAAG,SAAXA,QAAQA,CAAI3jB,KAAK,EAAK;IACxB,IAAIA,KAAK,KAAKsB,SAAS,IAAItB,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,EAAE,EAAE;IAG3D,IAAM4jB,QAAQ,GAAG5jB,KAAK,CAACW,IAAI;IAE3B,IAAMkjB,QAAQ,GAAGC,CAAC,CAACzf,GAAG,CAAC4e,MAAM,EAAEW,QAAQ,CAAC;IAGxC,IAAIlB,OAAO,CAAC5J,GAAG,CAAC8K,QAAQ,CAAC,EAAE;MAIvB,IAAMjB,UAAU,GAAGF,cAAc,CAACC,OAAO,EAAEmB,QAAQ,CAAC,SAAS,CAAC,CAAC;MAC/DT,aAAa,CAACT,UAAU,CAAC;MAEzB,IAAMzf,KAAI,GAAG4gB,CAAC,CAACC,SAAS,CAACD,CAAC,CAAC3a,GAAG,CAAC8Z,MAAM,EAAEW,QAAQ,EAAA5c,QAAA,KAAOhH,KAAK;QAAE,SAAS,EAAE6jB,QAAQ,CAAC,SAAS;QAAG,CAAC,CAAC;MAC/FX,SAAS,CAAChgB,KAAI,CAAC;MAGfogB,QAAQ,CAACO,QAAQ,CAAC,SAAS,CAAC,CAAC;MAC7BJ,iBAAiB,CAACG,QAAQ,CAAC;MAG3B;;IAGJ,IAAMI,QAAQ,GAAG3a,KAAK,GAAG,CAAC;IAC1B,IAAMnG,IAAI,GAAG4gB,CAAC,CAACC,SAAS,CAACD,CAAC,CAAC3a,GAAG,CAAC8Z,MAAM,EAAEW,QAAQ,EAAA5c,QAAA,KAAOhH,KAAK;MAAE,SAAS,EAAEgkB;MAAU,CAAC,CAAC;IAEpFV,QAAQ,CAACU,QAAQ,CAAC;IAElBZ,aAAa,CAACV,OAAO,CAACnV,GAAG,CAACqW,QAAQ,CAAC,CAAC;IACpCV,SAAS,CAAChgB,IAAI,CAAC;IACfugB,iBAAiB,CAACG,QAAQ,CAAC;GAI9B;EAcD,IAAMK,UAAU,GAAG,SAAbA,UAAUA,CAAIpB,IAAI,EAAoB;IACxCS,QAAQ,CAAC,CAAC,CAAC;IACXJ,SAAS,CAAC,EAAE,CAAC;IACbE,aAAa,CAAC,EAAE,CAAC;GAEpB;EAED,IAAMc,MAAM,GAAG,SAATA,MAAMA,CAAIC,KAAK,EAAMjD,KAAK,EAAa;IAAA,IAA7BiD,KAAK;MAALA,KAAK,GAAG,CAAC;;IAAA,IAAEjD,KAAK;MAALA,KAAK,GAAG,KAAK;;IACpC,IAAGkD,MAAM,CAACD,KAAK,CAAC,EAAC;MACbE,aAAa,CAACF,KAAK,EAAEjD,KAAK,CAAC;MAC3B;;IAGJ,IAAG,CAAC+B,MAAM,CAACkB,KAAK,CAAC,EAAC;MACd,MAAM,kCAAkC;;IAE5CG,YAAY,CAACH,KAAK,EAAEjD,KAAK,CAAC;GAC7B;EAGD,IAAMmD,aAAa,GAAG,SAAhBA,aAAaA,CAAIF,KAAK,EAAMjD,KAAK,EAAa;IAAA,IAA7BiD,KAAK;MAALA,KAAK,GAAG,CAAC;;IAAA,IAAEjD,KAAK;MAALA,KAAK,GAAG,KAAK;;IAE3C,IAAM8C,QAAQ,GAAGjZ,IAAI,CAACrI,GAAG,CAAC,CAAC,EAAE0hB,MAAM,CAAC/a,KAAK,CAAC,IAAI+a,MAAM,CAACD,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAClE,IAAMI,gBAAgB,GAAGphB,MAAM,CAACmB,IAAI,CAAC2e,MAAM,CAAC,CAACe,QAAQ,GAAG,CAAC,CAAC;IAG1DP,iBAAiB,CAACc,gBAAgB,CAAC;IACnCjB,QAAQ,CAACU,QAAQ,CAAC;IAClB,IAAI9C,KAAK,EAAE;MACP,IAAMsD,YAAY,GAAGV,CAAC,CAACzf,GAAG,CAAC4e,MAAM,EAAEsB,gBAAgB,CAAC;MACpD,IAAM5B,UAAU,GAAGF,cAAc,CAACC,OAAO,EAAEsB,QAAQ,CAAC;MAIpDZ,aAAa,CAACT,UAAU,CAAC;;GAWhC;EAED,IAAM2B,YAAY,GAAG,SAAfA,YAAYA,CAAIH,KAAK,EAAMjD,KAAK,EAAa;IAAA,IAA7BiD,KAAK;MAALA,KAAK,GAAG,CAAC;;IAAA,IAAEjD,KAAK;MAALA,KAAK,GAAG,KAAK;;IAE1C,IAAMsD,YAAY,GAAGV,CAAC,CAACzf,GAAG,CAAC4e,MAAM,EAAEkB,KAAK,CAAC;IAGzC,IAAMH,QAAQ,GAAGjZ,IAAI,CAACrI,GAAG,CAAC,CAAC,EAAE0hB,MAAM,CAAC/a,KAAK,CAAC,IAAI+a,MAAM,CAACD,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;IAClE,IAAMI,gBAAgB,GAAGphB,MAAM,CAACmB,IAAI,CAAC2e,MAAM,CAAC,CAACe,QAAQ,GAAG,CAAC,CAAC;IAG1DP,iBAAiB,CAACc,gBAAgB,CAAC;IACnCjB,QAAQ,CAACU,QAAQ,CAAC;IAClB,IAAI9C,KAAK,EAAE;MACP,IAAMsD,aAAY,GAAGV,CAAC,CAACzf,GAAG,CAAC4e,MAAM,EAAEsB,gBAAgB,CAAC;MACpD,IAAM5B,UAAU,GAAGF,cAAc,CAACC,OAAO,EAAEsB,QAAQ,CAAC;MAIpDZ,aAAa,CAACT,UAAU,CAAC;;GAWhC;EAED,IAAM8B,SAAS,GAAG,SAAZA,SAASA,CAAIN,KAAK,EAAS;IAAA,IAAdA,KAAK;MAALA,KAAK,GAAG,CAAC;;IACxBb,QAAQ,CAACvY,IAAI,CAACpI,GAAG,CAACsgB,MAAM,CAAC1e,MAAM,GAAG,CAAC,EAAE6f,MAAM,CAAC/a,KAAK,CAAC,IAAI+a,MAAM,CAACD,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;GAC9E;EAED,IAAMO,UAAU,GAAG,SAAbA,UAAUA,CAAI1kB,KAAK,EAAK;IAC1B,IAAM6jB,QAAQ,GAAGC,CAAC,CAACzf,GAAG,CAAC4e,MAAM,EAAEO,WAAW,CAAC;IAC3CK,QAAQ,CAAC3P,aAAa,GAAAlN,QAAA,KAAQhH,KAAK,CAAE;GAExC;EAED,OAAO;IACH+F,KAAK,EAAEA,KAAK;IACZ4d,QAAQ,EAAEA,QAAQ;IAClBM,UAAU,EAAEA,UAAU;IACtBT,WAAW,EAAXA,WAAW;IACXna,KAAK,EAAEA,KAAK;IACZI,SAAS,EAAE,CAAAwZ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE1e,MAAM,IAAG,CAAC,IAAI,CAAC;IAClC2f,MAAM,EAAEA,MAAM;IACdO,SAAS,EAAEA,SAAS;IACpBC,UAAU,EAAEA,UAAU;IACtBhC,OAAO,EAAPA;GACH;AACL;;AChLA,IAAMiC,eAAe,GAAGC,OAAO,CAAC,SAAS,CAAC;AAE1C,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAI7kB,KAAK,EAAEsK,OAAO,EAAK;EACnC,OAAUtK,KAAK;AACnB,CAAC;AAED,IAAM8kB,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,UAAU,EAAK;EACxC,IAAI,OAAOA,UAAU,KAAK,WAAW,IAAI,OAAOA,UAAU,CAACC,gBAAgB,KAAK,WAAW,EAAE;IAC3F,MAAM,IAAIC,SAAS,CAAC,4BAA4B,CAAC;;EAEnDF,UAAU,CAACC,gBAAgB,CACzB,YAAY,EACZ,UAAChlB,KAAK,EAAEsK,OAAO;IAAA,OAAKua,UAAU,CAAC7kB,KAAK,AAAS,CAAC;KAC9C,UACF,CAAC;AACL,CAAC;AAED,SAASklB,eAAeA,CAACC,IAAI,EAAE7a,OAAO,EAAE;EACpC,IAAMya,UAAU,GAAGJ,eAAe,CAACQ,IAAI,EAAE7a,OAAO,CAAC;EACjDwa,mBAAmB,CAACC,UAAU,CAAC;EAC/B,OAAOA,UAAU;AACrB;;ACrBuC,IAETK,WAAW,YAAXA,WAAWA,CAACtlB,IAAI,EAAEulB,MAAM;EAAA,IAAG;IACrD,IAAMN,UAAU,GAAGO,eAAO,CAACD,MAAM,CAAC;IAAC,OAAA/P,OAAA,CAAAC,OAAA,CACdwP,UAAU,CAACQ,QAAQ,CAACzlB,IAAI,CAAC;GAEjD,QAAA6X,CAAA;IAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;AAAA;;ACJD,IAAM6N,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,UAAU,EAAEte,KAAK,EAAEue,EAAE,EAAEC,iBAAiB,EAAUC,gBAAgB,EAAa;EAAA,IAAxDD,iBAAiB;IAAjBA,iBAAiB,GAAG,KAAK;;EAAA,IAAEC,gBAAgB;IAAhBA,gBAAgB,GAAG,KAAK;;EAClG,IAAI,CAACzlB,KAAK,CAACC,OAAO,CAACqlB,UAAU,CAAC,EAAE;IAC9B,MAAM,IAAII,KAAK,CAAC,8BAA8B,CAAC;;EAGjD,IAAA9C,SAAA,GAA8BC,cAAQ,CAACyC,UAAU,CAAC;IAA3C/C,OAAO,GAAAK,SAAA;IAAE+C,UAAU,GAAA/C,SAAA;EAC1B,IAAAI,UAAA,GAAwCH,cAAQ,CAAC,CAAC,CAAC;IAA5C+C,YAAY,GAAA5C,UAAA;IAAE6C,eAAe,GAAA7C,UAAA;EAEpC8C,eAAS,CAAC,YAAM;IACd,IAAIvD,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;MACxByhB,eAAe,CAAC,CAAC,CAAC;KACnB,MAAM;MACL,IAAMhC,QAAQ,GAAGtB,OAAO,CAACwD,SAAS,CAAC,UAAAvO,CAAC;QAAA,OAAIA,CAAC,CAACxQ,KAAK,CAAC,KAAKue,EAAE;QAAC;MACxDM,eAAe,CAAChC,QAAQ,IAAI,CAAC,GAAGA,QAAQ,GAAG,CAAC,CAAC;;GAEhD,EAAE,CAAC0B,EAAE,CAAC,CAAC;EAERO,eAAS,CAAC,YAAM;IAEd,IAAIvD,OAAO,CAACne,MAAM,GAAG,CAAC,IAAI,CAACme,OAAO,CAAC,CAAC,CAAC,CAAC7iB,IAAI,EAAE;MAC1CimB,UAAU,CAAC,UAAAK,WAAW,EAAI;QACxB,IAAMC,eAAe,GAAApf,QAAA,KAAQmf,WAAW,CAAC,CAAC,CAAC;UAAEtmB,IAAI,EAAE;UAAW;QAC9D,QAAQumB,eAAe,EAAArlB,MAAA,CAAKolB,WAAW,CAAC3a,KAAK,CAAC,CAAC,CAAC;OACjD,CAAC;;GAEL,EAAE,CAACkX,OAAO,CAAC,CAAC;EAEb,IAAM2D,YAAY,GAAG,SAAfA,YAAYA;IAAA,OAAUN,YAAY,GAAG,CAAC,IAAIrD,OAAO,CAACne,MAAM,GAAG,KAAK,GAAGwhB,YAAY,GAAG,CAAC;GAAC;EAC1F,IAAMO,gBAAgB,GAAG,SAAnBA,gBAAgBA;IAAA,OAAUP,YAAY,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,GAAGA,YAAY,GAAG,CAAC;GAAC;EAEhF,IAAM9f,IAAI,GAAG,SAAPA,IAAIA,GAAS;IACjB,IAAIyc,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;IACtC,IAAMgiB,SAAS,GAAGF,YAAY,EAAE;IAChC,OAAOE,SAAS,KAAK,KAAK,GAAG7D,OAAO,CAAC6D,SAAS,CAAC,GAAG,KAAK;GACxD;EAED,IAAMtlB,OAAO,GAAG,SAAVA,OAAOA;IAAA,OAAU8kB,YAAY,IAAI,CAAC,IAAIA,YAAY,GAAGrD,OAAO,CAACne,MAAM,GAAGme,OAAO,CAACqD,YAAY,CAAC,GAAG,KAAK;GAAC;EAE1G,IAAMhT,QAAQ,GAAG,SAAXA,QAAQA,GAAS;IACrB,IAAI2P,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE,OAAO,KAAK;IACtC,IAAMiiB,aAAa,GAAGF,gBAAgB,EAAE;IACxC,OAAOE,aAAa,KAAK,KAAK,GAAG9D,OAAO,CAAC8D,aAAa,CAAC,GAAG,KAAK;GAChE;EAED,IAAMC,SAAS,GAAG,SAAZA,SAASA,GAAS;IACtB,IAAI/D,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAC1ByhB,eAAe,CAAC,CAAC,CAAC;GACnB;EAED,IAAMU,IAAI,GAAG,SAAPA,IAAIA,CAAIC,KAAK,EAAEC,WAAW,EAAa;IAAA,IAAxBA,WAAW;MAAXA,WAAW,GAAG,KAAK;;IACtC,IAAIlE,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAC1B,IAAMyf,QAAQ,GAAGtB,OAAO,CAACwD,SAAS,CAAC,UAAAvO,CAAC;MAAA,OAAIA,CAAC,CAACxQ,KAAK,CAAC,KAAKwf,KAAK;MAAC;IAC3D,IAAI3C,QAAQ,IAAI,CAAC,EAAE;MACjBgC,eAAe,CAAChC,QAAQ,CAAC;MACzB,IAAI4C,WAAW,EAAE;QACfC,gBAAgB,CAAC7C,QAAQ,CAAC;;;GAG/B;EAED,IAAM8C,MAAM,GAAG,SAATA,MAAMA,GAAS;IACnB,IAAIpE,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAC1B,IAAMgiB,SAAS,GAAGF,YAAY,EAAE;IAChC,IAAIE,SAAS,KAAK,KAAK,EAAE;MACvBP,eAAe,CAACO,SAAS,CAAC;;GAE7B;EAED,IAAMQ,SAAS,GAAG,SAAZA,SAASA,CAAI1d,KAAK,EAAEud,WAAW,EAAa;IAAA,IAAxBA,WAAW;MAAXA,WAAW,GAAG,KAAK;;IAC3C,IAAIlE,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAC1B,IAAI8E,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAGqZ,OAAO,CAACne,MAAM,EAAE;MACxCyhB,eAAe,CAAC3c,KAAK,CAAC;MACtB,IAAIud,WAAW,EAAE;QACfC,gBAAgB,CAACxd,KAAK,CAAC;;;GAG5B;EAED,IAAM6a,MAAM,GAAG,SAATA,MAAMA,CAAI0C,WAAW,EAAa;IAAA,IAAxBA,WAAW;MAAXA,WAAW,GAAG,KAAK;;IACjC,IAAIlE,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAC1B,IAAMiiB,aAAa,GAAGF,gBAAgB,EAAE;IACxC,IAAIE,aAAa,KAAK,KAAK,EAAE;MAC3BR,eAAe,CAACQ,aAAa,CAAC;MAC9B,IAAII,WAAW,EAAE;QACfC,gBAAgB,CAACL,aAAa,CAAC;;;GAGpC;EAED,IAAMQ,eAAe,GAAG,SAAlBA,eAAeA,CAAIJ,WAAW,EAAUK,aAAa,EAAY;IAAA,IAA9CL,WAAW;MAAXA,WAAW,GAAG,KAAK;;IAAA,IAAEK,aAAa;MAAbA,aAAa,GAAG,IAAI;;IAChE,IAAIvE,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAE1B,IAAIiiB,aAAa,GAAGT,YAAY,GAAG,CAAC;IACpC,IAAIkB,aAAa,EAAE;MACjB,OAAOT,aAAa,IAAI,CAAC,IAAI9D,OAAO,CAAC8D,aAAa,CAAC,CAAC3mB,IAAI,KAAK,WAAW,EAAE;QACxE2mB,aAAa,EAAE;;;IAInB,IAAIA,aAAa,IAAI,CAAC,EAAE;MACtBR,eAAe,CAACQ,aAAa,CAAC;MAC9B,IAAII,WAAW,EAAE;QACfC,gBAAgB,CAACL,aAAa,CAAC;;;GAGpC;EAED,IAAMU,eAAe,GAAG,SAAlBA,eAAeA,CAAIN,WAAW,EAAUK,aAAa,EAASpnB,IAAI,EAAiB;IAAA,IAAhE+mB,WAAW;MAAXA,WAAW,GAAG,KAAK;;IAAA,IAAEK,aAAa;MAAbA,aAAa,GAAG,IAAI;;IAAA,IAAEpnB,IAAI;MAAJA,IAAI,GAAG,SAAS;;IAClF,IAAI6iB,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAE1B,IAAIgiB,SAAS,GAAGR,YAAY,GAAG,CAAC;IAChC,IAAIkB,aAAa,EAAE;MACjB,OAAOV,SAAS,GAAG7D,OAAO,CAACne,MAAM,IAAIme,OAAO,CAAC6D,SAAS,CAAC,CAAC1mB,IAAI,KAAKA,IAAI,EAAE;QACrE0mB,SAAS,EAAE;;;IAIf,IAAIA,SAAS,GAAG7D,OAAO,CAACne,MAAM,EAAE;MAC9ByhB,eAAe,CAACO,SAAS,CAAC;MAC1B,IAAIK,WAAW,EAAE;QACfC,gBAAgB,CAACN,SAAS,CAAC;;;GAGhC;EAED,IAAMY,OAAO,GAAG,SAAVA,OAAOA,GAAS;IACpB,IAAIzE,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAC1ByhB,eAAe,CAACtD,OAAO,CAACne,MAAM,GAAG,CAAC,CAAC;GACpC;EAED,IAAM6iB,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIhe,MAAM,EAAEie,WAAW,EAAK;IACnD,IAAGA,WAAW,GAAG3E,OAAO,CAACne,MAAM,EAAE;IACjC,IAAM+iB,QAAQ,MAAAvmB,MAAA,CAAO2hB,OAAO,CAAC;IAC7B4E,QAAQ,CAAC3b,MAAM,CAAC0b,WAAW,EAAE,CAAC,EAAEje,MAAM,CAAC;IACvC0c,UAAU,CAACwB,QAAQ,CAAC;IACpBtB,eAAe,CAACqB,WAAW,CAAC;GAC7B;EAED,IAAME,YAAY,GAAG,SAAfA,YAAYA,CAAIne,MAAM,EAAEie,WAAW,EAAEG,sBAAsB,EAAUC,sBAAsB,EAAiB;IAAA,IAAvED,sBAAsB;MAAtBA,sBAAsB,GAAG,KAAK;;IAAA,IAAEC,sBAAsB;MAAtBA,sBAAsB,GAAGnmB,SAAS;;IAC3G,IAAIqkB,iBAAiB,IAAI,CAAC6B,sBAAsB,EAAE;MAChD,IAAME,aAAa,GAAGhF,OAAO,CAACwD,SAAS,CAAC,UAAAvO,CAAC;QAAA,OAAIA,CAAC,CAACxQ,KAAK,CAAC,KAAKiC,MAAM,CAACjC,KAAK,CAAC;QAAC;MACxE,IAAIugB,aAAa,KAAK,CAAC,CAAC,EAAE;QACxB,IAAID,sBAAsB,KAAKnmB,SAAS,GAAGmmB,sBAAsB,GAAG7B,gBAAgB,EAAE;UACpF,IAAM0B,QAAQ,MAAAvmB,MAAA,CAAO2hB,OAAO,CAAC;UAC7B4E,QAAQ,CAACI,aAAa,CAAC,GAAGte,MAAM;UAChC0c,UAAU,CAACwB,QAAQ,CAAC;UACpBtB,eAAe,CAAC0B,aAAa,CAAC;SAC/B,MAAM;UACL1B,eAAe,CAAC0B,aAAa,CAAC;;QAEhC;;;IAIJ,IAAMC,cAAc,GAAG5U,QAAQ,EAAE;IACjC,IAAM6U,UAAU,GAAGD,cAAc,IAAIA,cAAc,CAAC9nB,IAAI,KAAK,SAAS,GAAG,WAAW,GAAG,SAAS;IAEhG,IAAMgoB,qBAAqB,GAAA7gB,QAAA,KACtBoC,MAAM,EACL,CAACA,MAAM,CAACvJ,IAAI,IAAI;MAACA,IAAI,EAAE+nB;KAAW,CACvC;IAED,IAAIP,WAAW,KAAK/lB,SAAS,EAAE;MAC7B8lB,mBAAmB,CAACS,qBAAqB,EAAER,WAAW,CAAC;KACxD,MAAM;MACLvB,UAAU,IAAA/kB,MAAA,CAAK2hB,OAAO,GAAEmF,qBAAqB,EAAC,CAAC;MAC/C7B,eAAe,CAACtD,OAAO,CAACne,MAAM,CAAC;;GAElC;EAED,IAAMujB,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,aAAa,EAAK;IACvC,IAAIrF,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAI1B,IAAIwhB,YAAY,KAAK,CAAC,IAAIgC,aAAa,CAACloB,IAAI,KAAK,WAAW,EAAE;MAC5DkoB,aAAa,CAACloB,IAAI,GAAG,SAAS;;IAGhC,IAAMmoB,YAAY,MAAAjnB,MAAA,CAAO2hB,OAAO,CAAC;IACjCsF,YAAY,CAACjC,YAAY,CAAC,GAAGgC,aAAa;IAC1CjC,UAAU,CAACkC,YAAY,CAAC;GACzB;EAED,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIF,aAAa,EAAK;IAC1C,IAAIrF,OAAO,CAACne,MAAM,KAAK,CAAC,EAAE;IAI1B,IAAIwhB,YAAY,KAAK,CAAC,IAAIgC,aAAa,CAACloB,IAAI,KAAK,WAAW,EAAE;MAC5DkoB,aAAa,CAACloB,IAAI,GAAG,SAAS;;IAGhC,IAAMwJ,KAAK,GAAGqZ,OAAO,CAACwD,SAAS,CAAC,UAAAvO,CAAC;MAAA,OAAIA,CAAC,CAACxQ,KAAK,CAAC,KAAK4gB,aAAa,CAAC5gB,KAAK,CAAC;MAAC;IACvE,IAAIkC,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB,IAAM2e,YAAY,MAAAjnB,MAAA,CAAO2hB,OAAO,CAAC;MACjCsF,YAAY,CAAC3e,KAAK,CAAC,GAAG0e,aAAa;MACnCjC,UAAU,CAACkC,YAAY,CAAC;;GAE3B;EAED,IAAME,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAGC,WAAW,EAAI;IACzC,IAAIA,WAAW,IAAI,CAAC,IAAIA,WAAW,GAAGzF,OAAO,CAACne,MAAM,EAAE;MACpD,IAAM+iB,QAAQ,MAAAvmB,MAAA,CAAO2hB,OAAO,CAAC;MAC7B4E,QAAQ,CAAC3b,MAAM,CAACwc,WAAW,EAAE,CAAC,CAAC;MAC/BrC,UAAU,CAACwB,QAAQ,CAAC;MAGpB,IAAIa,WAAW,GAAGpC,YAAY,EAAE;QAC9BC,eAAe,CAACD,YAAY,GAAG,CAAC,CAAC;;MAGnC,IAAIA,YAAY,IAAIrD,OAAO,CAACne,MAAM,GAAG,CAAC,EAAE;QACtCyhB,eAAe,CAACtD,OAAO,CAACne,MAAM,GAAG,CAAC,CAAC;;;GAGxC;EAED,IAAM6jB,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAGC,UAAU,EAAI;IACvC,IAAMF,WAAW,GAAGzF,OAAO,CAACwD,SAAS,CAAC,UAAAvO,CAAC;MAAA,OAAIA,CAAC,CAACxQ,KAAK,CAAC,KAAKkhB,UAAU;MAAC;IACnEH,mBAAmB,CAACC,WAAW,CAAC;GACjC;EAED,IAAMG,aAAa,GAAG,SAAhBA,aAAaA,CAAGjf,KAAK,EAAI;IAC7B,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAGqZ,OAAO,CAACne,MAAM,EAAE;MACxC,IAAMgkB,MAAM,MAAAxnB,MAAA,CAAO2hB,OAAO,CAAC;MAC3B6F,MAAM,CAAC5c,MAAM,CAACtC,KAAK,EAAE,CAAC,CAAC;MACvByc,UAAU,CAACyC,MAAM,CAAC;MAClB,IAAIxC,YAAY,IAAIrD,OAAO,CAACne,MAAM,EAAE;QAClCyhB,eAAe,CAACtD,OAAO,CAACne,MAAM,GAAG,CAAC,GAAGme,OAAO,CAACne,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;;;GAGjE;EAED,IAAMikB,YAAY,GAAG,SAAfA,YAAYA,CAAG7nB,IAAI,EAAI;IAC3B,IAAM0I,KAAK,GAAGqZ,OAAO,CAACwD,SAAS,CAAC,UAAAvO,CAAC;MAAA,OAAIA,CAAC,CAACxQ,KAAK,CAAC,KAAKxG,IAAI;MAAC;IACvD,IAAI0I,KAAK,KAAK,CAAC,CAAC,EAAE;MAChBif,aAAa,CAACjf,KAAK,CAAC;;GAEvB;EAED,IAAMof,WAAW,GAAG,SAAdA,WAAWA,GAAS;IACxB,IAAI/F,OAAO,CAACne,MAAM,GAAG,CAAC,EAAE;MACtB+jB,aAAa,CAAC,CAAC,CAAC;;GAEnB;EAED,IAAMI,UAAU,GAAG,SAAbA,UAAUA,GAAS;IACvB,IAAIhG,OAAO,CAACne,MAAM,GAAG,CAAC,EAAE;MACtB+jB,aAAa,CAAC5F,OAAO,CAACne,MAAM,GAAG,CAAC,CAAC;;GAEpC;EAED,IAAMokB,SAAS,GAAG,SAAZA,SAASA,GAAS;IACtB7C,UAAU,CAAC,EAAE,CAAC;IACdE,eAAe,CAAC,CAAC,CAAC;GACnB;EAED,IAAMa,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGxd,KAAK,EAAI;IAChC,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAGqZ,OAAO,CAACne,MAAM,GAAG,CAAC,EAAE;MAC5C,IAAMgkB,MAAM,MAAAxnB,MAAA,CAAO2hB,OAAO,CAAC;MAC3B6F,MAAM,CAAC5c,MAAM,CAACtC,KAAK,GAAG,CAAC,CAAC;MACxByc,UAAU,CAACyC,MAAM,CAAC;MAClB,IAAIxC,YAAY,IAAIrD,OAAO,CAACne,MAAM,EAAE;QAClCyhB,eAAe,CAACtD,OAAO,CAACne,MAAM,GAAG,CAAC,GAAGme,OAAO,CAACne,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;;;GAGjE;EAED,IAAMqkB,UAAU,GAAG,SAAbA,UAAUA,GAAS;IACvB,IAAMC,WAAW,GAAG,EAAE;IACtBnG,OAAO,CAAC1I,OAAO,CAAC,UAACzY,GAAG,EAAE8H,KAAK,EAAK;MAC9B,IAAMyf,KAAK,GAAGvnB,GAAG,CAAC4F,KAAK,CAAC;MACxB0hB,WAAW,CAACC,KAAK,CAAC,GAAGvnB,GAAG;KACzB,CAAC;IACF,OAAOsnB,WAAW;GACnB;EAED,OAAO;IACLnG,OAAO,EAAPA,OAAO;IACPqD,YAAY,EAAZA,YAAY;IACZ9f,IAAI,EAAJA,IAAI;IACJhF,OAAO,EAAPA,OAAO;IACP8R,QAAQ,EAARA,QAAQ;IACR0T,SAAS,EAATA,SAAS;IACTC,IAAI,EAAJA,IAAI;IACJI,MAAM,EAANA,MAAM;IACNC,SAAS,EAATA,SAAS;IACT7C,MAAM,EAANA,MAAM;IACNiD,OAAO,EAAPA,OAAO;IACPI,YAAY,EAAZA,YAAY;IACZH,mBAAmB,EAAnBA,mBAAmB;IACnBkB,aAAa,EAAbA,aAAa;IACbE,YAAY,EAAZA,YAAY;IACZC,WAAW,EAAXA,WAAW;IACXC,UAAU,EAAVA,UAAU;IACVC,SAAS,EAATA,SAAS;IACT9B,gBAAgB,EAAhBA,gBAAgB;IAChBqB,mBAAmB,EAAnBA,mBAAmB;IACnBE,kBAAkB,EAAlBA,kBAAkB;IAClBN,aAAa,EAAbA,aAAa;IACbd,eAAe,EAAfA,eAAe;IACfiB,gBAAgB,EAAhBA,gBAAgB;IAChBf,eAAe,EAAfA,eAAe;IACf0B,UAAU,EAAVA;GACD;AACH,CAAC;;AC5SD,IAAMG,eAAe,GAAG,SAAlBA,eAAeA,CAAIjpB,IAAI,EAAEa,IAAI,EAAEY,GAAG;EAAA,OAAK,UAACynB,KAAK,EAAK;IAMpD,IAAAnkB,IAAA,GAA6CmkB,KAAK,CAACC,WAAW,IAAI;QAAE7O,SAAS,EAAE9Y;OAAW;MAAlF8Y,SAAS,GAAAvV,IAAA,CAATuV,SAAS;MAAE8O,SAAS,GAAArkB,IAAA,CAATqkB,SAAS;MAAAC,UAAA,GAAAtkB,IAAA,CAAGwE,KAAK;MAALA,KAAK,GAAA8f,UAAA,cAAG,CAAC,GAAAA,UAAA;IACxC,IAAM3hB,MAAM,GAAAR,QAAA,KAAQkiB,SAAS,EAAM9O,SAAS,IAAIA,SAAS,EAAE,IAAI,EAAE;MAAG/Q,KAAK,EAALA,KAAK;MAAE+f,YAAY,EAAE/f,KAAK,GAAG;MAAG;IAQpG,IAAI,OAAOvJ,IAAI,KAAK,QAAQ,EAAE;MAM1B,IAAMupB,KAAK,GAAG,2BAA2B;MACzC,IAAMC,OAAO,GAAGxpB,IAAI,CAACkX,KAAK,CAACqS,KAAK,CAAC;MACjC,IAAIC,OAAO,EAAE;QAET,IAAI;UACA,IAAM5nB,MAAM,GAAG,IAAI6nB,QAAQ,CAAC,MAAM,mBAAiBD,OAAO,CAAC,CAAC,CAAG,CAAC,CAAAtiB,QAAA,KACzDQ,MAAM;YACTwhB,KAAK,EAALA;YACH,CAAC;UAQF,OAAOtnB,MAAM;SAChB,CAAC,OAAOgH,KAAK,EAAE;UAEZ,OAAO5I,IAAI;;;MAOnB,IAAIA,IAAI,KAAKwB,SAAS,IAAIxB,IAAI,CAACqG,QAAQ,CAAC,IAAI,CAAC,EAAE;QAE3C,OAAO2d,CAAC,CAACzf,GAAG,CAACmD,MAAM,EAAE1H,IAAI,CAACc,SAAS,CAAC,CAAC,CAAC,CAAC;;MAG3C,IAAId,IAAI,KAAKwB,SAAS,IAAIxB,IAAI,CAACqG,QAAQ,CAAC,IAAI,CAAC,EAAE;QAE3C,IAAI;UAIA,IAAMzE,OAAM,GAAG,IAAI6nB,QAAQ,CAAC,MAAM,mBAAiBzpB,IAAI,CAAC0L,KAAK,CAAC,CAAC,CAAG,CAAC,CAAAxE,QAAA,KAC5DQ,MAAM;YACTwhB,KAAK,EAALA;YACH,CAAC;UAEF,IAAI,OAAOtnB,OAAM,KAAK,UAAU,EAAE;YAE9B,OAAOA,OAAM,CAAC8F,MAAM,CAAC;;UAEzB,IAAI9F,OAAM,aAANA,OAAM,eAANA,OAAM,CAAEyV,IAAI,EAAE;YAEd,OAAOzV,OAAM,CAACyV,IAAI,CAAC,UAAUqS,QAAQ,EAAE;cAEnC,OAAOA,QAAQ;aAClB,CAAC;;UAGN,OAAO9nB,OAAM;SAChB,CAAC,OAAOgH,KAAK,EAAE;;MAKpB,IAAI+gB,aAAa,GAAG3pB,IAAI;MAIxB,IAAIA,IAAI,KAAKwB,SAAS,IAAIxB,IAAI,CAACqG,QAAQ,CAAC,IAAI,CAAC,EAAE;QAC3CsjB,aAAa,GAAGA,aAAa,CAACvgB,OAAO,CAAC,eAAe,EAAE,UAAC4a,CAAC,EAAEnjB,IAAI,EAAK;UAEhE,IAAI;YAEA,IAAMe,QAAM,GAAGgoB,IAAI,YAAU5F,CAAG,CAAC;YACjC,IAAI,OAAOpiB,QAAM,KAAK,UAAU,EAAE;cAC9B,OAAOA,QAAM,CAAC8F,MAAM,CAAC;;YAEzB,OAAO9F,QAAM;WAChB,CAAC,OAAOgH,KAAK,EAAE;YAEZ,OAAOob,CAAC;;SAEf,CAAC;;MAGN2F,aAAa,GAAGA,aAAa,CAACvgB,OAAO,CAAC,cAAc,EAAE,UAACygB,CAAC,EAAEhpB,IAAI,EAAK;QAE/D,IAAMe,MAAM,GAAGoiB,CAAC,CAACzf,GAAG,CAACmD,MAAM,EAAE7G,IAAI,CAAC,IAAI,EAAE;QAIxC,OAAOe,MAAM,KAAKJ,SAAS,IAAII,MAAM;OACxC,CAAC;MAEF,OAAO+nB,aAAa;;IAIxB,OAAO3pB,IAAI;GACd;AAAA;;AC1HD,IAAM8pB,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAI9pB,IAAI,EAAEa,IAAI,EAAEY,GAAG;EAAA,OAAK,UAACynB,KAAK,EAAK;IACzD,IAAMxhB,MAAM,GAAAR,QAAA,KAAQzF,GAAG,CAAC0nB,WAAW,CAAE;IACrC,IAAInpB,IAAI,KAAKwB,SAAS,IAAIxB,IAAI,KAAK,IAAI,EAAE,OAAOA,IAAI;IAEpD,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;MAE1B,IAAIA,IAAI,KAAKwB,SAAS,IAAIxB,IAAI,CAACqG,QAAQ,CAAC,IAAI,CAAC,EAAE;QAC3C,IAAI;UAEA,IAAMzE,MAAM,GAAGgoB,IAAI,qBAAmB5pB,IAAI,CAAC0L,KAAK,CAAC,CAAC,CAAG,CAAC;UACtD,IAAI,OAAO9J,MAAM,KAAK,UAAU,EAAE;YAC9B,OAAOA,MAAM,CAAC8F,MAAM,CAAC;;UAEzB,OAAO9F,MAAM;SAChB,CAAC,OAAOgH,KAAK,EAAE;;MAKpB,IAAI5I,IAAI,KAAK,EAAE,EAAE;QAAA,IAAA+pB,KAAA;QACb,IAAMnoB,OAAM,IAAAmoB,KAAA,GAAG/F,CAAC,CAACzf,GAAG,CAACmD,MAAM,EAAE1H,IAAI,CAACc,SAAS,CAAC,CAAC,CAAC,CAAC,YAAAipB,KAAA,GAAI/pB,IAAI;QAEvD,OAAO4B,OAAM;;;IAIrB,OAAO5B,IAAI;GACd;AAAA;;AC7BD,IAAMgqB,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,aAAa,EAAEC,SAAS,EAAEC,eAAe,EAAK;EACjE,KAAK,IAAInoB,GAAG,IAAIioB,aAAa,EAAE;IAC3B,IAAI/pB,KAAK,GAAG+pB,aAAa,CAACjoB,GAAG,CAAC;IAE9B,IAAI,CAAA9B,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEkqB,WAAW,MAAK/mB,MAAM,EAAE;MAC/B,IAAI8mB,eAAe,IAAI,IAAI,IAAIA,eAAe,IAAI,EAAE,EAAE;QAClDD,SAAS,CAACloB,GAAG,CAAC,GAAG9B,KAAK;OACzB,MAAM;QACH,IAAI8B,GAAG,IAAI,IAAI,IAAIA,GAAG,IAAI,EAAE,EAAE;UAC1BkoB,SAAS,CAACC,eAAe,CAAC,GAAGjqB,KAAK;SACrC,MAAM;UACHgqB,SAAS,CAACC,eAAe,GAAG,GAAG,GAAGnoB,GAAG,CAAC,GAAG9B,KAAK;;;KAGzD,MAAM;MACH,IAAIiqB,eAAe,IAAI,IAAI,IAAIA,eAAe,IAAI,EAAE,EAAE;QAClDH,aAAa,CAAC9pB,KAAK,EAAEgqB,SAAS,EAAEloB,GAAG,CAAC;OACvC,MAAM;QACHgoB,aAAa,CAAC9pB,KAAK,EAAEgqB,SAAS,EAAEC,eAAe,GAAG,GAAG,GAAGnoB,GAAG,CAAC;;;;AAI5E,CAAC;AAED,IAAMqoB,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,SAAS,EAAK;EACjC,IAAMJ,SAAS,GAAG,EAAE;EAEpBF,aAAa,CAACM,SAAS,EAAEJ,SAAS,EAAE,EAAE,CAAC;EAEvC,OAAOA,SAAS;AACpB,CAAC;;AC3BD,IAAMK,WAAW,GAAG,SAAdA,WAAWA,CAAI3jB,IAAI,EAAE4jB,WAAW,EAAOC,cAAc,EAAU;EAAA,IAA1CD,WAAW;IAAXA,WAAW,GAAG,EAAE;;EAAA,IAAEC,cAAc;IAAdA,cAAc,GAAG,EAAE;;EAC5D,IAAI7jB,IAAI,KAAKpF,SAAS,EAAE,OAAO,EAAE;EAEjC,IAAMkpB,YAAY,GAAG;IACjBnmB,GAAG,WAAAA,IAAC7D,MAAM,EAAE2D,IAAI,EAAEsmB,QAAQ,EAAE;MACxB,IAAI,OAAOjqB,MAAM,CAAC2D,IAAI,CAAC,KAAK,QAAQ,IAAI3D,MAAM,CAAC2D,IAAI,CAAC,KAAK,IAAI,EAAE;QAE3D,OAAO,IAAIumB,KAAK,CAAClqB,MAAM,CAAC2D,IAAI,CAAC,EAAEqmB,YAAY,CAAC;OAC/C,MAAM;QACH,OAAOZ,oBAAoB,CACvBppB,MAAM,CAAC2D,IAAI,CAAC,EACZA,IAAI,EACJ3D,MACJ,CAAC,CAAAwG,QAAA,KACMujB,cAAc,CACpB,CAAC;;;GAGb;EAED,IAAMI,WAAW,GAAG,IAAID,KAAK,CAAA1jB,QAAA,KAElBmjB,aAAa,CAAAnjB,QAAA,KACTN,IAAI,CAACkkB,MAAM,CAACvF,MAAM,CACxB,CAAC;IACF4D,WAAW,EAAAjiB,QAAA,KAAOsjB,WAAW,EAAK5jB,IAAI;MAE1C8jB,YACJ,CAAC;EACD,OAAOG,WAAW;AACtB,CAAC;;AC9BD,IAAME,UAAU,GAAG,SAAbA,UAAUA,CAAInkB,IAAI,EAAE4jB,WAAW,EAAOC,cAAc,EAAU;EAAA,IAA1CD,WAAW;IAAXA,WAAW,GAAG,EAAE;;EAAA,IAAEC,cAAc;IAAdA,cAAc,GAAG,EAAE;;EAC3D,IAAMO,UAAU,GAAGT,WAAW,CAAC3jB,IAAI,EAAE4jB,WAAW,EAAEC,cAAc,CAAC;EAEjE,IAAIQ,SAAS,GAAG,EAAE;EAClB,IAAMC,CAAC,GAAG7nB,MAAM,CAACmB,IAAI,CAACwmB,UAAU,CAAC,CAAC3f,GAAG,CAAC,UAAC8f,EAAE,EAAK;IAC1C,IAAIA,EAAE,KAAK,aAAa,EAAE;IAC1BF,SAAS,GAAGjH,CAAC,CAAC3a,GAAG,CAAC4hB,SAAS,EAAEE,EAAE,EAAEH,UAAU,CAACG,EAAE,CAAC,CAAC;GAEnD,CAAC;EAEF,OAAOnH,CAAC,CAACC,SAAS,CAACgH,SAAS,CAAC;AACjC,CAAC;;ACdD,SAASG,aAAaA,CAACN,MAAM,EAAEO,aAAa,EAAEzkB,IAAI,EAAEwiB,SAAS,EAAE;EAC3D,IAAIkC,aAAa,GAAG9V,OAAO,CAACC,OAAO,CAAC7O,IAAI,CAAC;EAAC,IAAA2kB,KAAA,YAAAA,MAAAC,YAAA,EAEP;IAC/B,IAAMC,MAAM,GAAGX,MAAM,CAACU,YAAY,CAAC;IACnC,IAAME,aAAa,GAAGL,aAAa,CAACG,YAAY,CAAC;IACjDF,aAAa,GAAGA,aAAa,CAACjU,IAAI,CAAC,UAACzV,MAAM,EAAK;MAE3C,OAAO8pB,aAAa,CAACD,MAAM,CAAC,CAACrC,SAAS,CAAC,CAACxnB,MAAM,CAAC;KAClD,CAAC;GACL;EAPD,KAAK,IAAM4pB,YAAY,IAAIV,MAAM;IAAAS,KAAA,CAAAC,YAAA;;EASjC,OAAOF,aAAa;AACxB;;ACbA,IAAMK,yBAAyB,GAAG;EAC9BC,KAAK,YAAShlB,IAAI,EAAE1G,KAAK;IAAA,IAAK;MAC1B,OAAAsV,OAAA,CAAAC,OAAA,CAAQvV,KAAK,KAAK,EAAE,IAAI,CAAC0G,IAAI,CAAC1G,KAAK,CAACmG,QAAQ,CAACnG,KAAK,CAAC,IAAK,KAAK;KAChE,QAAA2X,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACDgU,EAAE,YAASjlB,IAAI,EAAE1G,KAAK;IAAA,IAAK;MACvB,OAAAsV,OAAA,CAAAC,OAAA,CAAO,CAAAvV,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEiL,QAAQ,EAAE,MAAKvE,IAAI,CAAC1G,KAAK;KAC1C,QAAA2X,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACDiU,gBAAgB,YAASllB,IAAI,EAAE1G,KAAK;IAAA,IAAK;MACrC,OAAAsV,OAAA,CAAAC,OAAA,CAAQvV,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC1G,KAAK,CAACmG,QAAQ,CAACnG,KAAK,CAAC,IAAK,KAAK;KAC/D,QAAA2X,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;AACL,CAAC;;ACyDM,IAAMkU,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAInoB,KAAK,EAAK;EAAA,IAAAooB,aAAA;EAG7C,IAAA3I,UAAA,GAA0BH,cAAQ,CAACtf,KAAK,CAACqB,OAAO,CAAC9D,OAAO,IAAIyC,KAAK,CAACqB,OAAO,CAAC9D,OAAO,CAACyC,KAAK,CAAC/C,IAAI,CAAC,CAAC;IAAvFwG,KAAK,GAAAgc,UAAA;IAAE4I,QAAQ,GAAA5I,UAAA;EAYtB,IAAMza,KAAK,GAAGhF,KAAK,CAACkC,MAAM,IAAIlC,KAAK,CAACkC,MAAM,CAAC3E,OAAO,MAAA6qB,aAAA,GAAIpoB,KAAK,CAACkC,MAAM,cAAAkmB,aAAA,uBAAZA,aAAA,CAAc7qB,OAAO,CAACyC,KAAK,CAAC/C,IAAI,CAAC;EAEvF,IAAA0iB,UAAA,GAA4BL,cAAQ,CAAC,EAAE,CAAC;EAIxC,IAAM3gB,QAAQ,GAAG,SAAXA,QAAQA,CAAIrC,KAAK,EAAK;IAQxB0D,KAAK,CAACsoB,eAAe,CAAChsB,KAAK,EAAE0D,KAAK,CAAC/C,IAAI,CAAC;IACxCorB,QAAQ,CAAA/kB,QAAA,KAAMG,KAAK;MAAEnH,KAAK,EAAEA;MAAO,CAAC;GAEvC;EAUD,OAAO0D,KAAK,CAACkF,MAAM,CAAC;IAAEvG,QAAQ,EAARA,QAAQ;IAAErC,KAAK,EAAEmH,KAAK,CAACnH,KAAK;IAAEmH,KAAK,EAALA,KAAK;IAAEuB,KAAK,EAALA,KAAK;IAAEW,KAAK,EAAE3F,KAAK,CAAC2F;GAAO,CAAC;AAC3F,CAAC;AAED,AAEA,IAAM4iB,GAAG,GAAG3oB,cAAK,CAAC4oB,IAAI,CAClB,UAACxoB,KAAK;EAAA,oBAAKJ,cAAA,CAAA6oB,aAAA,CAACN,sBAAsB,EAAKnoB,KAAQ,CAAC;AAAA,GAChD,UAAC0oB,SAAS,EAAEC,SAAS,EAAK;EAAA,IAAAC,iBAAA,EAAAC,kBAAA,EAAAC,iBAAA;EAEtB,IAAMC,IAAI,GAAI,EAAAH,iBAAA,GAAAF,SAAS,CAACxmB,MAAM,cAAA0mB,iBAAA,uBAAhBA,iBAAA,CAAkBrrB,OAAO,OAAAsrB,kBAAA,GAAIH,SAAS,CAACxmB,MAAM,cAAA2mB,kBAAA,uBAAhBA,kBAAA,CAAkBtrB,OAAO,CAACmrB,SAAS,CAACzrB,IAAI,CAAC,KAAK,EAAE;EAC3F,IAAM+rB,IAAI,GAAG,EAAAF,iBAAA,GAAAH,SAAS,CAACzmB,MAAM,cAAA4mB,iBAAA,uBAAhBA,iBAAA,CAAkBvrB,OAAO,CAACorB,SAAS,CAAC1rB,IAAI,CAAC,KAAI,EAAE;EAE5D,IAAMgsB,MAAM,GAAG7I,CAAC,CAAC8I,OAAO,CAACH,IAAI,EAAEC,IAAI,CAAC;EAepC,IAAIG,IAAI,CAACC,SAAS,CAACT,SAAS,CAAC,KAAKQ,IAAI,CAACC,SAAS,CAACV,SAAS,CAAC,EAAE;IACzD,OAAO,IAAI;;EAEf,OAAO,KAAK;AAChB,CACJ,CAAC;AAED,AAKA,IAAMW,UAAU,GAAG,SAAbA,UAAUA,CACZjtB,IAAI,EACJksB,eAAe,EACfgB,SAAS,EACTC,QAAQ,EACRrnB,MAAM,EACNsnB,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACfhZ,UAAU,EACV6U,WAAW,EACX/K,QAAQ,EACP;EAGD,IAAMpT,CAAC,GAAGhL,IAAI,CACTqB,MAAM,CAAC,UAACvB,OAAO;IAAA,OAAKA,OAAO,CAACqF,OAAO;IAAC,CACpCkG,GAAG,CAAC,UAACzE,IAAI,EAAE2C,KAAK,EAAK;IAGlB,IAIIzD,MAAM,GASNqjB,WAAW,CATXrjB,MAAM;MACNb,OAAO,GAQPkkB,WAAW,CARXlkB,OAAO;MACP0V,AAIAxN,aAAa,GAGbgc,WAAW,CAHXhc,aAAa;IAMjB,IAAMtM,IAAI,GAAGyT,UAAU,IAAOA,UAAU,SAAI1N,IAAI,CAAC/F,IAAM,IAAI+F,IAAI,CAAC/F,IAAI;IAEpE,IAAIe,MAAM,GAAG,IAAI;IACjB,IAAI2rB,KAAK,GAAG,EAAE;IACd,IAAI3mB,IAAI,CAAC4mB,KAAK,EAAE;MACZD,KAAK,GAAGN,UAAU,CACdrmB,IAAI,CAAC4mB,KAAK,EACVtB,eAAe,EACfgB,SAAS,EACTC,QAAQ,EACRrnB,MAAM,EACNsnB,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACf,CAAA1mB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4mB,KAAK,KAAI3sB,IAAI,IAAIW,SAAS,EAChC2nB,WAAW,AAEf,CAAC;;IAGL,IAAMsE,UAAU,GAAG;MACf3qB,SAAS,EAAE8D,IAAI,CAAC9D,SAAS,IAAI8D,IAAI,CAAC9D,SAAS,CAAC5C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC9D,SAAS,IAAItB,SAAS;MACvFuB,SAAS,EAAE6D,IAAI,CAAC7D,SAAS,IAAI6D,IAAI,CAAC7D,SAAS,CAAC7C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC7D,SAAS,IAAIvB,SAAS;MACvFoB,GAAG,EAAEgE,IAAI,CAAChE,GAAG,IAAIgE,IAAI,CAAChE,GAAG,CAAC1C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAChE,GAAG,IAAIpB,SAAS;MAC/DqB,GAAG,EAAE+D,IAAI,CAAC/D,GAAG,IAAI+D,IAAI,CAAC/D,GAAG,CAAC3C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC/D,GAAG,IAAIrB,SAAS;MAC/DwB,OAAO,EAAE4D,IAAI,CAAC5D,OAAO,IAAI4D,IAAI,CAAC5D,OAAO,CAAC9C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC5D,OAAO,IAAIxB,SAAS;MAC/EyB,QAAQ,EAAE2D,IAAI,CAAC3D,QAAQ,IAAI2D,IAAI,CAAC3D,QAAQ,CAAC/C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC3D,QAAQ,IAAIzB;KAC7E;IAODI,MAAM,gBACF4B,cAAA,CAAA6oB,aAAA,CAACxjB,UAAU;MACP7G,GAAG,EAAE4E,IAAI,CAACtG,OAAO,KAAK,IAAI,IAAOO,IAAI,cAAW,IAAIA,IAAK;MACzDA,IAAI,EAAE+F,IAAI,CAACtG,OAAO,KAAK,IAAI,IAAOO,IAAI,cAAW,IAAIA,IAAK;MAC1DoE,OAAO,EAAEA,OAAQ;MACjB2B,IAAI,EAAEA,IAAK;MAGXO,KAAK,EAAEP,IAAI,CAAC8mB,IAAI,IAAID,UAAW;MAC/B3kB,MAAM,EAAE,SAAAA,OAAA/D,IAAA,EAAe;QAAA,IAAZsC,KAAK,GAAAtC,IAAA,CAALsC,KAAK;QA2BZ,IAAIT,IAAI,CAACtG,OAAO,EAAE;UAEd,IAAAqtB,cAAA,GAAmCxgB,aAAa,CAAC;cAC7ClI,OAAO,EAAPA,OAAO;cACPpE,IAAI,EAAEA;aACT,CAAC;YAHMmJ,MAAM,GAAA2jB,cAAA,CAAN3jB,MAAM;YAAEuB,MAAM,GAAAoiB,cAAA,CAANpiB,MAAM;YAAE2C,MAAM,GAAAyf,cAAA,CAANzf,MAAM;UAW9Bqf,KAAK,gBACD/pB,cAAA,CAAA6oB,aAAA,CAAAuB,QAAA,qBAWIpqB,cAAA,CAAA6oB,aAAA,aACKriB,MAAM,CAACqB,GAAG,CAAC,UAAC8f,EAAE,EAAE5hB,KAAK;YAAA,oBAClB/F,cAAA,CAAA6oB,aAAA;cAAIrqB,GAAG,EAAEmpB,EAAE,CAACvF;eACPhf,IAAI,CAAC4mB,KAAK,CAACniB,GAAG,CAAC,UAACvL,OAAO,EAAE+tB,IAAI;cAAA,oBAC1BrqB,cAAA,CAAA6oB,aAAA,CAACxjB,UAAU;gBACPhI,IAAI,EAAKA,IAAI,SAAI0I,KAAK,SAAIzJ,OAAO,CAACe,IAAO;gBACzCoE,OAAO,EAAEA,OAAQ;gBACjB6D,MAAM,EAAE,SAAAA,OAAAiK,KAAA,EAAe;kBAAA,IAAZ1L,KAAK,GAAA0L,KAAA,CAAL1L,KAAK;kBACZ,IAAMymB,SAAS,GAAGT,UAAU,CAACvtB,OAAO,CAACC,IAAI,EAAE;oBACvCsH,KAAK,EAALA,KAAK;oBACLT,IAAI,EAAE9G,OAAO;oBACbe,IAAI,EAAKA,IAAI,SAAI0I,KAAK,SAAIzJ,OAAO,CAACe,IAAM;oBACxCgtB,IAAI,EAAJA,IAAI;oBACJP,eAAe,EAAfA,eAAe;oBACfC,KAAK,EAALA,KAAK;oBACLpgB,aAAa,EAAbA;mBACH,CAAC;kBACF,OAAO2gB,SAAS;;eAEvB,CAAC;aACL,CAAC,eACFtqB,cAAA,CAAA6oB,aAAA;cAAQtsB,IAAI,EAAC,QAAQ;cAACguB,OAAO,EAAE,SAAAA;gBAAA,OAAM7f,MAAM,CAAC3E,KAAK,CAAC;;eAAE,GAAS,CAC7D,CAAC;WACR,CAED,CAAC,eAOL/F,cAAA,CAAA6oB,aAAA;YACItsB,IAAI,EAAC,QAAQ;YAEbguB,OAAO,EAAE,SAAAA;cAAA,OAAMxiB,MAAM,CAAC,EAAE,CAAC;;aAE5B,GAEO,CACV,CAAC;;QAIX,IAAMuiB,SAAS,GAAGT,UAAU,CAACzmB,IAAI,CAAC7G,IAAI,EAAE;UACpCsH,KAAK,EAALA,KAAK;UACLT,IAAI,EAAJA,IAAI;UACJ/F,IAAI,EAAJA,IAAI;UACJ0I,KAAK,EAALA,KAAK;UACL+jB,eAAe,EAAfA,eAAe;UACfC,KAAK,EAALA,KAAK;UACLpgB,aAAa,EAAbA,aAAa;UACbvE,KAAK,EAAE9C,MAAM;UACbqjB,WAAW,EAAXA;SACH,CAAC;QACF,OAAO2E,SAAS;;KAGvB,CACJ;IAED,OAAOlsB,MAAM;GAChB,CAAC;EAEN,OAAOoJ,CAAC;AACZ,CAAC;AAED,AAOA,IAAMgjB,UAAU,GAAG,SAAbA,UAAUA,CACZhuB,IAAI,EACJksB,eAAe,EACfgB,SAAS,EACTC,QAAQ,EACRrnB,MAAM,EACNsnB,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACfhZ,UAAU,EACVrP,OAAO,EACPmZ,QAAQ,EACP;EAGD,IAAIpe,IAAI,KAAKwB,SAAS,EAAE,OAAO,IAAI;EACnC,IAAMwJ,CAAC,GAAGhL,IAAI,CACTqB,MAAM,CAAC,UAACvB,OAAO;IAAA,OAAKA,OAAO,CAACqF,OAAO;IAAC,CACpCkG,GAAG,CAAC,UAACzE,IAAI,EAAE2C,KAAK,EAAK;IAIlB,IAAM1I,IAAI,GAAGyT,UAAU,IAAOA,UAAU,SAAI1N,IAAI,CAAC/F,IAAM,IAAI+F,IAAI,CAAC/F,IAAI;IAEpE,IAAIe,MAAM,GAAG,IAAI;IACjB,IAAI2rB,KAAK,GAAG,EAAE;IACd,IAAI3mB,IAAI,CAAC4mB,KAAK,EAAE;MACZD,KAAK,GAAGS,UAAU,CACdpnB,IAAI,CAAC4mB,KAAK,EACVtB,eAAe,EACfgB,SAAS,EACTC,QAAQ,EACRrnB,MAAM,EACNsnB,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACf,CAAA1mB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4mB,KAAK,KAAI3sB,IAAI,IAAIW,SAAS,EAChCyD,OAAO,AAEX,CAAC;;IAQLrD,MAAM,gBACF4B,cAAA,CAAA6oB,aAAA,CAACxjB,UAAU;MACP7G,GAAG,EAAEnB,IAAK;MACVA,IAAI,EAAEA,IAAK;MACXoE,OAAO,EAAEA,OAAQ;MACjB2B,IAAI,EAAEA,IAAK;MAGXO,KAAK,EAAEP,IAAI,CAAC8mB,IAAI,IAAI,EAAG;MACvB5kB,MAAM,EAAE,SAAAA,OAAA0T,KAAA,EAAe;QAAA,IAAZnV,KAAK,GAAAmV,KAAA,CAALnV,KAAK;QA6EZ,IAAMymB,SAAS,GAAGT,UAAU,CAACzmB,IAAI,CAAC7G,IAAI,EAAE;UACpCsH,KAAK,EAALA,KAAK;UACLT,IAAI,EAAJA,IAAI;UACJ/F,IAAI,EAAJA,IAAI;UACJ0I,KAAK,EAALA,KAAK;UACL+jB,eAAe,EAAfA;SACH,CAAC;QAEF,OAAOQ,SAAS;;KAGvB,CA8CJ;IAED,OAAOlsB,MAAM;GAChB,CAAC;EAEN,OAAOoJ,CAAC;AACZ,CAAC;AACD,IAAMijB,YAAY,GAAGzqB,cAAK,CAAC4oB,IAAI,CAAC,UAAAxoB,KAAK;EAAA,OAAIoqB,UAAU,CAACpqB,KAAK,CAAC;AAAA,GACtD,UAAC0oB,SAAS,EAAEC,SAAS,EAAK;EACtB,IAAI,CAACvc,SAAS,CAACuc,SAAS,EAAED,SAAS,CAAC,EAAE;IAClC,OAAO,IAAI;;EAEf,OAAO,KAAK;AAChB,CACJ,CAAC;AACD2B,YAAY,CAACxqB,WAAW,GAAG,YAAY;AACvCwqB,YAAY,CAACC,eAAe,GAAG,IAAI;AASnC,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIpmB,KAAK,EAAE/F,GAAG,EAAEnB,IAAI,EAAEutB,MAAM,EAAE9tB,OAAO,EAAK;EAG1D,IAAMsB,MAAM,GAAGmG,KAAK,CAAChG,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAEqf,YAAY,EAAK;IAAA,IAAAoI,SAAA;IAErD,IAAMC,QAAQ,GAAGhuB,OAAO,KAAKkB,SAAS,IAAIoF,IAAI,CAAC5E,GAAG,CAAC,IAAOosB,MAAM,WAAMxnB,IAAI,CAAC5E,GAAG,CAAG;IAGjF,IAAMusB,KAAK,GAAI1tB,IAAI,IAAOA,IAAI,eAAUolB,YAAY,MAAG,UAASA,YAAY,MAAG;IAC/E,OAAA/e,QAAA,KACOzF,GAAG,GAAA4sB,SAAA,OAAAA,SAAA,CAELC,QAAQ,IAAApnB,QAAA,KACFN,IAAI;MACP/F,IAAI,EAAEytB,QAAQ;MACdC,KAAK,EAALA;OACIH,MAAM,IAAI;MAAEA,MAAM,EAANA;KAAQ,GAAAC,SAAA,GAGxBznB,IAAI,CAAC4mB,KAAK,KAAKhsB,SAAS,IAAI2sB,cAAc,CAACvnB,IAAI,CAAC4mB,KAAK,EAAE,MAAM,EAAEe,KAAK,EAAE3nB,IAAI,CAAC5E,GAAG,CAAC,EAAE4E,IAAI,CAACtG,OAAO,CAAC;GAEzG,EAAE,IAAIsd,GAAG,EAAE,CAAC;EAEb,OAAOhc,MAAM;AACjB,CAAC;AAED,IAAM4sB,UAAU,GAAG,SAAbA,UAAUA,CAAIzmB,KAAK,EAAE/F,GAAG,EAAEnB,IAAI,EAAEutB,MAAM,EAAK;EAG7C,IAAMxsB,MAAM,GAAGmG,KAAK,CAAChG,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAEqf,YAAY,EAAK;IAAA,IAAAwI,SAAA;IAGrD,IAAMF,KAAK,GAAI1tB,IAAI,IAAOA,IAAI,eAAUolB,YAAY,MAAG,UAASA,YAAY,MAAG;IAC/E,OAAA/e,QAAA,KACOzF,GAAG,GAAAgtB,SAAA,OAAAA,SAAA,CAEL7nB,IAAI,CAAC5E,GAAG,CAAC,IAAAkF,QAAA,KACHN,IAAI;MACP2nB,KAAK,EAALA,KAAK;MACLruB,KAAK,EAAE;OACHkuB,MAAM,IAAI;MAAEA,MAAM,EAANA;KAAQ,GAAAK,SAAA,GAGxB7nB,IAAI,CAAC4mB,KAAK,KAAKhsB,SAAS,IAAI2sB,cAAc,CAACvnB,IAAI,CAAC4mB,KAAK,EAAE,MAAM,EAAEe,KAAK,EAAE3nB,IAAI,CAAC5E,GAAG,CAAC,CAAC;GAE3F,EAAE,IAAI4b,GAAG,EAAE,CAAC;EAEb,OAAOhc,MAAM;AACjB,CAAC;AAED,AAmBA,IAAM8sB,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAIlB,KAAK,EAAExrB,GAAG,EAAK;EAG7C,IAAM2sB,YAAY,GAAG,IAAI/Q,GAAG,EAAE;EAE9Bva,MAAM,CAACmB,IAAI,CAACgpB,KAAK,CAAC,CAACtT,OAAO,CAAC,UAAClY,GAAG,EAAK;IAChC,IAAIwrB,KAAK,CAACxrB,GAAG,CAAC,CAAC4sB,YAAY,EAAE;MACzB,IAAMC,eAAe,GAAGC,oBAAoB,CAACtB,KAAK,CAACxrB,GAAG,CAAC,CAAC4sB,YAAY,EAAE,OAAO,CAAC;MAM9E,IAAMpqB,IAAI,GAAGnB,MAAM,CAACmB,IAAI,CAACqqB,eAAe,CAAC;MACzC,KAAK,IAAItlB,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG/E,IAAI,CAACC,MAAM,EAAE8E,KAAK,EAAE,EAAE;QAC9C,IAAMwlB,YAAY,GAAGF,eAAe,CAACrqB,IAAI,CAAC+E,KAAK,CAAC,CAAC;QACjDolB,YAAY,CAACtlB,GAAG,CAAC0lB,YAAY,CAACluB,IAAI,KAAAI,MAAA,CACzB0tB,YAAY,CAACpqB,GAAG,CAACwqB,YAAY,CAACluB,IAAI,CAAC,IAAI8tB,YAAY,CAACpqB,GAAG,CAACwqB,YAAY,CAACluB,IAAI,CAAC,IAAK,EAAE,GAAAqG,QAAA;UACpFqnB,KAAK,EAAEf,KAAK,CAACxrB,GAAG,CAAC,CAACusB;WAAUQ,YAAY,GAC7C,CAAC;;;GA2Bb,CAAC;EAEF,OAAOJ,YAAY;AACvB,CAAC;AAYD,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAI/mB,KAAK,EAAE/F,GAAG,EAAE9B,KAAK,EAAK;EAChD,IAAMyuB,YAAY,GAAG,EAAE;EACvB,IAAI,CAACtuB,KAAK,CAACC,OAAO,CAACyH,KAAK,CAAC,EAAE;EAC3B,IAAMinB,UAAU,GAAGjnB,KAAK,CAAC9G,MAAM,EAAE;EACjC,OAAO+tB,UAAU,CAACjtB,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAK;IAAA,IAAAqoB,SAAA;IACpC,OAAA/nB,QAAA,KACOzF,GAAG,GAAAwtB,SAAA,OAAAA,SAAA,CACLroB,IAAI,CAAC5E,GAAG,CAAC,IAAI9B,KAAK,IAAI0G,IAAI,CAAC1G,KAAK,CAAC,IAAMA,KAAK,KAAKsB,SAAS,IAAIoF,IAAK,IAAI,EAAE,EAAAqoB,SAAA;GAEjF,EAAEN,YAAY,CAAC;AACpB,CAAC;AAED,AAwBA,IAAMO,aAAa,GAAG1rB,cAAK,CAAC2rB,UAAU,CAAC,UAAA/R,KAAA,EAKbjV,GAAG,EAAK;EAAA,IALQqlB,KAAK,GAAApQ,KAAA,CAALoQ,KAAK;IAAA4B,qBAAA,GAAAhS,KAAA,CAC3CiS,kBAAkB;IAAlBA,kBAAkB,GAAAD,qBAAA,cAAGzD,yBAAyB,GAAAyD,qBAAA;IAC9ChC,oBAAoB,GAAAhQ,KAAA,CAApBgQ,oBAAoB;IACpBC,UAAU,GAAAjQ,KAAA,CAAViQ,UAAU;IACVC,eAAe,GAAAlQ,KAAA,CAAfkQ,eAAe;IAAAgC,mBAAA,GAAAlS,KAAA,CACfhJ,aAAa;IAAbA,aAAa,GAAAkb,mBAAA,cAAG,EAAE,GAAAA,mBAAA;EAIlB,IAAAC,QAAA,GAWItN,OAAO,CAAC;MACRvR,IAAI,EAAE,UAAU;MAGhB0D,aAAa,EAAbA;KACH,CAAC;IAfEnN,QAAQ,GAAAsoB,QAAA,CAARtoB,QAAQ;IACRkZ,YAAY,GAAAoP,QAAA,CAAZpP,YAAY;IACZtR,KAAK,GAAA0gB,QAAA,CAAL1gB,KAAK;IACQ/I,MAAM,GAAAypB,QAAA,CAAnBvrB,SAAS,CAAI8B,MAAM;IACnBb,OAAO,GAAAsqB,QAAA,CAAPtqB,OAAO;IACP0V,OAAO,GAAA4U,QAAA,CAAP5U,OAAO;IACPoH,QAAQ,GAAAwN,QAAA,CAARxN,QAAQ;IACRzH,SAAS,GAAAiV,QAAA,CAATjV,SAAS;IACT8D,QAAQ,GAAAmR,QAAA,CAARnR,QAAQ;IACRO,iBAAiB,GAAA4Q,QAAA,CAAjB5Q,iBAAiB;EAQrB,IAAMwK,WAAW,GAAG;IAChBliB,QAAQ,EAARA,QAAQ;IACRkZ,YAAY,EAAZA,YAAY;IACZtR,KAAK,EAALA,KAAK;IACL/I,MAAM,EAANA,MAAM;IACNb,OAAO,EAAPA,OAAO;IACP0V,OAAO,EAAPA,OAAO;IACPoH,QAAQ,EAARA,QAAQ;IACRzH,SAAS,EAATA,SAAS;IACT8D,QAAQ,EAARA,QAAQ;IACRjR,aAAa,EAAbA,aAAa;IACboV,QAAQ,EAARA,QAAQ;IACR5D,iBAAiB,EAAjBA;GACH;EAED,IAAM6Q,YAAY,GAAGhsB,cAAK,CAACisB,MAAM,EAAE;EAEnC,IAAMC,kBAAkB,GAAGlsB,cAAK,CAACisB,MAAM,EAAE;EACzC,IAAME,iBAAiB,GAAGnsB,cAAK,CAACisB,MAAM,EAAE;EAGxC,IAAAhM,UAAA,GAAwBP,cAAQ,EAAE;IAA3BljB,IAAI,GAAAyjB,UAAA;IAAEmM,OAAO,GAAAnM,UAAA;EAEpBjgB,cAAK,CAAC2iB,SAAS,CAAC,YAAM;IAClB,IAAIqH,KAAK,KAAKhsB,SAAS,EAAE;IAGzBguB,YAAY,CAACruB,OAAO,GAAGgtB,cAAc,CAACX,KAAK,EAAE,MAAM,CAAC;IAEpDkC,kBAAkB,CAACvuB,OAAO,GAAGutB,wBAAwB,CAACc,YAAY,CAACruB,OAAO,CAAC;IAI3E,IAAMyQ,YAAY,GAAG/C,KAAK,WAAQ3O,KAAK,EAAAue,KAAA;MAAA,IAAI5d,IAAI,GAAA4d,KAAA,CAAJ5d,IAAI;MAAM,IAAO;QAAA,OAAA2U,OAAA,CAAAC,OAAA;UAAA,IACpDia,kBAAkB,CAACvuB,OAAO,CAACoD,GAAG,CAAC1D,IAAI,CAAC;YAAA,OAAA2U,OAAA,CAAAC,OAAA,CAGfoa,iBAAiB,CAAChvB,IAAI,EAAEX,KAAK,CAACW,IAAI,CAAC,EAAE2sB,KAAK,CAAC,EAAAnW,IAAA,WAAA0H,KAAA;cAAA,IAAzD3S,CAAC,GAAA2S,KAAA;gBAAE1S,CAAC,GAAA0S,KAAA;cAAA,IACP,CAAC/O,SAAS,CAAChQ,IAAI,EAAEqM,CAAC,CAAC,IAAID,CAAC;gBACxBwjB,OAAO,IAAA3uB,MAAA,CAAKoL,CAAC,CAAC,CAAC;;;;;OAM1B,QAAAwL,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;MAAC;IAEF+X,OAAO,CAACpC,KAAK,CAAC;GACjB,EAAEA,KAAK,CAAC;EAgBT,IAAMsC,WAAW,GAAG,SAAdA,WAAWA,GAAS;IACtBN,YAAY,CAACruB,OAAO,GAAGqtB,UAAU,CAAChB,KAAK,EAAE,MAAM,CAAC;IAChDoC,OAAO,CAACpC,KAAK,CAAC;GACjB;EAOD,IAAMuC,YAAY,YAAZA,YAAYA;IAAA,IAAe;MAE7B,IAAI1sB,MAAM,CAACmB,IAAI,CAACsB,MAAM,CAAC,CAACrB,MAAM,GAAG,CAAC,EAAE,OAAA+Q,OAAA,CAAAC,OAAA,CAAO,KAAK;MAAC,OAAAD,OAAA,CAAAC,OAAA,CAC5BkF,OAAO,EAAE,EAAAtD,IAAA,WAAxBzV,MAAM;QAAA,IAERA,MAAM,KAAK,IAAI;UAAA,OAAA4T,OAAA,CAAAC,OAAA,CACF6E,SAAS,EAAE;;UAExB,OAAO,KAAK;;;KAEnB,QAAAzC,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAED1P,GAAG,CAAChH,OAAO,GAAG;IACVmZ,SAAS,EAAEyV,YAAY;IACvBD,WAAW,EAAEA;GAChB;EAED,IAAME,cAAc,YAAdA,cAAcA,CAAUnvB,IAAI,EAAEX,KAAK,EAAE0B,MAAM;IAAA,IAAK;MAElD,IAAMquB,aAAa,GAAGT,YAAY,CAACruB,OAAO,CAACN,IAAI,CAAC;MAChD,IAAIqvB,CAAC,GAAGtuB,MAAM;MACd,IAAMuuB,cAAc,GAAGjpB,QAAA,KAAKpB,MAAM,CAAC3E,OAAO,KAAM,EAAE;MAClD,IAAMivB,SAAS,GAAGtqB,MAAM,CAAC3E,OAAO,IAAI,EAAE;MAEtC,IAAIyH,KAAK,GAAG,KAAK;MAGjB,IAAI1I,KAAK,KAAK,EAAE,EAAE;QACd,IAAM0I,MAAK,GAAG1I,KAAK,KAAK,KAAK;QAC7B,IAAI0I,MAAK,EAAE;UACPwnB,SAAS,CAACvvB,IAAI,CAAC,GAAG;YACd+H,KAAK,EAALA,MAAK;YACLynB,QAAQ,EAAEJ,aAAa,CAACI,QAAQ,IAAIJ,aAAa,CAACI,QAAQ,IAAI;WACjE;SACJ,MAAM;UACH,OAAOD,SAAS,CAACvvB,IAAI,CAAC;;OAI7B,MAAM;QACH,OAAOuvB,SAAS,CAACvvB,IAAI,CAAC;;MAI1BiF,MAAM,CAAC3E,OAAO,GAAA+F,QAAA,KAAQkpB,SAAS,CAAE;MAGjC,IAAIxnB,KAAK,CAACzH,OAAO,KAAKgvB,cAAc,EAAE;MAetC,OAAA3a,OAAA,CAAAC,OAAA,CAAO,CAAC,CAACuO,CAAC,CAAC8I,OAAO,CAACqD,cAAc,EAAEC,SAAS,CAAC,KAAAnvB,MAAA,CAAMivB,CAAC,GAAGE,SAAS,CAACvvB,IAAI,CAAC,CAAC;KAC1E,QAAAgX,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAED,IAAMqU,eAAe,YAAfA,eAAeA,CAAUhsB,KAAK,EAAEW,IAAI;IAAA,IAAK;MAG3C2uB,YAAY,CAACruB,OAAO,CAACN,IAAI,CAAC,CAACX,KAAK,GAAGA,KAAK;MAAA,IAAAowB,qBAAA,GAGjBd,YAAY,CAACruB,OAAO;MAAA,OAAAqU,OAAA,CAAAC,OAAA,CAAqBsa,YAAY,EAAE,EAAA1Y,IAAA,WAAAkZ,aAAA;QAAA,OAAA/a,OAAA,CAAAC,OAAA,CAG1Bua,cAAc,CAACnvB,IAAI,EAAEX,KAAK,KAAAe,MAAA,CAAMjB,IAAI,CAAC,CAAC,EAAAqX,IAAA,WAAAmZ,KAAA;UAAA,IAAnFC,oBAAoB,GAAAD,KAAA;YAAE5uB,MAAM,GAAA4uB,KAAA;YAAE5nB,KAAK,GAAA4nB,KAAA;UAAA,OAAAhb,OAAA,CAAAC,OAAA,CACQoa,iBAAiB,CAAChvB,IAAI,EAAEX,KAAK,EAAE0B,MAAM,CAAC,EAAAyV,IAAA,WAAA2J,KAAA;YAAA,IAAjF0P,sBAAsB,GAAA1P,KAAA;cAAE2P,SAAS,GAAA3P,KAAA;YAAA,IAGpCyP,oBAAoB,KAAK,IAAI,IAAIC,sBAAsB,KAAK,IAAI;cAShEd,OAAO,IAAA3uB,MAAA,CAAK0vB,SAAS,CAAC,CAAC;;;;;KAM9B,QAAA9Y,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAED,IAAMgY,iBAAiB,YAAjBA,iBAAiBA,CAAUhvB,IAAI,EAAEX,KAAK,EAAE0B,MAAM;IAAA,IAAK;MAAA,IAAA2V,MAAA,YAAAA;QA0CrD,OAAO,CAACqZ,OAAO,KAAA3vB,MAAA,CAAMivB,CAAC,EAAE;;MAxCxB,IAAMW,YAAY,GAAGnB,kBAAkB,CAACvuB,OAAO,CAACoD,GAAG,CAAC1D,IAAI,CAAC;MAQzD,IAAIqvB,CAAC,MAAAjvB,MAAA,CAAOW,MAAM,CAAC;MAEnB,IAAIgvB,OAAO,GAAG,KAAK;MAAA,IAAAlZ,KAAA;QAAA,IAEfmZ,YAAY,KAAKrvB,SAAS;UAAA,OAAAgU,OAAA,CAAAC,OAAA,CAQpBob,YAAY,CAACxlB,GAAG,WAAQzE,IAAI;YAAA,IAAK;cAAA,IAAAuO,MAAA,YAAAA,OAE7B2b,OAAO;gBAAA,IAAA3Z,MAAA;kBAAA,IAET6M,CAAC,CAACzf,GAAG,CAAC;oBAAE6H,CAAC,EAAE8jB;mBAAG,QAAMtpB,IAAI,CAAC2nB,KAAK,aAAU,CAAC,KAAKuC,OAAO;oBAErDZ,CAAC,GAAGlM,CAAC,CAAC3a,GAAG,CAAC;sBAAE+C,CAAC,EAAE8jB;qBAAG,QAAMtpB,IAAI,CAAC2nB,KAAK,eAAYuC,OAAO,CAAC,CAAC1kB,CAAC;oBACxDwkB,OAAO,GAAG,IAAI;oBAAA,OAAApb,OAAA,CAAAC,OAAA,CAGJuO,CAAC,CAACzf,GAAG,CAAC;sBAAE6H,CAAC,EAAE8jB;qBAAG,QAAMtpB,IAAI,CAAC2nB,KAAK,aAAU,CAAC,EAAAlX,IAAA,WAAA0S,KAAA;sBAAA,OAAAvU,OAAA,CAAAC,OAAA,CACzCqb,OAAO,EAAAzZ,IAAA,WAAA0Z,QAAA;;;;gBAAA,IAAA5Z,MAAA,IAAAA,MAAA,CAAAE,IAAA,SAAAF,MAAA,CAAAE,IAAA;;cAVrB,IAAM2Z,SAAS,GAAG9wB,KAAK,CAAC,OAAO,CAAC,IAAIA,KAAK;cAAC,IAAA+wB,UAAA,GAC1BrqB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE7G,IAAI;cAAA,OAAAyV,OAAA,CAAAC,OAAA,CAAAwb,UAAA,GAAAzb,OAAA,CAAAC,OAAA,CAAW4Z,kBAAkB,CAACzoB,IAAI,CAAC7G,IAAI,CAAC,CAAC6G,IAAI,EAAEoqB,SAAS,CAAC,EAAA3Z,IAAA,CAAAlC,MAAA,IAAAA,MAAA,CAAA8b,UAAA;aAgBtF,QAAApZ,CAAA;cAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;YAAC,EAAAR,IAAA;;;MAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAAiC,KAAA,IAAAA,KAAA,CAAAL,IAAA,GAAAK,KAAA,CAAAL,IAAA,CAAAE,MAAA,IAAAA,MAAA,CAAAG,KAAA;KAGT,QAAAG,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAGD,OACK7X,IAAI,IACDitB,UAAU,CACNjtB,IAAI,EACJksB,eAAe,EACfsD,YAAY,EACZlV,SAAS,EAAApT,QAAA,KACJpB,MAAM,GACXsnB,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACf9rB,SAAS,EACT2nB,WAAW,AAEf,CAAC,IAEL,IAAI;AAEZ,CAAC,CAAC;AAEF+F,aAAa,CAAChB,eAAe,GAAG,IAAI;AACpCgB,aAAa,CAACzrB,WAAW,GAAG,eAAe;;AC17B3C,IAAMytB,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIrwB,IAAI,EAAEb,IAAI,EAAA+E,IAAA,EAajC;EAAA,IAbqCmnB,eAAe,GAAAnnB,IAAA,CAAfmnB,eAAe;IACrDsD,YAAY,GAAAzqB,IAAA,CAAZyqB,YAAY;IACZlV,SAAS,GAAAvV,IAAA,CAATuV,SAAS;IACTxU,MAAM,GAAAf,IAAA,CAANe,MAAM;IACNsnB,oBAAoB,GAAAroB,IAAA,CAApBqoB,oBAAoB;IACpBC,UAAU,GAAAtoB,IAAA,CAAVsoB,UAAU;IACVC,eAAe,GAAAvoB,IAAA,CAAfuoB,eAAe;IACf9rB,WAAS,GAAAuD,IAAA,CAATvD,SAAS;IACT2nB,WAAW,GAAApkB,IAAA,CAAXokB,WAAW;IACX5f,KAAK,GAAAxE,IAAA,CAALwE,KAAK;IACL6kB,MAAM,GAAArpB,IAAA,CAANqpB,MAAM;IAAA+C,cAAA,GAAApsB,IAAA,CACNqsB,SAAS;IAATA,SAAS,GAAAD,cAAA,cAAG3vB,WAAS,GAAA2vB,cAAA;EAIrB,IAAME,iBAAiB,GAAAnqB,QAAA,KAAOlH,IAAI,CAACa,IAAI,CAAC;IAAEuwB,SAAS,EAATA;IAAW;EAIrD,IAAIC,iBAAiB,KAAK7vB,WAAS,EAAE,OAAO,IAAI;EAEhD,IAAI,CAAA6vB,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAElsB,OAAO,MAAK,KAAK,EAAE,OAAO,IAAI;EACrD,OAAOmsB,mBAAmB,CACtBD,iBAAiB,EACjBnF,eAAe,EACfsD,YAAY,EACZlV,SAAS,EAAApT,QAAA,KACJpB,MAAM,GACXsnB,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACf9rB,WAAS,EACT2nB,WAAW,EACX5f,KAAK,EACLvJ,IAAI,EACJouB,MACJ,CAAC;AACL,CAAC;AAED,IAAMkD,mBAAmB,GAAG,SAAtBA,mBAAmBA,CACrB1qB,IAAI,EACJslB,eAAe,EACfgB,SAAS,EACTC,QAAQ,EACRoE,OAAO,EACPnE,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACfhZ,UAAU,EACV6U,WAAW,EACX5f,KAAK,EACLvJ,IAAI,EACJouB,MAAM,EACL;EAQD,IAIItoB,MAAM,GASNqjB,WAAW,CATXrjB,MAAM;IACNb,OAAO,GAQPkkB,WAAW,CARXlkB,OAAO;IACP0V,AAIAxN,aAAa,GAGbgc,WAAW,CAHXhc,aAAa;EAMjB,IAAMtM,IAAI,GAAGyT,UAAU,IAAOA,UAAU,SAAI1N,IAAI,CAAC/F,IAAM,IAAI+F,IAAI,CAACwqB,SAAS,IAAIxqB,IAAI,CAACwqB,SAAS,IAAIxqB,IAAI,CAAC/F,IAAI;EAExG,IAAIe,MAAM,GAAG,IAAI;EACjB,IAAI2rB,KAAK,GAAG,EAAE;EACd,IAAI3mB,IAAI,CAAC4mB,KAAK,EAAE;IACZD,KAAK,GAAG3mB,IAAI,CAAC4mB,KAAK,CAACniB,GAAG,CAAC,UAACxK,IAAI,EAAC2wB,GAAG;MAAA,OAAKN,kBAAkB,CAACrwB,IAAI,EAAEb,IAAI,EAAE;QAChEksB,eAAe,EAAfA,eAAe;QACfgB,SAAS,EAATA,SAAS;QACTC,QAAQ,EAARA,QAAQ;QACRrnB,MAAM,EAANA,MAAM;QACNsnB,oBAAoB,EAApBA,oBAAoB;QACpBC,UAAU,EAAVA,UAAU;QACVC,eAAe,EAAfA,eAAe;QACfhZ,UAAU,EAAE,CAAA1N,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4mB,KAAK,KAAI3sB,IAAI,IAAIW,SAAS;QAC5C2nB,WAAW,EAAXA,WAAW;QACX5f,KAAK,EAAEioB,GAAG;QACVxxB,IAAI,EAAJA,IAAI;QACJouB,MAAM,EAAE;UAAEvtB,IAAI,EAAE+F,IAAI,CAAC/F,IAAI;UAAE0I,KAAK,EAALA,KAAK;UAAEqc,EAAE,EAAEhf,IAAI,CAACgf;SAAI;QAC/C0I,QAAQ,EAAEztB;OACb,CAAC;MAAC;;EAiBP,IAAM4sB,UAAU,GAAG;IACf3qB,SAAS,EAAE8D,IAAI,CAAC9D,SAAS,IAAI8D,IAAI,CAAC9D,SAAS,CAAC5C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC9D,SAAS,IAAItB,SAAS;IACvFuB,SAAS,EAAE6D,IAAI,CAAC7D,SAAS,IAAI6D,IAAI,CAAC7D,SAAS,CAAC7C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC7D,SAAS,IAAIvB,SAAS;IACvFoB,GAAG,EAAEgE,IAAI,CAAChE,GAAG,IAAIgE,IAAI,CAAChE,GAAG,CAAC1C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAChE,GAAG,IAAIpB,SAAS;IAC/DqB,GAAG,EAAE+D,IAAI,CAAC/D,GAAG,IAAI+D,IAAI,CAAC/D,GAAG,CAAC3C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC/D,GAAG,IAAIrB,SAAS;IAC/DwB,OAAO,EAAE4D,IAAI,CAAC5D,OAAO,IAAI4D,IAAI,CAAC5D,OAAO,CAAC9C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC5D,OAAO,IAAIxB,SAAS;IAC/EyB,QAAQ,EAAE2D,IAAI,CAAC3D,QAAQ,IAAI2D,IAAI,CAAC3D,QAAQ,CAAC/C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC3D,QAAQ,IAAIzB;GAC7E;EAODI,MAAM,gBACF4B,cAAA,CAAA6oB,aAAA,CAACxjB,UAAU;IACP7G,GAAG,EAAE4E,IAAI,CAACtG,OAAO,KAAK,IAAI,IAAOO,IAAI,cAAW,IAAIA,IAAK;IACzDA,IAAI,EAAE+F,IAAI,CAACtG,OAAO,KAAK,IAAI,IAAOO,IAAI,cAAW,IAAIA,IAAK;IAC1DoE,OAAO,EAAEA,OAAQ;IACjB2B,IAAI,EAAEA,IAAK;IACXO,KAAK,EAAEP,IAAI,CAAC8mB,IAAI,IAAID,UAAW;IAC/B3kB,MAAM,EAAE,SAAAA,OAAAiK,KAAA,EAAe;MAAA,IAAZ1L,KAAK,GAAA0L,KAAA,CAAL1L,KAAK;MAEZ,IAAIT,IAAI,CAACtG,OAAO,EAAE;QAEd,IAAAqtB,cAAA,GAAmCxgB,aAAa,CAAC;YAC7ClI,OAAO,EAAPA,OAAO;YACPpE,IAAI,EAAEA;WACT,CAAC;UAHMmJ,MAAM,GAAA2jB,cAAA,CAAN3jB,MAAM;UAAEuB,MAAM,GAAAoiB,cAAA,CAANpiB,MAAM;UAAE2C,MAAM,GAAAyf,cAAA,CAANzf,MAAM;QAK9Bqf,KAAK,gBACD/pB,cAAA,CAAA6oB,aAAA,CAAAuB,QAAA,qBACIpqB,cAAA,CAAA6oB,aAAA,aACKriB,MAAM,CAACqB,GAAG,CAAC,UAAC8f,EAAE,EAAE5hB,KAAK;UAAA,oBAClB/F,cAAA,CAAA6oB,aAAA;YAAIrqB,GAAG,EAAEmpB,EAAE,CAACvF;aACPhf,IAAI,CAAC4mB,KAAK,CAACniB,GAAG,CAAC,UAACvL,OAAO,EAAE+tB,IAAI;YAAA,oBAC1BrqB,cAAA,CAAA6oB,aAAA,CAACxjB,UAAU;cACP7G,GAAG,EAAKnB,IAAI,SAAI0I,KAAK,SAAIvJ,IAAI,CAACF,OAAO,CAAC,CAACe,IAAO;cAC9CA,IAAI,EAAKA,IAAI,SAAI0I,KAAK,SAAIvJ,IAAI,CAACF,OAAO,CAAC,CAACe,IAAO;cAC/CoE,OAAO,EAAEA,OAAQ;cACjB6D,MAAM,EAAE,SAAAA,OAAA0T,KAAA,EAAe;gBAEnB,OAAO0U,kBAAkB,CAACpxB,OAAO,EAAEE,IAAI,EAAE;kBACrCksB,eAAe,EAAfA,eAAe;kBACfgB,SAAS,EAATA,SAAS;kBACTC,QAAQ,EAARA,QAAQ;kBACRrnB,MAAM,EAANA,MAAM;kBACNsnB,oBAAoB,EAApBA,oBAAoB;kBACpBC,UAAU,EAAVA,UAAU;kBACVC,eAAe,EAAfA,eAAe;kBACfhZ,UAAU,EAAE,CAAA1N,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4mB,KAAK,KAAI3sB,IAAI,IAAIW,SAAS;kBAC5C2nB,WAAW,EAAXA,WAAW;kBACX5f,KAAK,EAAEA,KAAK;kBACZvJ,IAAI,EAAJA,IAAI;kBACJouB,MAAM,EAAE;oBAAEvtB,IAAI,EAAE+F,IAAI,CAAC/F,IAAI;oBAAE0I,KAAK,EAALA,KAAK;oBAAEqc,EAAE,EAAEhf,IAAI,CAACgf;mBAAI;kBAC/CwL,SAAS,EAAKvwB,IAAI,SAAI0I,KAAK,SAAIvJ,IAAI,CAACF,OAAO,CAAC,CAACe;iBAChD,CAAC;;aAaT,CAAC;WACL,CAAC,eACF2C,cAAA,CAAA6oB,aAAA;YAAQtsB,IAAI,EAAC,QAAQ;YAACguB,OAAO,EAAE,SAAAA;cAAA,OAAM7f,MAAM,CAAC3E,KAAK,CAAC;;aAAE,GAAS,CAC7D,CAAC;SACR,CAED,CAAC,eAOL/F,cAAA,CAAA6oB,aAAA;UACItsB,IAAI,EAAC,QAAQ;UAEbguB,OAAO,EAAE,SAAAA;YAAA,OAAMxiB,MAAM,CAAC,EAAE,CAAC;;WAE5B,GAEO,CACV,CAAC;;MAGX,IAAMuiB,SAAS,GAAGT,UAAU,CAACzmB,IAAI,CAAC7G,IAAI,EAAE;QACpCsH,KAAK,EAALA,KAAK;QACLT,IAAI,EAAJA,IAAI;QACJ/F,IAAI,EAAJA,IAAI;QACJ0I,KAAK,EAALA,KAAK;QACL+jB,eAAe,EAAfA,eAAe;QACfC,KAAK,EAALA,KAAK;QACLpgB,aAAa,EAAbA,aAAa;QACbvE,KAAK,EAAE9C,MAAM;QACbqjB,WAAW,EAAXA,WAAW;QACXiF,MAAM,EAANA;OACH,CAAC;MAEF,OAAON,SAAS;;GAGvB,CACJ;EAKD,OAAOlsB,MAAM;AACjB,CAAC;AAED,AAmLA,IAAMusB,gBAAc,GAAG,SAAjBA,cAAcA,CAAIpmB,KAAK,EAAE/F,GAAG,EAAEnB,IAAI,EAAEutB,MAAM,EAAE9tB,OAAO,EAAK;EAG1D,IAAMsB,MAAM,GAAGmG,KAAK,CAAChG,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAEqf,YAAY,EAAK;IAAA,IAAAoI,SAAA;IAErD,IAAMC,QAAQ,GAAGhuB,OAAO,KAAKkB,SAAS,IAAIoF,IAAI,CAAC5E,GAAG,CAAC,IAAOosB,MAAM,WAAMxnB,IAAI,CAAC5E,GAAG,CAAG;IAGjF,IAAMusB,KAAK,GAAI1tB,IAAI,IAAOA,IAAI,eAAUolB,YAAY,MAAG,UAASA,YAAY,MAAG;IAC/E,OAAA/e,QAAA,KACOzF,GAAG,GAAA4sB,SAAA,OAAAA,SAAA,CAELC,QAAQ,IAAApnB,QAAA,KACFN,IAAI;MACP/F,IAAI,EAAEytB,QAAQ;MACdC,KAAK,EAALA;OACIH,MAAM,IAAI;MAAEA,MAAM,EAANA;KAAQ,GAAAC,SAAA,GAGxBznB,IAAI,CAAC4mB,KAAK,KAAKhsB,SAAS,IAAI2sB,cAAc,CAACvnB,IAAI,CAAC4mB,KAAK,EAAE,MAAM,EAAEe,KAAK,EAAE3nB,IAAI,CAAC5E,GAAG,CAAC,EAAE4E,IAAI,CAACtG,OAAO,CAAC;GAEzG,EAAE,IAAIsd,GAAG,EAAE,CAAC;EAEb,OAAOhc,MAAM;AACjB,CAAC;AAED,IAAM4sB,YAAU,GAAG,SAAbA,UAAUA,CAAIzmB,KAAK,EAAE/F,GAAG,EAAEnB,IAAI,EAAEutB,MAAM,EAAK;EAG7C,IAAMxsB,MAAM,GAAGmG,KAAK,CAAChG,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAEqf,YAAY,EAAK;IAAA,IAAAwI,SAAA;IAGrD,IAAMF,KAAK,GAAI1tB,IAAI,IAAOA,IAAI,eAAUolB,YAAY,MAAG,UAASA,YAAY,MAAG;IAC/E,OAAA/e,QAAA,KACOzF,GAAG,GAAAgtB,SAAA,OAAAA,SAAA,CAEL7nB,IAAI,CAAC5E,GAAG,CAAC,IAAAkF,QAAA,KACHN,IAAI;MACP2nB,KAAK,EAALA,KAAK;MACLruB,KAAK,EAAE;OACHkuB,MAAM,IAAI;MAAEA,MAAM,EAANA;KAAQ,GAAAK,SAAA,GAGxB7nB,IAAI,CAAC4mB,KAAK,KAAKhsB,SAAS,IAAI2sB,gBAAc,CAACvnB,IAAI,CAAC4mB,KAAK,EAAE,MAAM,EAAEe,KAAK,EAAE3nB,IAAI,CAAC5E,GAAG,CAAC,CAAC;GAE3F,EAAE,IAAI4b,GAAG,EAAE,CAAC;EAEb,OAAOhc,MAAM;AACjB,CAAC;AAED,AAmBA,IAAM8sB,0BAAwB,GAAG,SAA3BA,wBAAwBA,CAAIlB,KAAK,EAAExrB,GAAG,EAAK;EAG7C,IAAM2sB,YAAY,GAAG,IAAI/Q,GAAG,EAAE;EAE9Bva,MAAM,CAACmB,IAAI,CAACgpB,KAAK,CAAC,CAACtT,OAAO,CAAC,UAAClY,GAAG,EAAK;IAChC,IAAIwrB,KAAK,CAACxrB,GAAG,CAAC,CAAC4sB,YAAY,EAAE;MACzB,IAAMC,eAAe,GAAGC,sBAAoB,CAACtB,KAAK,CAACxrB,GAAG,CAAC,CAAC4sB,YAAY,EAAE,OAAO,CAAC;MAM9E,IAAMpqB,IAAI,GAAGnB,MAAM,CAACmB,IAAI,CAACqqB,eAAe,CAAC;MACzC,KAAK,IAAItlB,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG/E,IAAI,CAACC,MAAM,EAAE8E,KAAK,EAAE,EAAE;QAC9C,IAAMwlB,YAAY,GAAGF,eAAe,CAACrqB,IAAI,CAAC+E,KAAK,CAAC,CAAC;QAEjDolB,YAAY,CAACtlB,GAAG,CAAC0lB,YAAY,CAACluB,IAAI,KAAAI,MAAA,CACzB0tB,YAAY,CAACpqB,GAAG,CAACwqB,YAAY,CAACluB,IAAI,CAAC,IAAI8tB,YAAY,CAACpqB,GAAG,CAACwqB,YAAY,CAACluB,IAAI,CAAC,IAAK,EAAE,GAAAqG,QAAA;UACpFqnB,KAAK,EAAEf,KAAK,CAACxrB,GAAG,CAAC,CAAC4jB;WAAOmJ,YAAY,GAC1C,CAAC;;;GA2Bb,CAAC;EAEF,OAAOJ,YAAY;AACvB,CAAC;AAED,IAAMG,sBAAoB,GAAG,SAAvBA,oBAAoBA,CAAI/mB,KAAK,EAAE/F,GAAG,EAAE9B,KAAK,EAAK;EAChD,IAAMyuB,YAAY,GAAG,EAAE;EACvB,IAAI,CAACtuB,KAAK,CAACC,OAAO,CAACyH,KAAK,CAAC,EAAE;EAC3B,IAAMinB,UAAU,GAAGjnB,KAAK,CAAC9G,MAAM,EAAE;EACjC,OAAO+tB,UAAU,CAACjtB,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAK;IAAA,IAAAqoB,SAAA;IACpC,OAAA/nB,QAAA,KACOzF,GAAG,GAAAwtB,SAAA,OAAAA,SAAA,CACLroB,IAAI,CAAC5E,GAAG,CAAC,IAAI9B,KAAK,IAAI0G,IAAI,CAAC1G,KAAK,CAAC,IAAMA,KAAK,KAAKsB,SAAS,IAAIoF,IAAK,IAAI,EAAE,EAAAqoB,SAAA;GAEjF,EAAEN,YAAY,CAAC;AACpB,CAAC;AAED,AAwBA,IAAM8C,eAAe,GAAGjuB,cAAK,CAAC2rB,UAAU,CAAC,UAAApQ,KAAA,EAOf5W,GAAG,EAAK;EAAA,IAAAupB,UAAA,EAAAC,gBAAA;EAAA,IAPUnE,KAAK,GAAAzO,KAAA,CAALyO,KAAK;IAC7C6B,kBAAkB,GAAAtQ,KAAA,CAAlBsQ,kBAAkB;IAElBjC,oBAAoB,GAAArO,KAAA,CAApBqO,oBAAoB;IACpBC,UAAU,GAAAtO,KAAA,CAAVsO,UAAU;IACVC,eAAe,GAAAvO,KAAA,CAAfuO,eAAe;IAAAsE,AACQC,mBAAA,GAAA9S,KAAA,CACvB3K,aAAa;IAAbA,aAAa,GAAAyd,mBAAA,cAAG,EAAE,GAAAA,mBAAA;EAIlB,IAAAtC,QAAA,GAYItN,OAAO,CAAC;MACRvR,IAAI,EAAE,UAAU;MAChB/J,gBAAgB,EAAE,IAAI;MAGtByN,aAAa,EAAEA;KAClB,CAAC;IAjBEnN,QAAQ,GAAAsoB,QAAA,CAARtoB,QAAQ;IACRkZ,YAAY,GAAAoP,QAAA,CAAZpP,YAAY;IACZtR,KAAK,GAAA0gB,QAAA,CAAL1gB,KAAK;IACQ/I,MAAM,GAAAypB,QAAA,CAAnBvrB,SAAS,CAAI8B,MAAM;IACnBb,OAAO,GAAAsqB,QAAA,CAAPtqB,OAAO;IACP0V,OAAO,GAAA4U,QAAA,CAAP5U,OAAO;IACPoH,QAAQ,GAAAwN,QAAA,CAARxN,QAAQ;IACRzH,SAAS,GAAAiV,QAAA,CAATjV,SAAS;IACT8D,QAAQ,GAAAmR,QAAA,CAARnR,QAAQ;IACRO,iBAAiB,GAAA4Q,QAAA,CAAjB5Q,iBAAiB;IACjB1W,UAAU,GAAAsnB,QAAA,CAAVtnB,UAAU;EASd,IAAMkhB,WAAW,GAAG;IAChBliB,QAAQ,EAARA,QAAQ;IACRkZ,YAAY,EAAZA,YAAY;IACZtR,KAAK,EAALA,KAAK;IACL/I,MAAM,EAANA,MAAM;IACNb,OAAO,EAAPA,OAAO;IACP0V,OAAO,EAAPA,OAAO;IACPoH,QAAQ,EAARA,QAAQ;IACRzH,SAAS,EAATA,SAAS;IACT8D,QAAQ,EAARA,QAAQ;IACRjR,aAAa,EAAbA,aAAa;IACboV,QAAQ,EAARA,QAAQ;IACR5D,iBAAiB,EAAjBA,iBAAiB;IACjB1W,UAAU,EAAVA;GACH;EAED,IAAMunB,YAAY,GAAGhsB,cAAK,CAACisB,MAAM,EAAE;EAEnC,IAAMC,kBAAkB,GAAGlsB,cAAK,CAACisB,MAAM,EAAE;EACzC,IAAME,iBAAiB,GAAGnsB,cAAK,CAACisB,MAAM,EAAE;EAGxC,IAAAxM,SAAA,GAAwBC,cAAQ,EAAE;IAA3BljB,IAAI,GAAAijB,SAAA;IAAE2M,OAAO,GAAA3M,SAAA;EAEpBzf,cAAK,CAAC2iB,SAAS,CAAC,YAAM;IAClB,IAAIqH,KAAK,KAAKhsB,SAAS,EAAE;IAUzBguB,YAAY,CAACruB,OAAO,GAAGqsB,KAAK;IAE5BkC,kBAAkB,CAACvuB,OAAO,GAAGutB,0BAAwB,CAACc,YAAY,CAACruB,OAAO,CAAC;IAI3E,IAAMyQ,YAAY,GAAG/C,KAAK,WAAQ3O,KAAK,EAAAswB,KAAA;MAAA,IAAI3vB,IAAI,GAAA2vB,KAAA,CAAJ3vB,IAAI;MAAM,IAAO;QAAA,OAAA2U,OAAA,CAAAC,OAAA;UAAA,IAKpDia,kBAAkB,CAACvuB,OAAO,CAACoD,GAAG,CAAC1D,IAAI,CAAC;YAAA,OAAA2U,OAAA,CAAAC,OAAA,CAGfoa,iBAAiB,CAAChvB,IAAI,EAAEX,KAAK,CAACW,IAAI,CAAC,EAAE2sB,KAAK,CAAC,EAAAnW,IAAA,WAAA2J,KAAA;cAAA,IAAzD5U,CAAC,GAAA4U,KAAA;gBAAE3U,CAAC,GAAA2U,KAAA;cAAA,IACP,CAAChR,SAAS,CAAChQ,IAAI,EAAEqM,CAAC,CAAC,IAAID,CAAC;gBAExBwjB,OAAO,CAAA1oB,QAAA,KAAMmF,CAAC,CAAE,CAAC;;;;;OAK5B,QAAAwL,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;MAAC;IAEF+X,OAAO,CAACpC,KAAK,CAAC;GACjB,EAAE,CAACA,KAAK,CAAC,CAAC;EAMX,IAAMsC,WAAW,GAAG,SAAdA,WAAWA,GAAS;IACtBN,YAAY,CAACruB,OAAO,GAAGqtB,YAAU,CAAChB,KAAK,EAAE,MAAM,CAAC;IAChDoC,OAAO,CAACpC,KAAK,CAAC;GACjB;EAOD,IAAMuC,YAAY,YAAZA,YAAYA;IAAA,IAAe;MAE7B,IAAI1sB,MAAM,CAACmB,IAAI,CAACsB,MAAM,CAAC,CAACrB,MAAM,GAAG,CAAC,EAAE,OAAA+Q,OAAA,CAAAC,OAAA,CAAO,KAAK;MAAC,OAAAD,OAAA,CAAAC,OAAA,CAC5BkF,OAAO,EAAE,EAAAtD,IAAA,WAAxBzV,MAAM;QAAA,IAERA,MAAM,KAAK,IAAI;UAAA,OAAA4T,OAAA,CAAAC,OAAA,CACF6E,SAAS,EAAE;;UAExB,OAAO,KAAK;;;KAEnB,QAAAzC,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAED1P,GAAG,CAAChH,OAAO,GAAG;IACVmZ,SAAS,EAAEyV,YAAY;IACvBD,WAAW,EAAEA,WAAW;IACxB1R,QAAQ,EAAEA;GACb;EAED,IAAM4R,cAAc,YAAdA,cAAcA,CAAUnvB,IAAI,EAAEX,KAAK,EAAE0B,MAAM;IAAA,IAAK;MAElD,IAAMquB,aAAa,GAAGT,YAAY,CAACruB,OAAO,CAACN,IAAI,CAAC;MAChD,IAAIqvB,CAAC,GAAGtuB,MAAM;MACd,IAAMuuB,cAAc,GAAGjpB,QAAA,KAAKpB,MAAM,CAAC3E,OAAO,KAAM,EAAE;MAClD,IAAMivB,SAAS,GAAGtqB,MAAM,CAAC3E,OAAO,IAAI,EAAE;MAEtC,IAAIyH,KAAK,GAAG,KAAK;MAGjB,IAAI1I,KAAK,KAAK,EAAE,EAAE;QACd,IAAM0I,MAAK,GAAG1I,KAAK,KAAK,KAAK;QAC7B,IAAI0I,MAAK,EAAE;UACPwnB,SAAS,CAACvvB,IAAI,CAAC,GAAG;YACd+H,KAAK,EAALA,MAAK;YACLynB,QAAQ,EAAEJ,aAAa,CAACI,QAAQ,IAAIJ,aAAa,CAACI,QAAQ,IAAI;WACjE;SACJ,MAAM;UACH,OAAOD,SAAS,CAACvvB,IAAI,CAAC;;OAI7B,MAAM;QACH,OAAOuvB,SAAS,CAACvvB,IAAI,CAAC;;MAI1BiF,MAAM,CAAC3E,OAAO,GAAA+F,QAAA,KAAQkpB,SAAS,CAAE;MAGjC,IAAIxnB,KAAK,CAACzH,OAAO,KAAKgvB,cAAc,EAAE;MAetC,OAAA3a,OAAA,CAAAC,OAAA,CAAO,CAAC,CAACuO,CAAC,CAAC8I,OAAO,CAACqD,cAAc,EAAEC,SAAS,CAAC,KAAAnvB,MAAA,CAAMivB,CAAC,GAAGE,SAAS,CAACvvB,IAAI,CAAC,CAAC;KAC1E,QAAAgX,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAED,IAAMqU,eAAe,YAAfA,eAAeA,CAAUhsB,KAAK,EAAEW,IAAI;IAAA,IAAK;MAG3C2uB,YAAY,CAACruB,OAAO,CAACN,IAAI,CAAC,CAACX,KAAK,GAAGA,KAAK;MAAA,IAAAowB,qBAAA,GAGjBd,YAAY,CAACruB,OAAO;MAAA,OAAAqU,OAAA,CAAAC,OAAA,CAAqBsa,YAAY,EAAE,EAAA1Y,IAAA,WAAAkZ,aAAA;QAAA,OAAA/a,OAAA,CAAAC,OAAA,CAG1Bua,cAAc,CAACnvB,IAAI,EAAEX,KAAK,EAAAgH,QAAA,KAAOlH,IAAI,CAAE,CAAC,EAAAqX,IAAA,WAAAya,KAAA;UAAA,IAArFrB,oBAAoB,GAAAqB,KAAA;YAAElwB,MAAM,GAAAkwB,KAAA;YAAElpB,KAAK,GAAAkpB,KAAA;UAAA,OAAAtc,OAAA,CAAAC,OAAA,CACQoa,iBAAiB,CAAChvB,IAAI,EAAEX,KAAK,EAAEF,IAAI,CAAC,EAAAqX,IAAA,WAAA0a,MAAA;YAAA,IAA/ErB,sBAAsB,GAAAqB,MAAA;cAAEpB,SAAS,GAAAoB,MAAA;YAAA,IAGpCtB,oBAAoB,KAAK,IAAI,IAAIC,sBAAsB,KAAK,IAAI;cAShEd,OAAO,CAAA1oB,QAAA,KAAMypB,SAAS,CAAE,CAAC;;;;;KAMhC,QAAA9Y,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAED,IAAMgY,iBAAiB,YAAjBA,iBAAiBA,CAAUhvB,IAAI,EAAEX,KAAK,EAAE0B,MAAM;IAAA,IAAK;MAAA,IAAA2V,MAAA,YAAAA;QAsDrD,OAAO,CAACqZ,OAAO,EAAEV,CAAC,CAAC;QACnB,OAAO,CAACU,OAAO,EAAA1pB,QAAA,KAAOgpB,CAAC,EAAG;;MArD1B,IAAMW,YAAY,GAAGnB,kBAAkB,CAACvuB,OAAO,CAACoD,GAAG,CAAC1D,IAAI,CAAC;MASzD,IAAIqvB,CAAC,GAAAhpB,QAAA,KAAOtF,MAAM,CAAC;MAEnB,IAAIgvB,OAAO,GAAG,KAAK;MAAA,IAAAlZ,KAAA;QAAA,IAEfmZ,YAAY,KAAKrvB,SAAS;UAAA,OAAAgU,OAAA,CAAAC,OAAA,CAQpBob,YAAY,CAACxlB,GAAG,WAAQzE,IAAI;YAAA,IAAK;cAAA,IAAAuQ,MAAA,YAAAA,OAE7B2Z,OAAO;gBAOb,IAAM7kB,CAAC,GAAGikB,CAAC,CAACtpB,IAAI,CAAC2nB,KAAK,CAAC;gBAAC,IAErBtiB,CAAC,KAAKzK,SAAS,IAAIyK,CAAC,CAAC9G,OAAO,KAAK2rB,OAAO;kBACvCZ,CAAC,CAACtpB,IAAI,CAAC2nB,KAAK,CAAC,CAACppB,OAAO,GAAG2rB,OAAO;kBAC/BF,OAAO,GAAG,IAAI;;;cAZlB,IAAMI,SAAS,GAAG9wB,KAAK,IAAIA,KAAK,CAAC,OAAO,CAAC,IAAIA,KAAK;cAAC,IAAA+wB,UAAA,GACnCrqB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE7G,IAAI;cAAA,OAAAyV,OAAA,CAAAC,OAAA,CAAAwb,UAAA,GAAAzb,OAAA,CAAAC,OAAA,CAAW4Z,kBAAkB,CAACzoB,IAAI,CAAC7G,IAAI,CAAC,CAAC6G,IAAI,EAAEoqB,SAAS,CAAC,EAAA3Z,IAAA,CAAAF,MAAA,IAAAA,MAAA,CAAA8Z,UAAA;aA2BtF,QAAApZ,CAAA;cAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;YAAC,EAAAR,IAAA;;;MAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAAiC,KAAA,IAAAA,KAAA,CAAAL,IAAA,GAAAK,KAAA,CAAAL,IAAA,CAAAE,MAAA,IAAAA,MAAA,CAAAG,KAAA;KAIT,QAAAG,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAID,OACK7X,IAAI,MAAA0xB,UAAA,GAAI1xB,IAAI,CAACgyB,IAAI,cAAAN,UAAA,wBAAAC,gBAAA,GAATD,UAAA,CAAWlE,KAAK,cAAAmE,gBAAA,uBAAhBA,gBAAA,CAAkBtmB,GAAG,CAAC,UAACxK,IAAI,EAAE0I,KAAK;IAAA,OAAK2nB,kBAAkB,CAACrwB,IAAI,EAAEb,IAAI,EAAE;MAC3EksB,eAAe,EAAfA,eAAe;MACfsD,YAAY,EAAZA,YAAY;MACZlV,SAAS,EAATA,SAAS;MACTxU,MAAM,EAANA,MAAM;MACNsnB,oBAAoB,EAApBA,oBAAoB;MACpBC,UAAU,EAAVA,UAAU;MACVC,eAAe,EAAfA,eAAe;MACf9rB,SAAS,EAATA,SAAS;MACT2nB,WAAW,EAAXA,WAAW;MACX5f,KAAK,EAALA;KACH,CAAC;GACF,CAAC,KAAK,IAAI;AAsBlB,CAAC,CAAC;AAEFkoB,eAAe,CAACvD,eAAe,GAAG,IAAI;AACtCuD,eAAe,CAAChuB,WAAW,GAAG,iBAAiB;;AC12B/C,IAAMsU,gBAAc,GAAG;EACnBrH,IAAI,EAAErO,eAAe,CAACG,QAAQ;EAC9BwV,cAAc,EAAE3V,eAAe,CAACE,QAAQ;EACxC0V,gBAAgB,EAAE;AACtB,CAAC;AACD,IAAMC,mBAAiB,GAAG,OAAOrI,MAAM,KAAK,WAAW;AACvD,AAAO,SAASoiB,mBAAmBA,CAACruB,KAAK,EAAO;EAAA,IAAZA,KAAK;IAALA,KAAK,GAAG,EAAE;;EAC1C,IAAIwU,WAAW,GAAG/U,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEyU,gBAAc,CAAC,EAAEnU,KAAK,CAAC;EAEzE,IAAIyU,cAAc;EAClB,IAAI/S,UAAU,GAAG;IACbG,OAAO,EAAE,KAAK;IACdG,YAAY,EAAE,KAAK;IACnBF,WAAW,EAAE,EAAE;IACfgP,WAAW,EAAE,KAAK;IAClB4D,WAAW,EAAE,CAAC;IACd3S,aAAa,EAAE,EAAE;IACjB4S,YAAY,EAAE,KAAK;IACnBC,kBAAkB,EAAE,KAAK;IACzB3S,OAAO,EAAE,KAAK;IACdC,MAAM,EAAE;GACX;EACD,IAAM7B,eAAe,GAAG;IACpBwB,OAAO,EAAE,KAAK;IACdC,WAAW,EAAE,KAAK;IAClBC,aAAa,EAAE,KAAK;IACpBC,YAAY,EAAE,KAAK;IACnBC,OAAO,EAAE,KAAK;IACdC,MAAM,EAAE;GACX;EACD,IAAIwB,OAAO,GAAG,EAAE;EAChB,IAAIT,WAAW,GAAG,EAAE;EACpB,IAAIC,cAAc,GAAGsR,WAAW,CAAChE,aAAa,IAAI,EAAE;EACpD,IAAIpM,WAAW,GAAG,KAAK;EACvB,IAAIyQ,UAAU,GAAG,KAAK;EACtB,IAAMzS,SAAS,GAAG;IACd6I,KAAK,EAAE,IAAImD,OAAO,EAAE;IACpB/M,OAAO,EAAE,IAAI+M,OAAO,EAAE;IACtBjK,KAAK,EAAE,IAAIiK,OAAO,EAAE;IACpB/L,KAAK,EAAE,IAAI+L,OAAO;GACrB;EACD,IAAIlK,MAAM,GAAG;IACTN,KAAK,EAAE,IAAIkR,GAAG,EAAE;IAChBC,OAAO,EAAE,IAAID,GAAG,EAAE;IAClB3Q,KAAK,EAAE,IAAI2Q,GAAG,EAAE;IAChB7J,KAAK,EAAE,IAAI6J,GAAG,EAAE;IAChB9J,QAAQ,EAAE;GACb;EACD,IAAMgK,cAAc,GAAGC,kBAAkB,CAACT,WAAW,CAAC1H,IAAI,CAAC;EAC3D,IAAMoI,0BAA0B,GAAGV,WAAW,CAACxE,YAAY,KAAKvR,eAAe,CAACK,GAAG;EACnF,IAAMqW,cAAc,GAAG,SAAjBA,cAAcA,CAAIlY,IAAI;IAAA,OAAKiH,MAAM,CAAC8G,QAAQ,IAC5C9G,MAAM,CAAC+G,KAAK,CAACmK,GAAG,CAACnY,IAAI,CAAC,IACtBiH,MAAM,CAAC+G,KAAK,CAACmK,GAAG,CAAC,CAACnY,IAAI,CAACqW,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;;EAClD,IAAM+B,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIpY,IAAI,EAAE+H,KAAK,EAAK;IACtCS,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAE+H,KAAK,CAAC;IACnC5C,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBL,MAAM,EAAER,UAAU,CAACQ;KACtB,CAAC;GACL;EACD,IAAMoT,uBAAuB,YAAvBA,uBAAuBA,GAAe;IAAA,OAAA1D,OAAA,CAAAC,OAAA,CAClB0D,YAAY,CAAC7R,OAAO,EAAE,IAAI,CAAC,EAAA+P,IAAA,WAA3CxR,OAAO;MAAA,IACTA,OAAO,KAAKP,UAAU,CAACO,OAAO;QAC9BP,UAAU,CAACO,OAAO,GAAGA,OAAO;QAC5BG,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;UACjBN,OAAO,EAAPA;SACH,CAAC;;;GAET;EACD,IAAMuT,uBAAuB,YAAvBA,uBAAuBA,CAAUC,gBAAgB,EAAExY,IAAI,EAAE+H,KAAK,EAAEH,UAAU,EAAE6Q,mBAAmB,EAAEC,SAAS;IAAA,IAAK;MACjH,IAAMC,aAAa,GAAGjV,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC;MAClD,IAAMgF,OAAO,GAAG,CAAC,EAAE5B,eAAe,CAAC4B,OAAO,KACrCuS,WAAW,CAACqB,QAAQ,GAAGH,mBAAmB,GAAGJ,uBAAuB,EAAE,CAAC,CAAC;MAC7E,IAAItV,KAAK,CAAC8V,UAAU,IAAI9Q,KAAK,EAAE;QAC3ByP,cAAc,GACVA,cAAc,IAAIsB,QAAQ,CAACV,gBAAgB,EAAErV,KAAK,CAAC8V,UAAU,CAAC;QAClErB,cAAc,CAACxX,IAAI,EAAE+H,KAAK,CAAC;OAC9B,MACI;QACDA,KAAK,GACCS,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAE+H,KAAK,CAAC,GACnC8D,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC;;MAExC,IAAI,CAAC0Y,SAAS,KACT3Q,KAAK,GAAG,CAACoH,SAAS,CAACwJ,aAAa,EAAE5Q,KAAK,CAAC,GAAG4Q,aAAa,CAAC,IAC1D,CAAC7U,aAAa,CAAC8D,UAAU,CAAC,IAC1BnD,UAAU,CAACO,OAAO,KAAKA,OAAO,KAC9B,CAACwT,gBAAgB,EAAE;QACnB,IAAMO,gBAAgB,GAAGvW,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEmF,UAAU,CAAC,EAAGxE,eAAe,CAAC4B,OAAO,IAAIuS,WAAW,CAACqB,QAAQ,GAAG;UAAE5T,OAAO,EAAPA;SAAS,GAAG,EAAG,CAAC,EAAE;UAAEC,MAAM,EAAER,UAAU,CAACQ,MAAM;UAAEjF,IAAI,EAAJA;SAAM,CAAC;QAC/LyE,UAAU,GAAGjC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEgC,UAAU,CAAC,EAAEsU,gBAAgB,CAAC;QAE3E5T,SAAS,CAACC,KAAK,CAACE,IAAI,CAACoT,SAAS,GAAG;UAAE1Y,IAAI,EAAJA;SAAM,GAAG+Y,gBAAgB,CAAC;;MAEjE5T,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;QACjBP,YAAY,EAAE;OACjB,CAAC;MAAC,OAAA4P,OAAA,CAAAC,OAAA;KACN,QAAAoC,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMgC,aAAa,GAAG,SAAhBA,aAAaA,CAAIhZ,IAAI,EAAEX,KAAK,EAAEsK,OAAO,EAAOsP,YAAY,EAAK;IAAA,IAA/BtP,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAC5C,IAAMnD,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAEhC,IAAIwG,KAAK,EAAE;MACP,IAAME,EAAE,GAAGF,KAAK,CAACE,EAAE;MACnB,IAAIA,EAAE,EAAE;QAEJ8B,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAE6S,eAAe,CAACxT,KAAK,EAAEqH,EAAE,CAAC,CAAC;QAClD,IAAMwS,UAAU,GAAGC,KAAK,IAAIC,aAAa,CAAC1S,EAAE,CAACY,GAAG,CAAC,IAAI/H,iBAAiB,CAACF,KAAK,CAAC,GACvE,EAAE,GACFA,KAAK;QACX,IAAIiT,WAAW,CAAC5L,EAAE,CAACY,GAAG,CAAC,IAAI,CAACwM,QAAQ,CAACoF,UAAU,CAAC,EAAE;UAC9CxS,EAAE,CAACY,GAAG,CAACiL,KAAK,GAAG2G,UAAU;SAC5B,MACI,IAAIzG,gBAAgB,CAAC/L,EAAE,CAACY,GAAG,CAAC,EAAE;UAC/B,GAAAlH,MAAA,CAAIsG,EAAE,CAACY,GAAG,CAACqC,OAAO,EAAE0P,OAAO,CAAC,UAACC,SAAS;YAAA,OAAMA,SAAS,CAACrH,QAAQ,GAAGiH,UAAU,CAAC1T,QAAQ,CAAC8T,SAAS,CAACja,KAAK,CAAC;WAAC,CAAC;SAC1G,MACI,IAAIqH,EAAE,CAACgD,IAAI,EAAE;UACd,IAAI5J,eAAe,CAAC4G,EAAE,CAACY,GAAG,CAAC,EAAE;YACzBZ,EAAE,CAACgD,IAAI,CAAC9F,MAAM,GAAG,CAAC,GACZ8C,EAAE,CAACgD,IAAI,CAAC2P,OAAO,CAAC,UAACE,WAAW;cAAA,OAAMA,WAAW,CAACxZ,OAAO,GAAGP,KAAK,CAACC,OAAO,CAACyZ,UAAU,CAAC,GAC7E,CAAC,CAACA,UAAU,CAACnV,IAAI,CAAC,UAAC5E,IAAI;gBAAA,OAAKA,IAAI,KAAKoa,WAAW,CAACla,KAAK;gBAAC,GACvD6Z,UAAU,KAAKK,WAAW,CAACla,KAAK;aAAC,CAAC,GACrCqH,EAAE,CAACgD,IAAI,CAAC,CAAC,CAAC,CAAC3J,OAAO,GAAG,CAAC,CAACmZ,UAAW;WAC5C,MACI;YACDxS,EAAE,CAACgD,IAAI,CAAC2P,OAAO,CAAC,UAACG,QAAQ;cAAA,OAAMA,QAAQ,CAACzZ,OAAO,GAAGyZ,QAAQ,CAACna,KAAK,KAAK6Z,UAAU;aAAC,CAAC;;SAExF,MACI;UACDxS,EAAE,CAACY,GAAG,CAACjI,KAAK,GAAG6Z,UAAU;;QAE7B,IAAID,YAAY,EAAE;UACd9T,SAAS,CAACf,OAAO,CAACkB,IAAI,CAAC;YACnBuB,MAAM,EAAE4S,SAAS,EAAE;YACnBzZ,IAAI,EAAJA;WACH,CAAC;;QAEN,CAAC2J,OAAO,CAAC+P,WAAW,IAAI/P,OAAO,CAACgQ,WAAW,KACvCC,wBAAwB,CAAC5Z,IAAI,EAAEkZ,UAAU,EAAEvP,OAAO,CAACgQ,WAAW,CAAC;QACnEhQ,OAAO,CAACkQ,cAAc,IAAIC,OAAO,CAAC9Z,IAAI,CAAC;;;GAGlD;EACD,IAAM4Z,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAI5Z,IAAI,EAAEqU,UAAU,EAAE0F,gBAAgB,EAAEd,YAAY,EAAY;IAAA,IAAxBA,YAAY;MAAZA,YAAY,GAAG,IAAI;;IACrF,IAAM7T,KAAK,GAAG;MACVpF,IAAI,EAAJA;KACH;IACD,IAAIga,SAAS,GAAG,KAAK;IACrB,IAAI5W,eAAe,CAACwB,OAAO,EAAE;MACzB,IAAMqV,eAAe,GAAGxV,UAAU,CAACG,OAAO;MAC1CH,UAAU,CAACG,OAAO,GAAGsV,WAAW,EAAE;MAClC9U,KAAK,CAACR,OAAO,GAAGH,UAAU,CAACG,OAAO;MAClCoV,SAAS,GAAGC,eAAe,KAAK7U,KAAK,CAACR,OAAO;;IAEjD,IAAIxB,eAAe,CAACyB,WAAW,IAAI,CAACkV,gBAAgB,EAAE;MAClD,IAAMI,oBAAoB,GAAGzW,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,CAAC;MAC9D,IAAMoa,mBAAmB,GAAG,CAACjL,SAAS,CAACzL,GAAG,CAACuC,cAAc,EAAEjG,IAAI,CAAC,EAAEqU,UAAU,CAAC;MAC7E+F,mBAAmB,GACb5R,GAAG,CAAC/D,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAE,IAAI,CAAC,GACvC6L,KAAK,CAACpH,UAAU,CAACI,WAAW,EAAE7E,IAAI,CAAC;MACzCoF,KAAK,CAACP,WAAW,GAAGJ,UAAU,CAACI,WAAW;MAC1CmV,SAAS,GACLA,SAAS,IAAIG,oBAAoB,KAAKzW,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,CAAC;;IAE/E,IAAMqa,sBAAsB,GAAG3W,GAAG,CAACe,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC;IAClE,IAAI+Z,gBAAgB,IAAI,CAACM,sBAAsB,EAAE;MAC7C7R,GAAG,CAAC/D,UAAU,CAACK,aAAa,EAAE9E,IAAI,EAAE+Z,gBAAgB,CAAC;MACrD3U,KAAK,CAACN,aAAa,GAAGL,UAAU,CAACK,aAAa;MAC9CkV,SAAS,GACLA,SAAS,IACR5W,eAAe,CAAC0B,aAAa,IAC1BuV,sBAAsB,KAAKN,gBAAiB;;IAExDC,SAAS,IAAIf,YAAY,IAAI9T,SAAS,CAACC,KAAK,CAACE,IAAI,CAACF,KAAK,CAAC;IACxD,OAAO4U,SAAS,GAAG5U,KAAK,GAAG,EAAE;GAChC;EACD,IAAMkV,eAAe,YAAfA,eAAeA,CAAUta,IAAI;IAAA,IAAK;MAAA,IAAAua,sBAAA,GAC7BhD,WAAW,CAACqB,QAAQ;MAAA,OAAAjE,OAAA,CAAAC,OAAA,CAAA2F,sBAAA,GACfhD,WAAW,CAACqB,QAAQ,CAACpW,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEuD,WAAW,CAAC,EAAEuR,WAAW,CAACiD,OAAO,EAAEC,kBAAkB,CAACza,IAAI,IAAIiH,MAAM,CAACN,KAAK,EAAEF,OAAO,EAAE8Q,WAAW,CAACxE,YAAY,EAAEwE,WAAW,CAACvE,yBAAyB,CAAC,CAAC,GACnM,EAAE;KACX,QAAAgE,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAM0D,yBAAyB,YAAzBA,yBAAyBA,CAAUva,KAAK,EAAK;IAAA,OAAAwU,OAAA,CAAAC,OAAA,CACtB0F,eAAe,EAAE,EAAA9D,IAAA,WAAAtS,IAAA;MAAA,IAAlCe,MAAM,GAAAf,IAAA,CAANe,MAAM;MACd,IAAI9E,KAAK,EAAE;QACP,SAAAmJ,SAAA,GAAAC,+BAAA,CAAmBpJ,KAAK,GAAAqJ,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;UAAA,IAAfzJ,IAAI,GAAAwJ,KAAA,CAAAnK,KAAA;UACX,IAAM0I,KAAK,GAAGrE,GAAG,CAACuB,MAAM,EAAEjF,IAAI,CAAC;UAC/B+H,KAAK,GACCS,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAE+H,KAAK,CAAC,GACnC8D,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC;;OAE3C,MACI;QACDyE,UAAU,CAACQ,MAAM,GAAGA,MAAM;;MAE9B,OAAOA,MAAM;;GAChB;EACD,IAAMqT,YAAY,YAAZA,YAAYA,CAAU7R,OAAO,EAAEkU,gBAAgB,EAAEH,OAAO,EAG3D6W,MAAM;IAAA,IAH8C7W,OAAO;MAAPA,OAAO,GAAG;QAC7DI,KAAK,EAAE,IAAI;QACX0W,UAAU,EAAE;OACf;;IAAA,IAAED,MAAM;MAANA,MAAM,GAAG,KAAK;;IAAA,IAAK;MAAA,IAAA3V,MAAA,YAAAA;QAuClB,OAAOlB,OAAO,CAACI,KAAK;;MAAC,IAAAhE,UAAA;MAAA,IAAAiE,MAAA,GAAA/D,MAAA,CArCFrQ,OAAO,YAAfzG,IAAI,EAAa;QACxB,IAAMwG,KAAK,GAAGC,OAAO,CAACzG,IAAI,CAAC;QAAC,IAAA8a,MAAA;UAAA,IAExBtU,KAAK;YAAA,IAAA8N,MAAA,YAAAA;cAAA,SAAAoC,OAAAqE,aAAA;gBA+BLA,aAAA;;cAA4D,OAA5Dra,IAAG,GAAAiU,OAAA,CAAAC,OAAA,CAAW0D,YAAY,CAAC5X,IAAG,EAAEia,gBAAgB,EAAEH,OAAO,CAAC,EAAAhE,IAAA,CAAAE,MAAA,IAAAA,MAAA,CAA1DhW,IAAG;;YA9BH,IAAMgG,EAAE,GAAGF,KAAK,CAACE,EAAE;YACnB,IAAMhG,IAAG,GAAGuC,IAAI,CAACuD,KAAK,EAAE,IAAI,CAAC;YAAC,IAAA8P,MAAA;cAAA,IAE1B5P,EAAE;gBAAA,IAAAmQ,KAAA;kBAAA,IAGEnQ,EAAE,CAAC2qB,MAAM,KAAKA,MAAM,IAAIA,MAAM,KAAK,KAAK;oBAAA,OAAA1c,OAAA,CAAAC,OAAA,CACfoG,aAAa,CAACxU,KAAK,EAAE9C,GAAG,CAACsC,WAAW,EAAEU,EAAE,CAAC1G,IAAI,CAAC,EAAEiY,0BAA0B,EAAEV,WAAW,CAACvE,yBAAyB,CAAC,EAAAwD,IAAA,WAArIyE,UAAU;sBAAA,IAGZN,gBAAgB;wBAAA,IACZM,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC;0BACnBwa,OAAO,CAACI,KAAK,GAAG,KAAK;0BAAChE,UAAA;;;wBAK1B,IAAIqE,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,EAAE;0BACrBwa,OAAO,CAACI,KAAK,GAAG,KAAK;;wBAEzBK,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,GACbwI,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEyB,EAAE,CAAC1G,IAAI,EAAEib,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,CAAC,GACpD6L,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEyB,EAAE,CAAC1G,IAAI,CAAC;wBAAC,IAIpCwa,OAAO,CAAC8W,UAAU,KAAK,KAAK,IAAI9uB,MAAM,CAACmB,IAAI,CAACc,UAAU,CAACQ,MAAM,CAAC,CAACrB,MAAM,IAAI,CAAC;0BAAAgT,UAAA;;;;;;gBAAA,IAAAC,KAAA,IAAAA,KAAA,CAAAL,IAAA,SAAAK,KAAA,CAAAL,IAAA;;;YAAA,OAAAF,MAAA,IAAAA,MAAA,CAAAE,IAAA,GAAAF,MAAA,CAAAE,IAAA,CAAAlC,MAAA,IAAAA,MAAA,CAAAgC,MAAA;;;QAAA,IAAAwE,MAAA,IAAAA,MAAA,CAAAtE,IAAA,SAAAsE,MAAA,CAAAtE,IAAA;OAMjG;QAAA,OAAAI,UAAA;;MAAA,OAAAjC,OAAA,CAAAC,OAAA,CAAAiG,MAAA,IAAAA,MAAA,CAAArE,IAAA,GAAAqE,MAAA,CAAArE,IAAA,CAAAkF,MAAA,IAAAA,MAAA,CAAAb,MAAA;KAEJ,QAAA7D,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMua,sBAAsB,YAAtBA,sBAAsBA,CAAU9qB,OAAO,EAAEkU,gBAAgB,EAAEH,OAAO,EAErE6W,MAAM;IAAA,IAFwD7W,OAAO;MAAPA,OAAO,GAAG;QACvEI,KAAK,EAAE;OACV;;IAAA,IAAEyW,MAAM;MAANA,MAAM,GAAG,KAAK;;IAAA,IAAK;MAAA,IAAAG,WAAA;MAElB,IAAIC,WAAW,GAAG,EAAE;MAAC,IAAAzT,OAAA,GAAAlH,MAAA,CACFrQ,OAAO,YAAfzG,IAAI,EAAa;QACxB,IAAMwG,KAAK,GAAGC,OAAO,CAACzG,IAAI,CAAC;QAAC,IAAAie,OAAA;UAAA,IAExBzX,KAAK;YAAA,IAAAgX,OAAA,YAAAA;cAAA,SAAAG,OAAA+T,cAAA;gBA8BLA,cAAA;;cAA4D,OAA5DhxB,KAAG,GAAAiU,OAAA,CAAAC,OAAA,CAAW0D,YAAY,CAAC5X,KAAG,EAAEia,gBAAgB,EAAEH,OAAO,CAAC,EAAAhE,IAAA,CAAAmH,MAAA,IAAAA,MAAA,CAA1Djd,KAAG;;YA7BH,IAAMgG,EAAE,GAAGF,KAAK,CAACE,EAAE;YACnB,IAAMhG,KAAG,GAAGuC,IAAI,CAACuD,KAAK,EAAE,IAAI,CAAC;YAAC,IAAAiX,OAAA;cAAA,IAE1B/W,EAAE;gBAAA,IAAA2U,MAAA;kBAAA,IAGE3U,EAAE,CAAC2qB,MAAM,KAAKA,MAAM,IAAIA,MAAM,KAAK,KAAK;oBAAA,OAAA1c,OAAA,CAAAC,OAAA,CACfoG,aAAa,CAACxU,KAAK,EAAE9C,GAAG,CAACsC,WAAW,EAAEU,EAAE,CAAC1G,IAAI,CAAC,EAAEiY,0BAA0B,EAAEV,WAAW,CAACvE,yBAAyB,CAAC,EAAAwD,IAAA,WAArIyE,UAAU;sBAAA,IAGZN,gBAAgB;wBAAA,IACZM,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC;0BACnBwa,OAAO,CAACI,KAAK,GAAG,KAAK;0BAAC4W,WAAA;;;wBAK1B,IAAIvW,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,EAAE;0BACrBwa,OAAO,CAACI,KAAK,GAAG,KAAK;;wBAEzBK,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,GACbwI,GAAG,CAACipB,WAAW,EAAE/qB,EAAE,CAAC1G,IAAI,EAAEib,UAAU,CAACvU,EAAE,CAAC1G,IAAI,CAAC,CAAC,GAC9C6L,KAAK,CAAC4lB,WAAW,EAAE/qB,EAAE,CAAC1G,IAAI,CAAC;;;;;gBAAC,IAAAqb,MAAA,IAAAA,MAAA,CAAA7E,IAAA,SAAA6E,MAAA,CAAA7E,IAAA;;;YAAA,OAAAiH,OAAA,IAAAA,OAAA,CAAAjH,IAAA,GAAAiH,OAAA,CAAAjH,IAAA,CAAAgH,OAAA,IAAAA,OAAA,CAAAC,OAAA;;;QAAA,IAAAQ,OAAA,IAAAA,OAAA,CAAAzH,IAAA,SAAAyH,OAAA,CAAAzH,IAAA;OASrD;QAAA,OAAAgb,WAAA;;MAAA,OAAA7c,OAAA,CAAAC,OAAA,CAAAoJ,OAAA,IAAAA,OAAA,CAAAxH,IAAA,GAAAwH,OAAA,CAAAxH,IAAA;QACD,OAAOib,WAAW;WAAXA,WAAW;KACrB,QAAAza,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMkE,YAAY,YAAZA,YAAYA,CAAAhJ,KAAA;IAAA,IAAYhT,IAAI,GAAAgT,KAAA,CAAJhT,IAAI;MAAEW,MAAM,GAAAqS,KAAA,CAANrS,MAAM;MAAAsb,YAAA,GAAAjJ,KAAA,CAAErS,MAAM;MAAIR,KAAK,GAAA8b,YAAA,CAAL9b,KAAK;MAAEW,IAAI,GAAAmb,YAAA,CAAJnb,IAAI;MAAQob,SAAS,GAAAD,YAAA,CAAfjc,IAAI;IAAA,IAAqB;MACxF,IAAI6I,KAAK;MACT,IAAI/C,OAAO;MACX,IAAMwB,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;MAAC,OAAA2U,OAAA,CAAAC,OAAA;QAAA,IAE7BpO,KAAK;UAAA,IAAAwZ,OAAA,YAAAA;YAkDL,CAACpM,YAAW,IACRzO,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC;cACjBtF,IAAI,EAAJA,IAAI;cACJd,IAAI,EAAJA,IAAI;cACJ2H,MAAM,EAAE4S,SAAS;aACpB,CAAC;YACNlB,uBAAuB,CAAC,KAAK,EAAEvY,IAAI,EAAE+H,KAAK,EAAEH,WAAU,EAAE5C,OAAO,EAAE0T,UAAS,CAAC;;UAvD3E,IAAIrE,UAAU,GAAG+G,SAAS,GAAG/I,aAAa,CAAC7L,KAAK,CAAC,GAAG7F,SAAS;UAC7D0T,UAAU,GAAGjT,WAAW,CAACiT,UAAU,CAAC,GAAGhV,KAAK,GAAGgV,UAAU;UAEzD,IAAMT,YAAW,GAAG1U,IAAI,KAAKmC,MAAM,CAACC,IAAI;UACxC,IAAAga,mBAAA,GAA2EtD,kBAAkB,CAACT,WAAW,CAACJ,cAAc,CAAC;YAAvGzD,kBAAkB,GAAA4H,mBAAA,CAA5BvL,QAAQ;YAAkC4D,oBAAoB,GAAA2H,mBAAA,CAAhCtL,UAAU;UAChD,IAAMuL,oBAAoB,GAAI,CAACC,aAAa,CAAChV,KAAK,CAACE,EAAE,EAAEF,KAAK,CAACE,EAAE,CAACC,KAAK,CAAC,IAClE,CAAC4Q,WAAW,CAACqB,QAAQ,IACrB,CAAClV,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC,IAC7Byb,cAAc,CAACjZ,MAAM,CAACC,MAAM,CAAC;YACzBmR,WAAW,EAAXA,YAAW;YAAE9L,SAAS,EAAE,CAAC,CAACpE,GAAG,CAACe,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC;YAAE6T,WAAW,EAAEpP,UAAU,CAACoP,WAAW;YAAEH,kBAAkB,EAAlBA,kBAAkB;YACtHC,oBAAoB,EAApBA;WACH,EAAEoE,cAAc,CAAC,CAAC;UACvB,IAAMW,UAAS,GAAG,CAAC9E,YAAW,IAAIsE,cAAc,CAAClY,IAAI,CAAC;UACtD,IAAI,CAACoB,WAAW,CAACiT,UAAU,CAAC,EAAE;YAC1B7L,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAEqU,UAAU,CAAC;;UAEtC,IAAMzM,WAAU,GAAGgS,wBAAwB,CAAC5Z,IAAI,EAAEqU,UAAU,EAAET,YAAW,EAAE,KAAK,CAAC;UACjF,IAAMqF,YAAY,GAAGzS,KAAK,CAACE,EAAE,CAACsH,KAAK,IAAI,CAAClK,aAAa,CAAC8D,WAAU,CAAC,IAAI8Q,UAAS;UAG9E,IAAI6C,oBAAoB,EAAE;YACtB,CAAC3H,YAAW,IACRzO,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC;cACjBtF,IAAI,EAAJA,IAAI;cACJd,IAAI,EAAJA;aACH,CAAC;YACN,OAAQ+Z,YAAY,IAChB9T,SAAS,CAACC,KAAK,CAACE,IAAI,CAACoT,UAAS,GAAG;cAAE1Y,IAAI,EAAJA;aAAM,GAAGwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEmF,WAAU,CAAC,EAAE;cAAE5H,IAAI,EAAJA;aAAM,CAAC,CAAC;;UAE3GmF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;YACjBP,YAAY,EAAE;WACjB,CAAC;UAAC,IAAAgZ,OAAA;YAAA,IACCxG,WAAW,CAACqB,QAAQ;cAAA,OAAAjE,OAAA,CAAAC,OAAA,CACK0F,eAAe,CAAC,CAACta,IAAI,CAAC,CAAC,EAAAwW,IAAA,WAAAmF,KAAA;gBAAA,IAAxC1W,MAAM,GAAA0W,KAAA,CAAN1W,MAAM;gBACd8C,KAAK,GAAGrE,GAAG,CAACuB,MAAM,EAAEjF,IAAI,CAAC;gBACzB,IAAIF,eAAe,CAACD,MAAM,CAAC,IAAI,CAACkI,KAAK,EAAE;kBACnC,IAAM6T,cAAc,GAAGrb,iBAAiB,CAACP,IAAI,CAAC;kBAC9C,IAAM6b,QAAQ,GAAGnY,GAAG,CAACuB,MAAM,EAAE2W,cAAc,EAAE,EAAE,CAAC;kBAChDC,QAAQ,CAAC3c,IAAI,IAAI2c,QAAQ,CAACnU,OAAO,KAAKK,KAAK,GAAG8T,QAAQ,CAAC;kBACvD,IAAIA,QAAQ,IAAInY,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE2W,cAAc,CAAC,EAAE;oBACpD5b,IAAI,GAAG4b,cAAc;;;gBAG7B5W,OAAO,GAAGlB,aAAa,CAACmB,MAAM,CAAC;;;cAAC,OAAA0P,OAAA,CAAAC,OAAA,CAIjBoG,aAAa,CAACxU,KAAK,EAAE9C,GAAG,CAACsC,WAAW,EAAEhG,IAAI,CAAC,EAAEiY,0BAA0B,EAAEV,WAAW,CAACvE,yBAAyB,CAAC,EAAAwD,IAAA,WAAAsF,cAAA;gBAA9H/T,KAAK,GAAG+T,cAAA,CAAwH9b,IAAI,CAAC;;;;UAAC,OAAA+d,OAAA,IAAAA,OAAA,CAAAvH,IAAA,GAAAuH,OAAA,CAAAvH,IAAA,CAAAwJ,OAAA,IAAAA,OAAA,CAAAjC,OAAA;;;KAUjJ,QAAA/G,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAM+E,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAI/b,IAAI,EAAEsH,GAAG,EAAE0U,iBAAiB,EAAK;IAChE,IAAMxV,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAEhC,IAAIwG,KAAK,EAAE;MACP,IAAM0S,UAAU,GAAGxV,GAAG,CAACsC,WAAW,EAAEhG,IAAI,CAAC;MACzC,IAAMic,gBAAgB,GAAG7a,WAAW,CAAC8X,UAAU,CAAC;MAChD,IAAMpY,YAAY,GAAGmb,gBAAgB,GAC/BvY,GAAG,CAACuC,cAAc,EAAEjG,IAAI,CAAC,GACzBkZ,UAAU;MAChB,IAAI9X,WAAW,CAACN,YAAY,CAAC,IACxBwG,GAAG,IAAIA,GAAG,CAAC4U,cAAe,IAC3BF,iBAAiB,EAAE;QACnB1U,GAAG,IAAIA,GAAG,CAAChD,OAAO,IACdkE,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAEgc,iBAAiB,GAAGlb,YAAY,GAAGuR,aAAa,CAAC7L,KAAK,CAAC,CAAC;OACtF,MACI;QACDwS,aAAa,CAAChZ,IAAI,EAAEc,YAAY,CAAC;;;IAGzC8W,UAAU,IAAIxU,eAAe,CAAC4B,OAAO,IAAIoJ,YAAY,EAAE;GAC1D;EACD,IAAM8L,WAAW,GAAG,SAAdA,WAAWA,CAAIla,IAAI,EAAEb,IAAI,EAAK;IAChCa,IAAI,IAAIb,IAAI,IAAIqJ,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAEb,IAAI,CAAC;IAC5C,OAAO,CAACgQ,SAAS,CAAC3M,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEgX,SAAS,EAAE,CAAC,EAAExT,cAAc,CAAC;GACpE;EACD,IAAMmI,YAAY,YAAZA,YAAYA;IAAA,IAAe;MAAA,IAAA+N,sBAAA,GACb5E,WAAW,CAACqB,QAAQ;MAAA,OAAAjE,OAAA,CAAAC,OAAA,CAAAuH,sBAAA,GACT7B,eAAe,EAAE,GAChChC,YAAY,CAAC7R,OAAO,EAAE,IAAI,CAAC,EAAA+P,IAAA,WAAA4F,gBAAA;QAFvC,IAAMpX,OAAO,GAAAoX,gBAE0B;QAAC,IACpCpX,OAAO,KAAKP,UAAU,CAACO,OAAO;UAC9BP,UAAU,CAACO,OAAO,GAAGA,OAAO;UAC5BG,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;YACjBN,OAAO,EAAPA;WACH,CAAC;;;KAET,QAAAgS,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMqF,SAAS,GAAG,SAAZA,SAASA,CAAIrc,IAAI,EAAEX,KAAK,EAAEsK,OAAO;IAAA,OAAKnH,MAAM,CAAC8Z,OAAO,CAACjd,KAAK,CAAC,CAACga,OAAO,CAAC,UAAAkD,KAAA,EAA4B;MAAA,IAA1BC,QAAQ,GAAAD,KAAA;QAAErD,UAAU,GAAAqD,KAAA;MAC5F,IAAME,SAAS,GAAMzc,IAAI,SAAIwc,QAAU;MACvC,IAAMhW,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;MACrC,IAAMC,YAAY,GAAGzV,MAAM,CAACC,KAAK,CAACiR,GAAG,CAACnY,IAAI,CAAC;MAC3C,CAAC0c,YAAY,IAAI,CAACpN,WAAW,CAAC4J,UAAU,CAAC,IAAK1S,KAAK,IAAI,CAACA,KAAK,CAACE,EAAG,KAC7D,CAAChH,YAAY,CAACwZ,UAAU,CAAC,GACvBmD,SAAS,CAACI,SAAS,EAAEvD,UAAU,EAAEvP,OAAO,CAAC,GACzCqP,aAAa,CAACyD,SAAS,EAAEvD,UAAU,EAAEvP,OAAO,EAAE,IAAI,CAAC;KAC5D,CAAC;;EACF,IAAMgT,SAAS,GAAG,SAAZA,SAASA,CAAIC,UAAU,EAAE9b,YAAY,EAAE+b,QAAQ,EAAK;IACtD,IAAMxQ,WAAW,GAAG7J,MAAM,CAACC,MAAM,CAAC,EAAE,EAAGmV,UAAU,GAC3CpV,MAAM,CAACC,MAAM,CAAC,EAAE,EAAED,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEwD,cAAc,CAAC,EAAED,WAAW,CAAC,CAAC,GAAG5E,WAAW,CAACN,YAAY,CAAC,GACxGmF,cAAc,GACdnF,YAAa,CAAC;IACxB,IAAI,CAAC8b,UAAU,EAAE;MACbC,QAAQ,KAAK5V,MAAM,CAAC8G,QAAQ,GAAG,IAAI,CAAC;MACpC,OAAO1B,WAAW;;IAEtB,IAAMyQ,aAAa,GAAG,EAAE;IACxB,IAAM/b,MAAM,GAAG,IAAIgc,GAAG,EAAE;IACxB,SAAAzL,UAAA,GAAA/H,+BAAA,CAAwBhE,qBAAqB,CAACqX,UAAU,CAAC,GAAArL,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAA7H,IAAA,GAAE;MAAA,IAAhDgT,SAAS,GAAAlL,MAAA,CAAAlS,KAAA;MAChBwd,QAAQ,IAAI5V,MAAM,CAAC+G,KAAK,CAACpB,GAAG,CAAC6P,SAAS,CAAC;MACvCK,aAAa,CAACnM,IAAI,CAACjN,GAAG,CAAC2I,WAAW,EAAEoQ,SAAS,CAAC,CAAC;MAC/C1b,MAAM,CAACyH,GAAG,CAACiU,SAAS,EAAE/Y,GAAG,CAAC2I,WAAW,EAAEoQ,SAAS,CAAC,CAAC;;IAEtD,OAAOjd,KAAK,CAACC,OAAO,CAACmd,UAAU,CAAC,GAC1B,CAACE,aAAa,EAAE/b,MAAM,CAAC,GACvBnB,QAAQ,CAACmB,MAAM,CAAC,CAAC,CAAC,CAAC,GACfyB,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE1B,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGvB,KAAK,CAACC,OAAO,CAACsB,MAAM,CAAC,CAAC,CAAC,CAAC,MAAAX,MAAA,CAC/CW,MAAM,CAAC,CAAC,CAAC,IACbA,MAAM,CAAC,CAAC,CAAC;GAC1B;EACD,IAAMic,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIzJ,aAAa,EAAEvT,IAAI,EAAU;IAAA,IAAdA,IAAI;MAAJA,IAAI,GAAG,EAAE;;IAE/C,KAAK,IAAMmB,GAAG,IAAIoS,aAAa,EAAE;MAC7B,IAAMlU,KAAK,GAAGkU,aAAa,CAACpS,GAAG,CAAC;MAChC,IAAMsb,SAAS,GAAGzc,IAAI,IAAIA,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC,GAAGmB,GAAG;MAChD,IAAMqF,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;MACrC,IAAI,CAACjW,KAAK,IAAI,CAACA,KAAK,CAACE,EAAE,EAAE;QACrB,IAAI9G,QAAQ,CAACP,KAAK,CAAC,IAAIG,KAAK,CAACC,OAAO,CAACJ,KAAK,CAAC,EAAE;UACzC2d,iBAAiB,CAAC3d,KAAK,EAAEod,SAAS,CAAC;SACtC,MACI,IAAI,CAACjW,KAAK,EAAE;UACbgC,GAAG,CAACxC,WAAW,EAAEyW,SAAS,EAAEpd,KAAK,CAAC;;;;GAIjD;EACD,IAAM2N,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIzC,OAAO,EAAEvK,IAAI,EAAEid,MAAM,EAAEpO,IAAI,EAAE/B,uBAAuB,EAAOoQ,SAAS,EAASC,eAAe,EAAY;IAAA,IAA3ErQ,uBAAuB;MAAvBA,uBAAuB,GAAG,EAAE;;IAAA,IAAEoQ,SAAS;MAATA,SAAS,GAAG,IAAI;;IAAA,IAAEC,eAAe;MAAfA,eAAe,GAAG,IAAI;;IAC9HhW,WAAW,GAAG,IAAI;IAClB,IAAIgW,eAAe,IAAIzZ,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC,EAAE;MACvC,IAAMod,MAAM,GAAGH,MAAM,CAACvZ,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC,EAAE6O,IAAI,CAAC5B,IAAI,EAAE4B,IAAI,CAACrB,IAAI,CAAC;MAC/D0P,SAAS,IAAI1U,GAAG,CAAC/B,OAAO,EAAEzG,IAAI,EAAEod,MAAM,CAAC;;IAE3C5U,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAE8M,uBAAuB,CAAC;IAC/C,IAAItN,KAAK,CAACC,OAAO,CAACiE,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC,CAAC,EAAE;MAC7C,IAAMod,OAAM,GAAGH,MAAM,CAACvZ,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC,EAAE6O,IAAI,CAAC5B,IAAI,EAAE4B,IAAI,CAACrB,IAAI,CAAC;MACzE0P,SAAS,IAAI1U,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAEod,OAAM,CAAC;MACjDC,eAAe,CAAC5Y,UAAU,CAACQ,MAAM,EAAEjF,IAAI,CAAC;;IAE5C,IAAIoD,eAAe,CAAC0B,aAAa,IAAIpB,GAAG,CAACe,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC,EAAE;MACtE,IAAMod,QAAM,GAAGH,MAAM,CAACvZ,GAAG,CAACe,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC,EAAE6O,IAAI,CAAC5B,IAAI,EAAE4B,IAAI,CAACrB,IAAI,CAAC;MAChF0P,SAAS,IAAI1U,GAAG,CAAC/D,UAAU,CAACK,aAAa,EAAE9E,IAAI,EAAEod,QAAM,CAAC;MACxDC,eAAe,CAAC5Y,UAAU,CAACK,aAAa,EAAE9E,IAAI,CAAC;;IAEnD,IAAIoD,eAAe,CAACyB,WAAW,IAAIzB,eAAe,CAACwB,OAAO,EAAE;MACxD4D,GAAG,CAAC/D,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAEsd,wBAAwB,CAACnP,OAAO,CAACrB,uBAAuB,EAAEvC,OAAO,CAAC,EAAE7G,GAAG,CAACuC,cAAc,EAAEjG,IAAI,EAAE,EAAE,CAAC,EAAE0D,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;MAC5K8M,uBAAuB,IACnBtE,GAAG,CAAC/D,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAEsd,wBAAwB,CAACnP,OAAO,CAACrB,uBAAuB,EAAEvC,OAAO,CAAC,EAAE7G,GAAG,CAACuC,cAAc,EAAEjG,IAAI,EAAE,EAAE,CAAC,EAAE0D,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;MAChLqd,eAAe,CAAC5Y,UAAU,CAACI,WAAW,EAAE7E,IAAI,CAAC;;IAEjDmF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBV,OAAO,EAAEsV,WAAW,CAACla,IAAI,EAAEmO,OAAO,CAACrB,uBAAuB,EAAEvC,OAAO,CAAC,CAAC;MACrE1F,WAAW,EAAEJ,UAAU,CAACI,WAAW;MACnCI,MAAM,EAAER,UAAU,CAACQ,MAAM;MACzBD,OAAO,EAAEP,UAAU,CAACO;KACvB,CAAC;GACL;EACD,IAAM0H,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAI1M,IAAI;IAAA,OAAK0D,GAAG,CAACkU,UAAU,GAAG5R,WAAW,GAAGC,cAAc,EAAEjG,IAAI,EAAE,EAAE,CAAC;;EAC9F,IAAMud,QAAQ,GAAG,SAAXA,QAAQA,CAAIvd,IAAI,EAAEX,KAAK,EAAEsK,OAAO,EAAU;IAAA,IAAjBA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IACvC,IAAMnD,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAChC,IAAM0c,YAAY,GAAGzV,MAAM,CAACC,KAAK,CAACiR,GAAG,CAACnY,IAAI,CAAC;IAC3CwI,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAEX,KAAK,CAAC;IAC7B,IAAIqd,YAAY,EAAE;MACdvX,SAAS,CAAC+B,KAAK,CAAC5B,IAAI,CAAC;QACjBuB,MAAM,EAAExH,KAAK;QACbW,IAAI,EAAJA,IAAI;QACJuO,OAAO,EAAE;OACZ,CAAC;MACF,IAAI,CAACnL,eAAe,CAACwB,OAAO,IAAIxB,eAAe,CAACyB,WAAW,KACvD8E,OAAO,CAAC+P,WAAW,EAAE;QACrBlR,GAAG,CAAC/D,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAEsd,wBAAwB,CAACje,KAAK,EAAEqE,GAAG,CAACuC,cAAc,EAAEjG,IAAI,EAAE,EAAE,CAAC,EAAE0D,GAAG,CAACe,UAAU,CAACI,WAAW,EAAE7E,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACxImF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;UACjBtF,IAAI,EAAJA,IAAI;UACJ6E,WAAW,EAAEJ,UAAU,CAACI,WAAW;UACnCD,OAAO,EAAEsV,WAAW,CAACla,IAAI,EAAEX,KAAK;SACnC,CAAC;;KAET,MACI;MACDmH,KAAK,IAAI,CAACA,KAAK,CAACE,EAAE,IAAI,CAACnH,iBAAiB,CAACF,KAAK,CAAC,GACzCgd,SAAS,CAACrc,IAAI,EAAEX,KAAK,EAAEsK,OAAO,CAAC,GAC/BqP,aAAa,CAAChZ,IAAI,EAAEX,KAAK,EAAEsK,OAAO,EAAE,IAAI,CAAC;;IAEnDuO,cAAc,CAAClY,IAAI,CAAC,IAAImF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC,EAAE,CAAC;IAChDH,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC;MACjBtF,IAAI,EAAJA;KACH,CAAC;GACL;EACD,IAAM8Z,OAAO,YAAPA,OAAOA,CAAU9Z,IAAI,EAAE2J,OAAO;IAAA,IAAPA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAAA,IAAK;MAAA,IAAAmW,OAAA,YAAAA;QAwB1C3a,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC9C,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAGqR,QAAQ,CAAC9T,IAAI,CAAC,GAAG;UAAEA,IAAI,EAAJA;SAAM,GAAG,EAAG,CAAC,EAAE;UAAEiF,MAAM,EAAER,UAAU,CAACQ,MAAM;UAAEF,YAAY,EAAE;SAAO,CAAC,CAAC;QAC5I,IAAI4E,OAAO,CAACC,WAAW,IAAI,CAAC5E,OAAO,EAAE;UACjCkE,YAAY,CAACzC,OAAO,EAAE,UAACtF,GAAG;YAAA,OAAKuC,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE9D,GAAG,CAAC;aAAEnB,IAAI,GAAG4c,WAAU,GAAG3V,MAAM,CAACN,KAAK,CAAC;;QAEjGvD,eAAe,CAAC4B,OAAO,IAAIoJ,YAAY,EAAE;QACzC,OAAOpJ,OAAO;;MA5Bd,IAAM4X,WAAU,GAAGrX,qBAAqB,CAACvF,IAAI,CAAC;MAC9C,IAAIgF,OAAO;MACXG,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;QACjBP,YAAY,EAAE;OACjB,CAAC;MAAC,IAAAmb,OAAA;QAAA,IACC3I,WAAW,CAACqB,QAAQ;UAAA,OAAAjE,OAAA,CAAAC,OAAA,CACO8F,yBAAyB,CAACtZ,WAAW,CAACpB,IAAI,CAAC,GAAGA,IAAI,GAAG4c,WAAU,CAAC,EAAApG,IAAA,WAArFkH,YAAY;YAClB1Y,OAAO,GAAGhF,IAAI,GACR4c,WAAU,CAAC1I,KAAK,CAAC,UAAClU,IAAI;cAAA,OAAK,CAAC0D,GAAG,CAACga,YAAY,EAAE1d,IAAI,CAAC;cAAC,GACpD8D,aAAa,CAAC4Z,YAAY,CAAC;;;UAAC,IAAAqC,OAAA;YAAA,IAG9B/f,IAAI;cAAA,OAAA2U,OAAA,CAAAC,OAAA,CACaD,OAAO,CAAC9S,GAAG,CAAC+a,WAAU,CAACpS,GAAG,WAAQiS,SAAS;gBAAA,IAAK;kBAAA,IAAAmB,KAAA;kBAC7D,IAAMpX,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;kBAAC,OAAA9H,OAAA,CAAAC,OAAA,CACzB0D,YAAY,CAAC9R,KAAK,CAACE,EAAE,IAAAkX,KAAA,OAAAA,KAAA,CAAMnB,SAAS,IAAGjW,KAAK,EAAAoX,KAAA,IAAKpX,KAAK,CAAC;iBACvE,QAAAwQ,CAAA;kBAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;gBAAC,CAAC,EAAAR,IAAA,WAAAqH,YAAA;gBAHH7Y,OAAO,GAAG6Y,YAAA,CAGL3J,KAAK,CAACzT,OAAO,CAAC;;;cAAC,OAAAkU,OAAA,CAAAC,OAAA,CAGd0D,YAAY,CAAC7R,OAAO,CAAC,EAAA+P,IAAA;gBAC3BxR,OAAO,GAAGlB,aAAa,CAACW,UAAU,CAACQ,MAAM,CAAC;;;;UAAC,IAAA8a,OAAA,IAAAA,OAAA,CAAAvJ,IAAA,SAAAuJ,OAAA,CAAAvJ,IAAA;;;MAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAAsL,OAAA,IAAAA,OAAA,CAAA1J,IAAA,GAAA0J,OAAA,CAAA1J,IAAA,CAAAsJ,OAAA,IAAAA,OAAA,CAAAI,OAAA;KAStD,QAAAlJ,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAM2a,aAAa,YAAbA,aAAaA,CAAUhoB,OAAO,EAA0B3J,IAAI;IAAA,IAArC2J,OAAO;MAAPA,OAAO,GAAG;QAAE2nB,UAAU,EAAE;OAAO;;IAAA,IAAW;MAAA,IAAAM,OAAA,YAAAA;QAwBnEzsB,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC9C,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAGqR,QAAQ,CAAC9T,IAAI,CAAC,GAAG;UAAEA,IAAI,EAAJA;SAAM,GAAG,EAAG,CAAC,EAAE;UAAEiF,MAAM,EAAER,UAAU,CAACQ,MAAM;UAAEF,YAAY,EAAE;SAAO,CAAC,CAAC;QAC5I,IAAI4E,OAAO,CAACC,WAAW,IAAI,CAAC5E,OAAO,EAAE;UACjCkE,YAAY,CAACzC,OAAO,EAAE,UAACtF,GAAG;YAAA,OAAKuC,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE9D,GAAG,CAAC;aAAEnB,IAAI,GAAG4c,YAAU,GAAG3V,MAAM,CAACN,KAAK,CAAC;;QAEjGvD,eAAe,CAAC4B,OAAO,IAAIoJ,YAAY,EAAE;QACzC,OAAOpJ,OAAO;;MA5Bd,IAAM4X,YAAU,GAAGrX,qBAAqB,CAACvF,IAAI,CAAC;MAC9C,IAAIgF,OAAO;MACXG,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;QACjBP,YAAY,EAAE;OACjB,CAAC;MAAC,IAAA8sB,OAAA;QAAA,IACCta,WAAW,CAACqB,QAAQ;UAAA,OAAAjE,OAAA,CAAAC,OAAA,CACO8F,yBAAyB,CAACtZ,WAAW,CAACpB,IAAI,CAAC,GAAGA,IAAI,GAAG4c,YAAU,CAAC,EAAApG,IAAA,WAArFkH,YAAY;YAClB1Y,OAAO,GAAGhF,IAAI,GACR4c,YAAU,CAAC1I,KAAK,CAAC,UAAClU,IAAI;cAAA,OAAK,CAAC0D,GAAG,CAACga,YAAY,EAAE1d,IAAI,CAAC;cAAC,GACpD8D,aAAa,CAAC4Z,YAAY,CAAC;;;UAAC,IAAAoU,OAAA;YAAA,IAG9B9xB,IAAI;cAAA,OAAA2U,OAAA,CAAAC,OAAA,CACaD,OAAO,CAAC9S,GAAG,CAAC+a,YAAU,CAACpS,GAAG,WAAQiS,SAAS;gBAAA,IAAK;kBAAA,IAAAyB,KAAA;kBAC7D,IAAM1X,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;kBAAC,OAAA9H,OAAA,CAAAC,OAAA,CACzB0D,YAAY,CAAC9R,KAAK,CAACE,EAAE,IAAAwX,KAAA,OAAAA,KAAA,CAAMzB,SAAS,IAAGjW,KAAK,EAAA0X,KAAA,IAAK1X,KAAK,CAAC;iBACvE,QAAAwQ,CAAA;kBAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;gBAAC,CAAC,EAAAR,IAAA,WAAA2H,aAAA;gBAHHnZ,OAAO,GAAGmZ,aAAA,CAGLjK,KAAK,CAACzT,OAAO,CAAC;;;cAAC,OAAAkU,OAAA,CAAAC,OAAA,CAGd0D,YAAY,CAAC7R,OAAO,EAAE,KAAK,EAAE;gBAAE6qB,UAAU,EAAE3nB,OAAO,CAAC2nB;eAAY,CAAC,EAAA9a,IAAA;gBACtExR,OAAO,GAAGlB,aAAa,CAACW,UAAU,CAACQ,MAAM,CAAC;;;;UAAC,IAAA6sB,OAAA,IAAAA,OAAA,CAAAtb,IAAA,SAAAsb,OAAA,CAAAtb,IAAA;;;MAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAAid,OAAA,IAAAA,OAAA,CAAArb,IAAA,GAAAqb,OAAA,CAAArb,IAAA,CAAAob,OAAA,IAAAA,OAAA,CAAAC,OAAA;KAStD,QAAA7a,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAM8G,iBAAiB,YAAjBA,iBAAiBA,CAAU9d,IAAI,EAAE2J,OAAO;IAAA,IAAPA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAAA,IAAK;MAAA,IAAAooB,OAAA,YAAAA;QA2BpD,IAAIpoB,OAAO,CAACC,WAAW,IAAI,CAAC5E,OAAO,EAAE;UACjCkE,YAAY,CAACzC,OAAO,EAAE,UAACtF,GAAG;YAAA,OAAKuC,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE9D,GAAG,CAAC;aAAEnB,IAAI,GAAG4c,YAAU,GAAG3V,MAAM,CAACN,KAAK,CAAC;;QAEjGvD,eAAe,CAAC4B,OAAO,IAAIoJ,YAAY,EAAE;QAEzC,OAAOpJ,OAAO;;MA/Bd,IAAM4X,YAAU,GAAGrX,qBAAqB,CAACvF,IAAI,CAAC;MAC9C,IAAIgF,OAAO;MAAC,IAAAgtB,OAAA;QAAA,IAKRza,WAAW,CAACqB,QAAQ;UAAA,OAAAjE,OAAA,CAAAC,OAAA,CACO8F,yBAAyB,CAACtZ,WAAW,CAACpB,IAAI,CAAC,GAAGA,IAAI,GAAG4c,YAAU,CAAC,EAAApG,IAAA,WAArFkH,YAAY;YAClB1Y,OAAO,GAAGhF,IAAI,GACR4c,YAAU,CAAC1I,KAAK,CAAC,UAAClU,IAAI;cAAA,OAAK,CAAC0D,GAAG,CAACga,YAAY,EAAE1d,IAAI,CAAC;cAAC,GACpD8D,aAAa,CAAC4Z,YAAY,CAAC;;;UAAC,IAAAuU,OAAA;YAAA,IAG9BjyB,IAAI;cAAA,OAAA2U,OAAA,CAAAC,OAAA,CACaD,OAAO,CAAC9S,GAAG,CAAC+a,YAAU,CAACpS,GAAG,WAAQiS,SAAS;gBAAA,IAAK;kBAAA,IAAAkT,KAAA;kBAC7D,IAAMnpB,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEgW,SAAS,CAAC;kBAAC,OAAA9H,OAAA,CAAAC,OAAA,CAEzB0D,YAAY,CAAC9R,KAAK,CAACE,EAAE,IAAAipB,KAAA,OAAAA,KAAA,CAAMlT,SAAS,IAAGjW,KAAK,EAAAmpB,KAAA,IAAKnpB,KAAK,CAAC;iBACvE,QAAAwQ,CAAA;kBAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;gBAAC,CAAC,EAAAR,IAAA,WAAA0b,aAAA;gBAJHltB,OAAO,GAAGktB,aAAA,CAILhe,KAAK,CAACzT,OAAO,CAAC;;;cAAC,OAAAkU,OAAA,CAAAC,OAAA,CAGJ0D,YAAY,CAAC7R,OAAO,EAAE,IAAI,CAAC,EAAA+P,IAAA,WAAA2b,cAAA;gBAA3CntB,OAAO,GAAAmtB,cAAoC;;;;UAAC,IAAAF,OAAA,IAAAA,OAAA,CAAAzb,IAAA,SAAAyb,OAAA,CAAAzb,IAAA;;;MAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAAod,OAAA,IAAAA,OAAA,CAAAxb,IAAA,GAAAwb,OAAA,CAAAxb,IAAA,CAAAub,OAAA,IAAAA,OAAA,CAAAC,OAAA;KAWvD,QAAAhb,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EACD,IAAMob,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAIf,MAAM;IAAA,IAANA,MAAM;MAANA,MAAM,GAAG,KAAK;;IAAA,iBAAYgB,IAAI;MAAA,IAAJA,IAAI;QAAJA,IAAI,GAAG,KAAK;;MAAA,IAAK;QAAA,IAAAC,OAAA,YAAAA;UA0C3ElvB,eAAe,CAAC4B,OAAO,IAAIoJ,YAAY,EAAE;UAEzC,OAAOpJ,OAAO;;QA1Cd,IAAIA,OAAO;QAAC,IAAAutB,OAAA;UAAA,IAKRhb,WAAW,CAACqB,QAAQ;YAAA,OAAAjE,OAAA,CAAAC,OAAA,CAEO8F,yBAAyB,CAACkC,UAAU,CAAC,EAAApG,IAAA,WAA1DkH,YAAY;cAClB1Y,OAAO,GAIHlB,aAAa,CAAC4Z,YAAY,CAAC;;;YAAC,IAAA8U,OAAA;cAAA,IAW5BH,IAAI;gBAAA,OAAA1d,OAAA,CAAAC,OAAA,CACY2c,sBAAsB,CAAC9qB,OAAO,EAAE,KAAK,EAAE;kBACnDmU,KAAK,EAAE;iBACV,CAAC,EAAApE,IAAA,WAAAic,qBAAA;kBAFFztB,OAAO,GAAAytB,qBAEL;;;gBAAC,OAAA9d,OAAA,CAAAC,OAAA,CAEa0D,YAAY,CAAC7R,OAAO,EAAE,IAAI,EAAE;kBACxCmU,KAAK,EAAE;iBACV,EAAEyW,MAAM,CAAC,EAAA7a,IAAA,WAAAkc,cAAA;kBAFV1tB,OAAO,GAAA0tB,cAEG;;;;YAAC,IAAAF,OAAA,IAAAA,OAAA,CAAAhc,IAAA,SAAAgc,OAAA,CAAAhc,IAAA;;;QAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAA2d,OAAA,IAAAA,OAAA,CAAA/b,IAAA,GAAA+b,OAAA,CAAA/b,IAAA,CAAA8b,OAAA,IAAAA,OAAA,CAAAC,OAAA;OAatB,QAAAvb,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;;EACD,IAAMyC,SAAS,GAAG,SAAZA,SAASA,CAAImD,UAAU,EAAK;IAE9B,IAAM/V,MAAM,GAAGrE,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEwD,cAAc,CAAC,EAAED,WAAW,CAAC;IAC5E,OAAO5E,WAAW,CAACwb,UAAU,CAAC,GACxB/V,MAAM,GACNiN,QAAQ,CAAC8I,UAAU,CAAC,GAChBlZ,GAAG,CAACmD,MAAM,EAAE+V,UAAU,CAAC,GACvBA,UAAU,CAACpS,GAAG,CAAC,UAACxK,IAAI;MAAA,OAAK0D,GAAG,CAACmD,MAAM,EAAE7G,IAAI,CAAC;MAAC;GACxD;EACD,IAAMqe,WAAW,GAAG,SAAdA,WAAWA,CAAIre,IAAI,EAAK;IAC1BA,IAAI,GACEuF,qBAAqB,CAACvF,IAAI,CAAC,CAACqZ,OAAO,CAAC,UAACiF,SAAS;MAAA,OAAKzS,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEqZ,SAAS,CAAC;MAAC,GACtF7Z,UAAU,CAACQ,MAAM,GAAG,EAAG;IAC9BE,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBL,MAAM,EAAER,UAAU,CAACQ;KACtB,CAAC;GACL;EACD,IAAMsZ,QAAQ,GAAG,SAAXA,QAAQA,CAAIve,IAAI,EAAE+H,KAAK,EAAE4B,OAAO,EAAK;IACvC,IAAMrC,GAAG,GAAG,CAAC5D,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,EAAE;MAAE0G,EAAE,EAAE;KAAI,CAAC,CAACA,EAAE,IAAI,EAAE,EAAEY,GAAG;IACzDkB,GAAG,CAAC/D,UAAU,CAACQ,MAAM,EAAEjF,IAAI,EAAEwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEsF,KAAK,CAAC,EAAE;MAAET,GAAG,EAAHA;KAAK,CAAC,CAAC;IAC9EnC,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBtF,IAAI,EAAJA,IAAI;MACJiF,MAAM,EAAER,UAAU,CAACQ,MAAM;MACzBD,OAAO,EAAE;KACZ,CAAC;IACF2E,OAAO,IAAIA,OAAO,CAACC,WAAW,IAAItC,GAAG,IAAIA,GAAG,CAACE,KAAK,IAAIF,GAAG,CAACE,KAAK,EAAE;GACpE;EACD,IAAMwG,KAAK,GAAG,SAARA,KAAKA,CAAIyO,SAAS,EAAE3b,YAAY;IAAA,OAAKyV,UAAU,CAACkG,SAAS,CAAC,GAC1DtX,SAAS,CAAC6I,KAAK,CAAC3I,SAAS,CAAC;MACxBC,IAAI,EAAE,SAAAA,KAACkZ,IAAI;QAAA,OAAK/B,SAAS,CAACE,SAAS,CAAChc,SAAS,EAAEG,YAAY,CAAC,EAAE0d,IAAI,CAAC;;KACtE,CAAC,GACA7B,SAAS,CAACF,SAAS,EAAE3b,YAAY,EAAE,IAAI,CAAC;;EAC9C,IAAMsG,UAAU,GAAG,SAAbA,UAAUA,CAAIpH,IAAI,EAAE2J,OAAO,EAAU;IAAA,IAAjBA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAClC,SAAA8U,UAAA,GAAAlV,+BAAA,CAAwBvJ,IAAI,GAAGuF,qBAAqB,CAACvF,IAAI,CAAC,GAAGiH,MAAM,CAACN,KAAK,GAAA+X,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAAhV,IAAA,GAAE;MAAA,IAAhE6U,SAAS,GAAAI,MAAA,CAAArf,KAAA;MAChB4H,MAAM,CAACN,KAAK,UAAO,CAAC2X,SAAS,CAAC;MAC9BrX,MAAM,CAACC,KAAK,UAAO,CAACoX,SAAS,CAAC;MAC9B,IAAI5a,GAAG,CAAC+C,OAAO,EAAE6X,SAAS,CAAC,EAAE;QACzB,IAAI,CAAC3U,OAAO,CAACgV,SAAS,EAAE;UACpB9S,KAAK,CAACpF,OAAO,EAAE6X,SAAS,CAAC;UACzBzS,KAAK,CAAC7F,WAAW,EAAEsY,SAAS,CAAC;;QAEjC,CAAC3U,OAAO,CAACiV,SAAS,IAAI/S,KAAK,CAACpH,UAAU,CAACQ,MAAM,EAAEqZ,SAAS,CAAC;QACzD,CAAC3U,OAAO,CAACkV,SAAS,IAAIhT,KAAK,CAACpH,UAAU,CAACI,WAAW,EAAEyZ,SAAS,CAAC;QAC9D,CAAC3U,OAAO,CAACmV,WAAW,IAAIjT,KAAK,CAACpH,UAAU,CAACK,aAAa,EAAEwZ,SAAS,CAAC;QAClE,CAAC/G,WAAW,CAACzR,gBAAgB,IACzB,CAAC6D,OAAO,CAACoV,gBAAgB,IACzBlT,KAAK,CAAC5F,cAAc,EAAEqY,SAAS,CAAC;;;IAG5CnZ,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC,EAAE,CAAC;IACxBH,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC9C,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEgC,UAAU,CAAC,EAAG,CAACkF,OAAO,CAACkV,SAAS,GAAG,EAAE,GAAG;MAAEja,OAAO,EAAEsV,WAAW;KAAK,CAAC,CAAC;IAC1H,CAACvQ,OAAO,CAACqV,WAAW,IAAI5Q,YAAY,EAAE;GACzC;EACD,IAAM6Q,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIjf,IAAI,EAAEkf,QAAQ,EAAEvV,OAAO,EAAK;IAClDvD,QAAQ,CAACpG,IAAI,EAAE2J,OAAO,CAAC;IACvB,IAAInD,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAC9B,IAAMsH,GAAG,GAAGlG,WAAW,CAAC8d,QAAQ,CAAC7f,KAAK,CAAC,GACjC6f,QAAQ,CAACC,gBAAgB,GACrBD,QAAQ,CAACC,gBAAgB,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC,IACvDD,QAAQ,GACNA,QAAQ,GACZA,QAAQ;IACd,IAAMnK,iBAAiB,GAAGqK,yBAAyB,CAAC9X,GAAG,CAAC;IACxD,IAAIA,GAAG,KAAKd,KAAK,CAACE,EAAE,CAACY,GAAG,IACnByN,iBAAiB,IACd/T,OAAO,CAACwF,KAAK,CAACE,EAAE,CAACgD,IAAI,IAAI,EAAE,CAAC,CAAC3F,IAAI,CAAC,UAAC4N,MAAM;MAAA,OAAKA,MAAM,KAAKrK,GAAG;MAAE,EAAE;MACpE;;IAEJd,KAAK,GAAG;MACJE,EAAE,EAAEqO,iBAAiB,GACfvS,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE+D,KAAK,CAACE,EAAE,CAAC,EAAE;QACzCgD,IAAI,KAAAtJ,MAAA,CACGY,OAAO,CAACwF,KAAK,CAACE,EAAE,CAACgD,IAAI,IAAI,EAAE,CAAC,CAAClJ,MAAM,CAAC,UAAC8G,GAAG;UAAA,OAAK8R,aAAa,CAAC9R,GAAG,CAAC,IAAI+I,QAAQ,CAACgP,QAAQ,CAAC/X,GAAG,CAAC;UAAC,GAC7FA,GAAG,EACN;QAAEA,GAAG,EAAE;UAAEpI,IAAI,EAAEoI,GAAG,CAACpI,IAAI;UAAEc,IAAI,EAAJA;;OAC7B,CAAC,GAAGwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE+D,KAAK,CAACE,EAAE,CAAC,EAAE;QAAEY,GAAG,EAAHA;OAAK;KAC9D;IACDkB,GAAG,CAAC/B,OAAO,EAAEzG,IAAI,EAAEwG,KAAK,CAAC;IACzBuV,yBAAyB,CAAC/b,IAAI,EAAEsH,GAAG,CAAC;GACvC;EACD,IAAMlB,QAAQ,GAAG,SAAXA,QAAQA,CAAIpG,IAAI,EAAE2J,OAAO,EAAU;IAAA,IAAjBA,OAAO;MAAPA,OAAO,GAAG,EAAE;;IAChC,IAAMnD,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;IAEhCwI,GAAG,CAAC/B,OAAO,EAAEzG,IAAI,EAAE;MACf0G,EAAE,EAAElE,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAG+D,KAAK,IAAIA,KAAK,CAACE,EAAE,GAAGF,KAAK,CAACE,EAAE,GAAG;QAAEY,GAAG,EAAE;UAAEtH,IAAI,EAAJA;;OAAS,CAAC,EAAE;QAAEA,IAAI,EAAJA,IAAI;QAAE2G,KAAK,EAAE;OAAM,CAAC,EAAEgD,OAAO;KACzI,CAAC;IAEF,IAAIA,OAAO,CAACtK,KAAK,EAAE;MACfmJ,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAE2J,OAAO,CAACtK,KAAK,CAAC;;IAEzC,IAAI,CAAC+B,WAAW,CAACuI,OAAO,CAACtF,QAAQ,CAAC,IAC9BmC,KAAK,IACLA,KAAK,CAACE,EAAE,IACRF,KAAK,CAACE,EAAE,CAACY,GAAG,CAACjD,QAAQ,KAAKsF,OAAO,CAACtF,QAAQ,EAAE;MAC5CmE,GAAG,CAACxC,WAAW,EAAEhG,IAAI,EAAE2J,OAAO,CAACtF,QAAQ,GAAG1D,SAAS,GAAG6F,KAAK,CAACE,EAAE,CAACY,GAAG,CAACjI,KAAK,CAAC;;IAE7E4H,MAAM,CAACN,KAAK,CAACiG,GAAG,CAAC5M,IAAI,CAAC;IACtB,CAACwG,KAAK,IAAIuV,yBAAyB,CAAC/b,IAAI,EAAEW,SAAS,EAAE,IAAI,CAAC;IAC1D,OAAO0W,mBAAiB,GAClB;MAAErX,IAAI,EAAEA;KAAM,GACdwC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC;MAAEzC,IAAI,EAAJA;KAAM,EAAGoB,WAAW,CAACuI,OAAO,CAACtF,QAAQ,CAAC,GAChE,EAAE,GACF;MAAEA,QAAQ,EAAEsF,OAAO,CAACtF;KAAW,CAAC,EAAE;MACpC3C,QAAQ,EAAEwZ,YAAY;MAAEzZ,MAAM,EAAEyZ,YAAY;MAAE5T,GAAG,EAAE,SAAAA,IAACA,KAAG,EAAK;QACxD,IAAIA,KAAG,EAAE;UACL2X,gBAAgB,CAACjf,IAAI,EAAEsH,KAAG,EAAEqC,OAAO,CAAC;SACvC,MACI;UACD,IAAMnD,MAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,EAAE,EAAE,CAAC;UACpC,IAAM+G,iBAAiB,GAAGwQ,WAAW,CAACzR,gBAAgB,IAAI6D,OAAO,CAAC7D,gBAAgB;UAClF,IAAIU,MAAK,CAACE,EAAE,EAAE;YACVF,MAAK,CAACE,EAAE,CAACC,KAAK,GAAG,KAAK;;UAE1BI,iBAAiB,IACb,EAAEC,kBAAkB,CAACC,MAAM,CAACC,KAAK,EAAElH,IAAI,CAAC,IAAImH,WAAW,CAAC,IACxDF,MAAM,CAAC6Q,OAAO,CAAClL,GAAG,CAAC5M,IAAI,CAAC;;;KAGvC,CAAC;GACT;EACD,IAAMsf,YAAY,GAAG,SAAfA,YAAYA,CAAIC,OAAO,EAAEC,SAAS;IAAA,iBAAYxI,CAAC;MAAA,IAAK;QACtD,IAAIA,CAAC,EAAE;UACHA,CAAC,CAACyI,cAAc,IAAIzI,CAAC,CAACyI,cAAc,EAAE;UACtCzI,CAAC,CAAC0I,OAAO,IAAI1I,CAAC,CAAC0I,OAAO,EAAE;;QAE5B,IAAIC,iBAAiB,GAAG,IAAI;QAC5B,IAAItT,WAAW,GAAG7J,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEuD,WAAW,CAAC;QAEhDb,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;UACjBoS,YAAY,EAAE;SACjB,CAAC;QAAC,OAAA/C,OAAA,CAAAC,OAAA,CAAAgL,gBAAA;UAAA,OAAAC,MAAA,aACC;YAAA,SAAA8S;cAAA,IAAAC,OAAA;gBAAA,IASI9uB,aAAa,CAACW,UAAU,CAACQ,MAAM,CAAC,IAChCzC,MAAM,CAACmB,IAAI,CAACc,UAAU,CAACQ,MAAM,CAAC,CAACiP,KAAK,CAAC,UAAClU,IAAI;kBAAA,OAAK0D,GAAG,CAAC2I,WAAW,EAAErM,IAAI,CAAC;kBAAC;kBACtEmF,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;oBACjBL,MAAM,EAAE,EAAE;oBACVyS,YAAY,EAAE;mBACjB,CAAC;kBAAC,OAAA/C,OAAA,CAAAC,OAAA,CACG2K,OAAO,CAAClT,WAAW,EAAE2K,CAAC,CAAC,EAAAR,IAAA;;kBAAA,IAAAqc,OAAA,YAAAA,QAAA5S,UAAA;oBAG7BA,UAAA;oBACA1I,WAAW,CAACH,gBAAgB,IACxBlO,YAAY,CAACzC,OAAO,EAAE,UAACtF,GAAG;sBAAA,OAAKuC,GAAG,CAACe,UAAU,CAACQ,MAAM,EAAE9D,GAAG,CAAC;uBAAE8F,MAAM,CAACN,KAAK,CAAC;;kBAAC,OAF9E6Y,SAAS,GAAA7K,OAAA,CAAAC,OAAA,CAAW4K,SAAS,CAAC/a,UAAU,CAACQ,MAAM,EAAE+R,CAAC,CAAC,EAAAR,IAAA,CAAAqc,OAAA,IAAAA,OAAA,CAAnDrT,SAAS;;;cAAA,IAAAoT,OAAA,IAAAA,OAAA,CAAApc,IAAA,SAAAoc,OAAA,CAAApc,IAAA;;YAAA,IAAAsc,OAAA;cAAA,IAjBTvb,WAAW,CAACqB,QAAQ;gBAAA,OAAAjE,OAAA,CAAAC,OAAA,CACa0F,eAAe,EAAE,EAAA9D,IAAA,WAAAya,KAAA;kBAAA,IAA1ChsB,MAAM,GAAAgsB,KAAA,CAANhsB,MAAM;oBAAE4B,MAAM,GAAAoqB,KAAA,CAANpqB,MAAM;kBACtBpC,UAAU,CAACQ,MAAM,GAAGA,MAAM;kBAC1BoH,WAAW,GAAGxF,MAAM;;;gBAAC,OAAA8N,OAAA,CAAAC,OAAA,CAGf0D,YAAY,CAAC7R,OAAO,CAAC,EAAA+P,IAAA;;;YAAA,OAAAsc,OAAA,IAAAA,OAAA,CAAAtc,IAAA,GAAAsc,OAAA,CAAAtc,IAAA,CAAAmc,OAAA,IAAAA,OAAA,CAAAG,OAAA;WAelC,YACM1S,GAAG,EAAE;YACRT,iBAAiB,GAAG,KAAK;YACzB,MAAMS,GAAG;WACZ;qBAAAC,UAAA,EAAAC,QAAA;UAEG7b,UAAU,CAACoP,WAAW,GAAG,IAAI;UAC7B1O,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;YACjBuO,WAAW,EAAE,IAAI;YACjB6D,YAAY,EAAE,KAAK;YACnBC,kBAAkB,EAAE7T,aAAa,CAACW,UAAU,CAACQ,MAAM,CAAC,IAAI0a,iBAAiB;YACzElI,WAAW,EAAEhT,UAAU,CAACgT,WAAW,GAAG,CAAC;YACvCxS,MAAM,EAAER,UAAU,CAACQ;WACtB,CAAC;UAAC,IAAAob,UAAA,QAAAC,QAAA;UAAA,OAAAA,QAAA;;OAEV,QAAAtJ,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;;EACD,IAAMuJ,KAAK,GAAG,SAARA,KAAKA,CAAI1Z,MAAM,EAAE2Z,gBAAgB,EAAU;IAAA,IAA1BA,gBAAgB;MAAhBA,gBAAgB,GAAG,EAAE;;IACxC,IAAMC,aAAa,GAAG5Z,MAAM,IAAIZ,cAAc;IAC9C,IAAIkT,KAAK,IAAI,CAACqH,gBAAgB,CAACE,UAAU,EAAE;MACvC,SAAAC,UAAA,GAAApX,+BAAA,CAAmBtC,MAAM,CAACN,KAAK,GAAAia,MAAA,IAAAA,MAAA,GAAAD,UAAA,IAAAlX,IAAA,GAAE;QAAA,IAAtBzJ,IAAI,GAAA4gB,MAAA,CAAAvhB,KAAA;QACX,IAAMmH,KAAK,GAAG9C,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC;QAChC,IAAIwG,KAAK,IAAIA,KAAK,CAACE,EAAE,EAAE;UACnB,IAAMmO,QAAQ,GAAGrV,KAAK,CAACC,OAAO,CAAC+G,KAAK,CAACE,EAAE,CAACgD,IAAI,CAAC,GACvClD,KAAK,CAACE,EAAE,CAACgD,IAAI,CAAC,CAAC,CAAC,GAChBlD,KAAK,CAACE,EAAE,CAACY,GAAG;UAClB,IAAI;YACA8R,aAAa,CAACvE,QAAQ,CAAC,IAAIA,QAAQ,CAACgM,OAAO,CAAC,MAAM,CAAC,CAACN,KAAK,EAAE;YAC3D;WACH,CACD,OAAOlN,EAAE,EAAE;;;;IAIvB,IAAI,CAACmN,gBAAgB,CAACM,iBAAiB,EAAE;MACrC7a,cAAc,GAAGzD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEge,aAAa,CAAC;MACjDza,WAAW,GAAGxD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEge,aAAa,CAAC;;IAElD,IAAI,CAACD,gBAAgB,CAACE,UAAU,EAAE;MAC9Bja,OAAO,GAAG,EAAE;MACZT,WAAW,GAAG,EAAE;MAChBb,SAAS,CAACf,OAAO,CAACkB,IAAI,CAAC;QACnBuB,MAAM,EAAE2Z,gBAAgB,CAACM,iBAAiB,GACpC7a,cAAc,GACdzD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEge,aAAa;OACxC,CAAC;MACFtb,SAAS,CAAC6I,KAAK,CAAC1I,IAAI,CAAC,EAAE,CAAC;MACxBH,SAAS,CAAC+B,KAAK,CAAC5B,IAAI,CAAC;QACjBuB,MAAM,EAAErE,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEge,aAAa,CAAC;QACxClS,OAAO,EAAE;OACZ,CAAC;;IAENtH,MAAM,GAAG;MACLN,KAAK,EAAE,IAAIkR,GAAG,EAAE;MAChBC,OAAO,EAAE,IAAID,GAAG,EAAE;MAClB3Q,KAAK,EAAE,IAAI2Q,GAAG,EAAE;MAChB7J,KAAK,EAAE,IAAI6J,GAAG,EAAE;MAChB9J,QAAQ,EAAE;KACb;IACD5I,SAAS,CAACC,KAAK,CAACE,IAAI,CAAC;MACjBmS,WAAW,EAAE+I,gBAAgB,CAACO,eAAe,GACvCtc,UAAU,CAACgT,WAAW,GACtB,CAAC;MACP7S,OAAO,EAAE4b,gBAAgB,CAAC3B,SAAS,GAC7Bpa,UAAU,CAACG,OAAO,GAClB4b,gBAAgB,CAACM,iBAAiB,GAC9B3R,SAAS,CAACtI,MAAM,EAAEZ,cAAc,CAAC,GACjC,KAAK;MACf4N,WAAW,EAAE2M,gBAAgB,CAACQ,eAAe,GACvCvc,UAAU,CAACoP,WAAW,GACtB,KAAK;MACXhP,WAAW,EAAE2b,gBAAgB,CAAC3B,SAAS,GAAGpa,UAAU,CAACI,WAAW,GAAG,EAAE;MACrEC,aAAa,EAAE0b,gBAAgB,CAAC1B,WAAW,GACrCra,UAAU,CAACK,aAAa,GACxB,EAAE;MACRG,MAAM,EAAEub,gBAAgB,CAACS,UAAU,GAAGxc,UAAU,CAACQ,MAAM,GAAG,EAAE;MAC5DyS,YAAY,EAAE,KAAK;MACnBC,kBAAkB,EAAE;KACvB,CAAC;IACFC,UAAU,GAAG,CAAC,CAAC4I,gBAAgB,CAACxB,WAAW;GAC9C;EACD,IAAMkC,QAAQ,GAAG,SAAXA,QAAQA,CAAIlhB,IAAI;IAAA,OAAK0D,GAAG,CAAC+C,OAAO,EAAEzG,IAAI,CAAC,CAAC0G,EAAE,CAACY,GAAG,CAACE,KAAK,EAAE;;EAC5D,OAAO;IACHpD,OAAO,EAAE;MACLgC,QAAQ,EAARA,QAAQ;MACRgB,UAAU,EAAVA,UAAU;MACV8S,WAAW,EAAXA,WAAW;MACXyC,SAAS,EAATA,SAAS;MACTvO,YAAY,EAAZA,YAAY;MACZ4O,iBAAiB,EAAjBA,iBAAiB;MACjBhQ,qBAAqB,EAArBA,qBAAqB;MACrBN,mBAAmB,EAAnBA,mBAAmB;MACnBvH,SAAS,EAATA,SAAS;MACT4B,iBAAiB,EAAEwQ,WAAW,CAACzR,gBAAgB;MAC/CW,OAAO,EAAPA,OAAO;MACPrD,eAAe,EAAfA,eAAe;MACf,IAAI4C,WAAWA,GAAG;QACd,OAAOA,WAAW;OACrB;MACD,IAAIA,WAAWA,CAAC3G,KAAK,EAAE;QACnB2G,WAAW,GAAG3G,KAAK;OACtB;MACD,IAAIuY,UAAUA,GAAG;QACb,OAAOA,UAAU;OACpB;MACD,IAAIA,UAAUA,CAACvY,KAAK,EAAE;QAClBuY,UAAU,GAAGvY,KAAK;OACrB;MACD,IAAI4G,cAAcA,GAAG;QACjB,OAAOA,cAAc;OACxB;MACD,IAAIA,cAAcA,CAAC5G,KAAK,EAAE;QACtB4G,cAAc,GAAG5G,KAAK;OACzB;MACD,IAAI4H,MAAMA,GAAG;QACT,OAAOA,MAAM;OAChB;MACD,IAAIA,MAAMA,CAAC5H,KAAK,EAAE;QACd4H,MAAM,GAAG5H,KAAK;OACjB;MACD8H,WAAW,EAAE;QACT,IAAIzG,GAAGA,GAAG;UACN,OAAOyG,WAAW;SACrB;QACD,IAAIzG,GAAGA,CAACrB,KAAK,EAAE;UACX8H,WAAW,GAAG9H,KAAK;;OAE1B;MACDoF,UAAU,EAAE;QACR,IAAI/D,GAAGA,GAAG;UACN,OAAO+D,UAAU;SACpB;QACD,IAAI/D,GAAGA,CAACrB,KAAK,EAAE;UACXoF,UAAU,GAAGpF,KAAK;;OAEzB;MACD8hB,YAAY,EAAE,SAAAA,aAACxX,OAAO,EAAK;QACvB4N,WAAW,GAAG/U,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEyU,gBAAc,CAAC,EAAEvN,OAAO,CAAC;;KAE9E;IACDmQ,OAAO,EAAPA,OAAO;IACPgE,iBAAiB,EAAjBA,iBAAiB;IACjBsU,0BAA0B,EAA1BA,0BAA0B;IAC1BT,aAAa,EAAbA,aAAa;IACbvrB,QAAQ,EAARA,QAAQ;IACRkZ,YAAY,EAAZA,YAAY;IACZtR,KAAK,EAALA,KAAK;IACLuP,QAAQ,EAARA,QAAQ;IACR9D,SAAS,EAATA,SAAS;IACT8G,KAAK,EAALA,KAAK;IACLlC,WAAW,EAAXA,WAAW;IACXjX,UAAU,EAAVA,UAAU;IACVmX,QAAQ,EAARA,QAAQ;IACR2C,QAAQ,EAARA;GACH;AACL;;ACv8BO,SAASE,SAAOA,CAACre,KAAK,EAAO;EAAA,IAAZA,KAAK;IAALA,KAAK,GAAG,EAAE;;EAC9B,IAAMse,YAAY,GAAG1e,YAAY,EAAE;EACnC,IAAA6B,eAAA,GAAqC7B,cAAc,CAAC;MAChDiC,OAAO,EAAE,KAAK;MACdG,YAAY,EAAE,KAAK;MACnBF,WAAW,EAAE,EAAE;MACfgP,WAAW,EAAE,KAAK;MAClB4D,WAAW,EAAE,CAAC;MACd3S,aAAa,EAAE,EAAE;MACjB4S,YAAY,EAAE,KAAK;MACnBC,kBAAkB,EAAE,KAAK;MACzB3S,OAAO,EAAE,KAAK;MACdC,MAAM,EAAE;KACX,CAAC;IAXK9B,SAAS,GAAAqB,eAAA;IAAEE,eAAe,GAAAF,eAAA;EAYjC,IAAI6c,YAAY,CAAC/gB,OAAO,EAAE;IACtB+gB,YAAY,CAAC/gB,OAAO,CAAC8D,OAAO,CAAC+c,YAAY,CAACpe,KAAK,CAAC;GACnD,MACI;IACDse,YAAY,CAAC/gB,OAAO,GAAGkC,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE2uB,mBAAmB,CAACruB,KAAK,CAAC,CAAC,EAAE;MAAEI,SAAS,EAATA;KAAW,CAAC;;EAEtG,IAAMiB,OAAO,GAAGid,YAAY,CAAC/gB,OAAO,CAAC8D,OAAO;EAC5CzB,eAAe,CAAC,YAAM;IAClB,IAAMuC,qBAAqB,GAAGd,OAAO,CAACe,SAAS,CAACC,KAAK,CAACC,SAAS,CAAC;MAC5DC,IAAI,WAAAA,KAACnC,SAAS,EAAE;QAEZ,IAAIsC,qBAAqB,CAACtC,SAAS,EAAEiB,OAAO,CAAChB,eAAe,EAAE,IAAI,CAAC,EAAE;UACjEgB,OAAO,CAACK,UAAU,CAAC/D,GAAG,GAAG8B,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE2B,OAAO,CAACK,UAAU,CAAC/D,GAAG,CAAC,EAAEyC,SAAS,CAAC;UAC5FuB,eAAe,CAAClC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE2B,OAAO,CAACK,UAAU,CAAC/D,GAAG,CAAC,CAAC;;;KAGrE,CAAC;IACF,IAAM6gB,yBAAyB,GAAGnd,OAAO,CAACe,SAAS,CAAC+B,KAAK,CAAC7B,SAAS,CAAC;MAChEC,IAAI,WAAAA,KAACF,KAAK,EAAE;QACR,IAAIA,KAAK,CAACyB,MAAM,IAAIzB,KAAK,CAACpF,IAAI,IAAIoE,OAAO,CAAChB,eAAe,CAAC4B,OAAO,EAAE;UAC/DwD,GAAG,CAACpE,OAAO,CAAC4B,WAAW,EAAEZ,KAAK,CAACpF,IAAI,EAAEoF,KAAK,CAACyB,MAAM,CAAC;UAClDzC,OAAO,CAACgK,YAAY,EAAE;;;KAGjC,CAAC;IACF,OAAO,YAAM;MACTlJ,qBAAqB,CAACQ,WAAW,EAAE;MACnC6b,yBAAyB,CAAC7b,WAAW,EAAE;KAC1C;GACJ,EAAE,CAACtB,OAAO,CAAC,CAAC;EACbzB,eAAe,CAAC,YAAM;IAClB,IAAM6e,oBAAoB,GAAG,EAAE;IAC/B,IAAI,CAACpd,OAAO,CAACwT,UAAU,EAAE;MACrBxT,OAAO,CAACwT,UAAU,GAAG,IAAI;MACzBxT,OAAO,CAAChB,eAAe,CAAC4B,OAAO,IAAIZ,OAAO,CAACgK,YAAY,EAAE;MACzD,CAACrL,KAAK,CAAC+C,gBAAgB,IACnB1B,OAAO,CAAC4Y,iBAAiB,CAAC5Y,OAAO,CAAC6B,cAAc,CAAC;;IAEzD,SAAAqD,SAAA,GAAAC,+BAAA,CAAmBnF,OAAO,CAAC6C,MAAM,CAAC6Q,OAAO,GAAAtO,KAAA,IAAAA,KAAA,GAAAF,SAAA,IAAAG,IAAA,GAAE;MAAA,IAAhCzJ,IAAI,GAAAwJ,KAAA,CAAAnK,KAAA;MACX,IAAMmH,KAAK,GAAG9C,GAAG,CAACU,OAAO,CAACqC,OAAO,EAAEzG,IAAI,CAAC;MACxCwG,KAAK,KACAA,KAAK,CAACE,EAAE,CAACgD,IAAI,GAAGlD,KAAK,CAACE,EAAE,CAACgD,IAAI,CAACwK,KAAK,CAACuN,IAAI,CAAC,GAAGA,IAAI,CAACjb,KAAK,CAACE,EAAE,CAACY,GAAG,CAAC,CAAC,IAChEka,oBAAoB,CAAC7Q,IAAI,CAAC3Q,IAAI,CAAC;;IAGvCwhB,oBAAoB,CAAC5d,MAAM,IACvByd,YAAY,CAAC/gB,OAAO,CAAC8G,UAAU,CAACoa,oBAAoB,CAAC;IACzDpd,OAAO,CAAC6C,MAAM,CAAC6Q,OAAO,GAAG,IAAID,GAAG,EAAE;GACrC,CAAC;EACFwJ,YAAY,CAAC/gB,OAAO,CAAC6C,SAAS,GAAGwC,iBAAiB,CAACxC,SAAS,EAAEiB,OAAO,CAAChB,eAAe,CAAC;EACtF,OAAOie,YAAY,CAAC/gB,OAAO;AAC/B;;AC/CA,SAASyyB,oBAAoBA,CAACnyB,GAAG,EAAE;EAC/B,IAAMG,MAAM,GAAG,EAAE;EAEjB,SAASiyB,WAAWA,CAACpyB,GAAG,EAAEC,IAAI,EAAE;IAC5B,IAAI,OAAOD,GAAG,KAAK,QAAQ,EAAE;MACzB,IAAIpB,KAAK,CAACC,OAAO,CAACmB,GAAG,CAAC,EAAE;QACpBA,GAAG,CAACyY,OAAO,CAAC,UAACtT,IAAI,EAAE2C,KAAK,EAAK;UACzBsqB,WAAW,CAACjtB,IAAI,EAAKlF,IAAI,SAAI6H,KAAK,MAAG,CAAC;SACzC,CAAC;OACL,MAAM;QACH,IAAI9H,GAAG,IAAID,SAAS,IAAIC,GAAG,IAAI,IAAI,EAAE;UACjC4B,MAAM,CAACmB,IAAI,CAAC/C,GAAG,CAAC,CAACyY,OAAO,CAAC,UAAAlY,GAAG,EAAI;YAC5B,IAAM8xB,OAAO,GAAGpyB,IAAI,GAAMA,IAAI,SAAIM,GAAG,GAAKA,GAAG;YAC7C6xB,WAAW,CAACpyB,GAAG,CAACO,GAAG,CAAC,EAAE8xB,OAAO,CAAC;WACjC,CAAC;;;KAGb,MAAM,IAAI,OAAOryB,GAAG,KAAK,QAAQ,KAAKA,GAAG,CAAC4E,QAAQ,CAAC,IAAI,CAAC,IAAI5E,GAAG,CAAC4E,QAAQ,CAAC,IAAI,CAAC,IAAI5E,GAAG,CAAC4E,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;MACpGzE,MAAM,CAAC4P,IAAI,CAAC9P,IAAI,CAAC;;;EAIzBmyB,WAAW,CAACpyB,GAAG,EAAE,EAAE,CAAC;EAEpB,OAAOG,MAAM;AACjB;AAEA,IAAMsvB,oBAAkB,GAAG,SAArBA,kBAAkBA,CAAIrwB,IAAI,EAAEb,IAAI,EAAA+E,IAAA,EAcjC;EAAA,IAdqCmnB,eAAe,GAAAnnB,IAAA,CAAfmnB,eAAe;IACrDsD,YAAY,GAAAzqB,IAAA,CAAZyqB,YAAY;IACZlV,SAAS,GAAAvV,IAAA,CAATuV,SAAS;IACTxU,MAAM,GAAAf,IAAA,CAANe,MAAM;IACNsnB,oBAAoB,GAAAroB,IAAA,CAApBqoB,oBAAoB;IACpBC,UAAU,GAAAtoB,IAAA,CAAVsoB,UAAU;IACVC,eAAe,GAAAvoB,IAAA,CAAfuoB,eAAe;IACf9rB,WAAS,GAAAuD,IAAA,CAATvD,SAAS;IACT2nB,WAAW,GAAApkB,IAAA,CAAXokB,WAAW;IACX5f,KAAK,GAAAxE,IAAA,CAALwE,KAAK;IACL6kB,MAAM,GAAArpB,IAAA,CAANqpB,MAAM;IAAA+C,cAAA,GAAApsB,IAAA,CACNqsB,SAAS;IAATA,SAAS,GAAAD,cAAA,cAAG3vB,WAAS,GAAA2vB,cAAA;IACrBlI,eAAe,GAAAlkB,IAAA,CAAfkkB,eAAe;EAIf,IAAMoI,iBAAiB,GAAAnqB,QAAA,KAAQlH,IAAI,CAACa,IAAI,CAAC;IAAEuwB,SAAS,EAATA;IAAW;EAKtD,IAAIC,iBAAiB,KAAK7vB,WAAS,EAAE,OAAO,IAAI;EAGhD,IAAMuyB,UAAU,GAAGH,oBAAoB,CAACvC,iBAAiB,CAAC;EAI1D,IAAM3G,YAAY,GAAG;IACjBnmB,GAAG,WAAAA,IAAC7D,MAAM,EAAE2D,IAAI,EAAEsmB,QAAQ,EAAE;MACxB,IAAIoJ,UAAU,CAAC1tB,QAAQ,CAAChC,IAAI,CAAC,EAAE;QAC3B,IAAI,OAAO3D,MAAM,CAAC2D,IAAI,CAAC,KAAK,QAAQ,IAAI3D,MAAM,CAAC2D,IAAI,CAAC,KAAK,IAAI,EAAE;UAE3D,OAAO,IAAIumB,KAAK,CAAClqB,MAAM,CAAC2D,IAAI,CAAC,EAAEqmB,YAAY,CAAC;;QAEhD,OAAOzB,eAAe,CAACvoB,MAAM,CAAC2D,IAAI,CAAC,EAAEA,IAAI,EAAE3D,MAAM,CAAC,CAAAwG,QAAA,KAC3CiiB,WAAW,CAACkC,aAAa;UAC5BlC,WAAW,EAAAjiB,QAAA,KACJiiB,WAAW;YACd5f,KAAK,EAALA;;UAGP,CAAC;;MAEN,OAAO7I,MAAM,CAAC2D,IAAI,CAAC;;GAE1B;EAED,IAAM2vB,SAAS,GAAG,IAAIpJ,KAAK,CAAA1jB,QAAA,KACpBmqB,iBAAiB;IACpBlI,WAAW,EAAEA;MACduB,YAAY,CAAC;EAIhB,IAAI,CAAAsJ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAE7uB,OAAO,MAAK,KAAK,EAAE,OAAO,IAAI;EAE7C,OAAOmsB,qBAAmB,CACtB0C,SAAS,EACT9H,eAAe,EACfsD,YAAY,EACZlV,SAAS,EAAApT,QAAA,KACJpB,MAAM,GACXsnB,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACf9rB,WAAS,EACT2nB,WAAW,EACX5f,KAAK,EACLvJ,IAAI,EACJouB,MAAM,EACNnF,eACJ,CAAC;AACL,CAAC;AAED,IAAMqI,qBAAmB,GAAG,SAAtBA,mBAAmBA,CACrB1qB,IAAI,EACJslB,eAAe,EACfgB,SAAS,EACTC,QAAQ,EACRoE,OAAO,EACPnE,oBAAoB,EACpBC,UAAU,EACVC,eAAe,EACfhZ,UAAU,EACV6U,WAAW,EACX5f,KAAK,EACLvJ,IAAI,EACJouB,MAAM,EACNnF,eAAe,EACd;EAQD,IAIInjB,MAAM,GASNqjB,WAAW,CATXrjB,MAAM;IACNb,OAAO,GAQPkkB,WAAW,CARXlkB,OAAO;IACP0V,AAIAxN,aAAa,GAGbgc,WAAW,CAHXhc,aAAa;EAMjB,IAAMtM,IAAI,GAAGyT,UAAU,IAAOA,UAAU,SAAI1N,IAAI,CAAC/F,IAAM,IAAI+F,IAAI,CAACwqB,SAAS,IAAIxqB,IAAI,CAACwqB,SAAS,IAAIxqB,IAAI,CAAC/F,IAAI;EAExG,IAAIe,MAAM,GAAG,IAAI;EACjB,IAAI2rB,KAAK,GAAG,EAAE;EACd,IAAI3mB,IAAI,CAAC4mB,KAAK,EAAE;IACZD,KAAK,GAAG3mB,IAAI,CAAC4mB,KAAK,CAACniB,GAAG,CAAC,UAACxK,IAAI,EAAE2wB,GAAG;MAAA,OAAKN,oBAAkB,CAACrwB,IAAI,EAAEb,IAAI,EAAE;QACjEksB,eAAe,EAAfA,eAAe;QACfgB,SAAS,EAATA,SAAS;QACTC,QAAQ,EAARA,QAAQ;QACRrnB,MAAM,EAANA,MAAM;QACNsnB,oBAAoB,EAApBA,oBAAoB;QACpBC,UAAU,EAAVA,UAAU;QACVC,eAAe,EAAfA,eAAe;QACfhZ,UAAU,EAAE,CAAA1N,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4mB,KAAK,KAAI3sB,IAAI,IAAIW,SAAS;QAC5C2nB,WAAW,EAAXA,WAAW;QACX5f,KAAK,EAAEioB,GAAG;QACVxxB,IAAI,EAAJA,IAAI;QACJouB,MAAM,EAAE;UAAEvtB,IAAI,EAAE+F,IAAI,CAAC/F,IAAI;UAAE0I,KAAK,EAALA,KAAK;UAAEqc,EAAE,EAAEhf,IAAI,CAACgf;SAAI;QAC/C0I,QAAQ,EAAEztB,IAAI;QACdooB,eAAe,EAAfA;OACH,CAAC;MAAC;;EAiBP,IAAMwE,UAAU,GAAG;IACf3qB,SAAS,EAAE8D,IAAI,CAAC9D,SAAS,IAAI8D,IAAI,CAAC9D,SAAS,CAAC5C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC9D,SAAS,IAAItB,SAAS;IACvFuB,SAAS,EAAE6D,IAAI,CAAC7D,SAAS,IAAI6D,IAAI,CAAC7D,SAAS,CAAC7C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC7D,SAAS,IAAIvB,SAAS;IACvFoB,GAAG,EAAEgE,IAAI,CAAChE,GAAG,IAAIgE,IAAI,CAAChE,GAAG,CAAC1C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAChE,GAAG,IAAIpB,SAAS;IAC/DqB,GAAG,EAAE+D,IAAI,CAAC/D,GAAG,IAAI+D,IAAI,CAAC/D,GAAG,CAAC3C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC/D,GAAG,IAAIrB,SAAS;IAC/DwB,OAAO,EAAE4D,IAAI,CAAC5D,OAAO,IAAI4D,IAAI,CAAC5D,OAAO,CAAC9C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC5D,OAAO,IAAIxB,SAAS;IAC/EyB,QAAQ,EAAE2D,IAAI,CAAC3D,QAAQ,IAAI2D,IAAI,CAAC3D,QAAQ,CAAC/C,KAAK,KAAK,EAAE,IAAI0G,IAAI,CAAC3D,QAAQ,IAAIzB;GAC7E;EAED,IAAAuR,KAAA,GAA0B,CAAAnM,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE8mB,IAAI,KAAI;MAAExqB,QAAQ,EAAE;KAAI;IAAA+wB,cAAA,GAAAlhB,KAAA,CAAhD7P,QAAQ;IAARA,QAAQ,GAAA+wB,cAAA,cAAG,EAAE,GAAAA,cAAA;EAErB,IAAIrtB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAE8mB,IAAI,EAAE;IAEZrqB,MAAM,CAACmB,IAAI,CAACtB,QAAQ,CAAC,CAACgX,OAAO,CAAC,UAAAlY,GAAG,EAAI;MACjC,IAAI,OAAOkB,QAAQ,CAAClB,GAAG,CAAC,KAAK,UAAU,EAAE;MACzCkB,QAAQ,CAAClB,GAAG,CAAC,GAAGmnB,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEkC,aAAa,CAACrpB,GAAG,CAAC,CAACkB,QAAQ,CAAClB,GAAG,CAAC,CAAC,CAAAkF,QAAA,KAAMiiB,WAAW;QAAE+K,OAAO,EAAE,SAAAA;UAAA,OAAMttB,IAAI;;QAAE,CAAC;KAE1G,CAAC;;EASNhF,MAAM,gBACF4B,cAAA,CAAA6oB,aAAA,CAACxjB,UAAU;IACP7G,GAAG,EAAE4E,IAAI,CAACtG,OAAO,KAAK,IAAI,IAAOO,IAAI,cAAW,IAAIA,IAAK;IACzDA,IAAI,EAAE+F,IAAI,CAACtG,OAAO,KAAK,IAAI,IAAOO,IAAI,cAAW,IAAIA,IAAK;IAC1DoE,OAAO,EAAEA,OAAQ;IACjB2B,IAAI,EAAAM,QAAA,KAAON,IAAI;MAAE2C,KAAK,EAALA;MAAQ;IACzBpC,KAAK,EAAED,QAAA,KAAKN,IAAI,CAAC8mB,IAAI,KAAMD,UAAW;IAEtC3kB,MAAM,EAAE,SAAAA,OAAA0T,KAAA,EAAe;MAAA,IAAZnV,KAAK,GAAAmV,KAAA,CAALnV,KAAK;MAEZ,IAAIT,IAAI,CAACtG,OAAO,EAAE;QAEd,IAAAqtB,cAAA,GAAmCxgB,aAAa,CAAC;YAC7ClI,OAAO,EAAPA,OAAO;YACPpE,IAAI,EAAEA,IAAI;YACVsG,KAAK,EAAED,QAAA,KAAKN,IAAI,CAAC8mB,IAAI,KAAMD;WAC9B,CAAC;UAJMzjB,MAAM,GAAA2jB,cAAA,CAAN3jB,MAAM;UAAEuB,MAAM,GAAAoiB,cAAA,CAANpiB,MAAM;UAAE2C,OAAM,GAAAyf,cAAA,CAANzf,MAAM;QAM9Bqf,KAAK,gBACD/pB,cAAA,CAAA6oB,aAAA,2BACI7oB,cAAA,CAAA6oB,aAAA,aACKriB,MAAM,CAACqB,GAAG,CAAC,UAAC8f,EAAE,EAAE5hB,KAAK;UAAA,oBAClB/F,cAAA,CAAA6oB,aAAA;YAAIrqB,GAAG,EAAEmpB,EAAE,CAACvF;aACPhf,IAAI,CAAC4mB,KAAK,CAACniB,GAAG,CAAC,UAACvL,OAAO,EAAE+tB,IAAI;YAAA,oBAC1BrqB,cAAA,CAAA6oB,aAAA,CAACxjB,UAAU;cACP7G,GAAG,EAAKnB,IAAI,SAAI0I,KAAK,SAAIvJ,IAAI,CAACF,OAAO,CAAC,CAACe,IAAO;cAC9CA,IAAI,EAAKA,IAAI,SAAI0I,KAAK,SAAIvJ,IAAI,CAACF,OAAO,CAAC,CAACe,IAAO;cAC/CoE,OAAO,EAAEA,OAAQ;cACjB6D,MAAM,EAAE,SAAAA,OAAAsU,KAAA,EAAe;gBAEnB,OAAO8T,oBAAkB,CAACpxB,OAAO,EAAAoH,QAAA,KAAOlH,IAAI;kBAAEuJ,KAAK,EAALA;oBAAS;kBACnD2iB,eAAe,EAAfA,eAAe;kBACfgB,SAAS,EAATA,SAAS;kBACTC,QAAQ,EAARA,QAAQ;kBACRrnB,MAAM,EAANA,MAAM;kBACNsnB,oBAAoB,EAApBA,oBAAoB;kBACpBC,UAAU,EAAVA,UAAU;kBACVC,eAAe,EAAfA,eAAe;kBACfhZ,UAAU,EAAE,CAAA1N,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4mB,KAAK,KAAI3sB,IAAI,IAAIW,SAAS;kBAC5C2nB,WAAW,EAAAjiB,QAAA,KACJiiB,WAAW;oBAEd5d,MAAM,EAANA,MAAM;oBACN2C,MAAM,EAAE,SAAAA;sBAAA,OAAMA,OAAM,CAAC3E,KAAK,CAAC;;oBAC9B;kBACDA,KAAK,EAAEA,KAAK;kBACZvJ,IAAI,EAAJA,IAAI;kBACJouB,MAAM,EAAE;oBAAEvtB,IAAI,EAAE+F,IAAI,CAAC/F,IAAI;oBAAE0I,KAAK,EAALA,KAAK;oBAAEqc,EAAE,EAAEhf,IAAI,CAACgf;mBAAI;kBAC/CwL,SAAS,EAAKvwB,IAAI,SAAI0I,KAAK,SAAIvJ,IAAI,CAACF,OAAO,CAAC,CAACe,IAAM;kBACnDooB,eAAe,EAAfA;iBACH,CAAC;;aAaT,CAAC;WACL,CAAC,eACFzlB,cAAA,CAAA6oB,aAAA;YAAQtsB,IAAI,EAAC,QAAQ;YAACguB,OAAO,EAAE,SAAAA;cAAA,OAAM7f,OAAM,CAAC3E,KAAK,CAAC;;aAAE,GAAS,CAC7D,CAAC;SACR,CAED,CAAC,eAOL/F,cAAA,CAAA6oB,aAAA;UACItsB,IAAI,EAAC,QAAQ;UAEbguB,OAAO,EAAE,SAAAA;YAAA,OAAMxiB,MAAM,CAAC,EAAE,CAAC;;WAE5B,GAEO,CACP,CAAC;;MA2Bd,IAAMuiB,SAAS,GAAGT,UAAU,CAACzmB,IAAI,CAAC7G,IAAI,EAAE;QACpCsH,KAAK,EAALA,KAAK;QAELT,IAAI,EAAJA,IAAI;QACJ/F,IAAI,EAAJA,IAAI;QACJ0I,KAAK,EAALA,KAAK;QACL+jB,eAAe,EAAfA,eAAe;QACfC,KAAK,EAALA,KAAK;QACLpgB,aAAa,EAAbA,aAAa;QACbvE,KAAK,EAAE9C,MAAM;QACbqjB,WAAW,EAAXA,WAAW;QACXiF,MAAM,EAANA;OACH,CAAC;MAEF,OAAON,SAAS;;GAGvB,CACJ;EAKD,OAAOlsB,MAAM;AACjB,CAAC;AAED,AAoLA,IAAMusB,gBAAc,GAAG,SAAjBA,cAAcA,CAAIpmB,KAAK,EAAE/F,GAAG,EAAEnB,IAAI,EAAEutB,MAAM,EAAE9tB,OAAO,EAAK;EAG1D,IAAMsB,MAAM,GAAGmG,KAAK,CAAChG,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAEqf,YAAY,EAAK;IAAA,IAAAoI,SAAA;IAErD,IAAMC,QAAQ,GAAGhuB,OAAO,KAAKkB,SAAS,IAAIoF,IAAI,CAAC5E,GAAG,CAAC,IAAOosB,MAAM,WAAMxnB,IAAI,CAAC5E,GAAG,CAAG;IAGjF,IAAMusB,KAAK,GAAI1tB,IAAI,IAAOA,IAAI,eAAUolB,YAAY,MAAG,UAASA,YAAY,MAAG;IAC/E,OAAA/e,QAAA,KACOzF,GAAG,GAAA4sB,SAAA,OAAAA,SAAA,CAELC,QAAQ,IAAApnB,QAAA,KACFN,IAAI;MACP/F,IAAI,EAAEytB,QAAQ;MACdC,KAAK,EAALA;OACIH,MAAM,IAAI;MAAEA,MAAM,EAANA;KAAQ,GAAAC,SAAA,GAGxBznB,IAAI,CAAC4mB,KAAK,KAAKhsB,SAAS,IAAI2sB,cAAc,CAACvnB,IAAI,CAAC4mB,KAAK,EAAE,MAAM,EAAEe,KAAK,EAAE3nB,IAAI,CAAC5E,GAAG,CAAC,EAAE4E,IAAI,CAACtG,OAAO,CAAC;GAEzG,EAAE,IAAIsd,GAAG,EAAE,CAAC;EAEb,OAAOhc,MAAM;AACjB,CAAC;AAED,IAAM4sB,YAAU,GAAG,SAAbA,UAAUA,CAAIzmB,KAAK,EAAE/F,GAAG,EAAEnB,IAAI,EAAEutB,MAAM,EAAK;EAG7C,IAAMxsB,MAAM,GAAGmG,KAAK,CAAChG,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAEqf,YAAY,EAAK;IAAA,IAAAwI,SAAA;IAGrD,IAAMF,KAAK,GAAI1tB,IAAI,IAAOA,IAAI,eAAUolB,YAAY,MAAG,UAASA,YAAY,MAAG;IAC/E,OAAA/e,QAAA,KACOzF,GAAG,GAAAgtB,SAAA,OAAAA,SAAA,CAEL7nB,IAAI,CAAC5E,GAAG,CAAC,IAAAkF,QAAA,KACHN,IAAI;MACP2nB,KAAK,EAALA,KAAK;MACLruB,KAAK,EAAE;OACHkuB,MAAM,IAAI;MAAEA,MAAM,EAANA;KAAQ,GAAAK,SAAA,GAGxB7nB,IAAI,CAAC4mB,KAAK,KAAKhsB,SAAS,IAAI2sB,gBAAc,CAACvnB,IAAI,CAAC4mB,KAAK,EAAE,MAAM,EAAEe,KAAK,EAAE3nB,IAAI,CAAC5E,GAAG,CAAC,CAAC;GAE3F,EAAE,IAAI4b,GAAG,EAAE,CAAC;EAEb,OAAOhc,MAAM;AACjB,CAAC;AAED,AAmBA,IAAM8sB,0BAAwB,GAAG,SAA3BA,wBAAwBA,CAAIlB,KAAK,EAAExrB,GAAG,EAAK;EAG7C,IAAM2sB,YAAY,GAAG,IAAI/Q,GAAG,EAAE;EAE9Bva,MAAM,CAACmB,IAAI,CAACgpB,KAAK,CAAC,CAACtT,OAAO,CAAC,UAAClY,GAAG,EAAK;IAChC,IAAIwrB,KAAK,CAACxrB,GAAG,CAAC,CAAC6M,KAAK,EAAE;MAClB8f,YAAY,CAACtlB,GAAG,CAACmkB,KAAK,CAACxrB,GAAG,CAAC,CAACnB,IAAI,CAAC;;IAErC,IAAI2sB,KAAK,CAACxrB,GAAG,CAAC,CAAC4sB,YAAY,EAAE;MACzB,IAAMC,eAAe,GAAGC,sBAAoB,CAACtB,KAAK,CAACxrB,GAAG,CAAC,CAAC4sB,YAAY,EAAE,OAAO,CAAC;MAM9E,IAAMpqB,IAAI,GAAGnB,MAAM,CAACmB,IAAI,CAACqqB,eAAe,CAAC;MACzC,KAAK,IAAItlB,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG/E,IAAI,CAACC,MAAM,EAAE8E,KAAK,EAAE,EAAE;QAC9C,IAAMwlB,YAAY,GAAGF,eAAe,CAACrqB,IAAI,CAAC+E,KAAK,CAAC,CAAC;QAEjDolB,YAAY,CAACtlB,GAAG,CAAC0lB,YAAY,CAACluB,IAAI,KAAAI,MAAA,CACzB0tB,YAAY,CAACpqB,GAAG,CAACwqB,YAAY,CAACluB,IAAI,CAAC,IAAI8tB,YAAY,CAACpqB,GAAG,CAACwqB,YAAY,CAACluB,IAAI,CAAC,IAAK,EAAE,GAAAqG,QAAA;UACpFqnB,KAAK,EAAEf,KAAK,CAACxrB,GAAG,CAAC,CAAC4jB;WAAOmJ,YAAY,GAC1C,CAAC;;;GA2Bb,CAAC;EAEF,OAAOJ,YAAY;AACvB,CAAC;AAED,IAAMG,sBAAoB,GAAG,SAAvBA,oBAAoBA,CAAI/mB,KAAK,EAAE/F,GAAG,EAAE9B,KAAK,EAAK;EAChD,IAAMyuB,YAAY,GAAG,EAAE;EACvB,IAAI,CAACtuB,KAAK,CAACC,OAAO,CAACyH,KAAK,CAAC,EAAE;EAC3B,IAAMinB,UAAU,GAAGjnB,KAAK,CAAC9G,MAAM,EAAE;EACjC,OAAO+tB,UAAU,CAACjtB,MAAM,CAAC,UAACN,GAAG,EAAEmF,IAAI,EAAK;IAAA,IAAAqoB,SAAA;IACpC,OAAA/nB,QAAA,KACOzF,GAAG,GAAAwtB,SAAA,OAAAA,SAAA,CACLroB,IAAI,CAAC5E,GAAG,CAAC,IAAI9B,KAAK,IAAI0G,IAAI,CAAC1G,KAAK,CAAC,IAAMA,KAAK,KAAKsB,SAAS,IAAIoF,IAAK,IAAI,EAAE,EAAAqoB,SAAA;GAEjF,EAAEN,YAAY,CAAC;AACpB,CAAC;AAED,AA2BA,IAAM8C,iBAAe,GAAGjuB,cAAK,CAAC2rB,UAAU,CAAC,UAAAqB,KAAA,EAatCroB,GAAG,EAAK;EAAA,IAAAupB,UAAA,EAAAC,gBAAA;EAAA,IAbiCnE,KAAK,GAAAgD,KAAA,CAALhD,KAAK;IAC7C6B,kBAAkB,GAAAmB,KAAA,CAAlBnB,kBAAkB;IAElBjC,oBAAoB,GAAAoD,KAAA,CAApBpD,oBAAoB;IACpBC,UAAU,GAAAmD,KAAA,CAAVnD,UAAU;IACVC,eAAe,GAAAkD,KAAA,CAAflD,eAAe;IACfjC,aAAa,GAAAmF,KAAA,CAAbnF,aAAa;IAAA8I,AACUC,mBAAA,GAAA5D,KAAA,CACvBpc,aAAa;IAAbA,aAAa,GAAAggB,mBAAA,cAAG,EAAE,GAAAA,mBAAA;IAAAC,aAAA,GAAA7D,KAAA,CAClB8D,OAAO;IAAPA,OAAO,GAAAD,aAAA,cAAG,KAAK,GAAAA,aAAA;IAAAE,qBAAA,GAAA/D,KAAA,CACfvH,eAAe;IAAfA,iBAAe,GAAAsL,qBAAA,cAAGC,eAAsB,GAAAD,qBAAA;IACxCnL,SAAS,GAAAoH,KAAA,CAATpH,SAAS;EAIT,IAAI,CAACkL,OAAO,EAAE;IACVG,OAAO,CAACC,GAAG,iBASP;;EAGR,IAAMX,UAAU,GAAGH,oBAAoB,CAACxf,aAAa,CAAC;EAItD,IAAMsW,YAAY,GAAG;IACjBnmB,GAAG,WAAAA,IAAC7D,MAAM,EAAE2D,IAAI,EAAEsmB,QAAQ,EAAE;MACxB,IAAIoJ,UAAU,CAAC1tB,QAAQ,CAAChC,IAAI,CAAC,EAAE;QAC3B,IAAI,OAAO3D,MAAM,CAAC2D,IAAI,CAAC,KAAK,QAAQ,IAAI3D,MAAM,CAAC2D,IAAI,CAAC,KAAK,IAAI,EAAE;UAE3D,OAAO,IAAIumB,KAAK,CAAClqB,MAAM,CAAC2D,IAAI,CAAC,EAAEqmB,YAAY,CAAC;;QAEhD,OAAOzB,iBAAe,CAACvoB,MAAM,CAAC2D,IAAI,CAAC,EAAEA,IAAI,EAAE3D,MAAM,CAAC,CAAAwG,QAAA,KAC3CmkB,aAAa;UAChBlC,WAAW,EAAE;YAAEC,SAAS,EAATA;;UAElB,CAAC;;MAEN,OAAO1oB,MAAM,CAAC2D,IAAI,CAAC;;GAE1B;EAED,IAAMswB,kBAAkB,GAAG,IAAI/J,KAAK,CAAA1jB,QAAA,KAC7BkN,aAAa,GACjBsW,YAAY,CAAC;EAKhB,IAAA6E,QAAA,GAgBItN,SAAO,CAAC;MACRvR,IAAI,EAAE,UAAU;MAChB/J,gBAAgB,EAAE,IAAI;MACtBqR,cAAc,EAAE,UAAU;MAoB1B5D,aAAa,EAAAlN,QAAA,KAAOytB,kBAAkB;KACzC,CAAC;IAvCE1tB,QAAQ,GAAAsoB,QAAA,CAARtoB,QAAQ;IACRkZ,YAAY,GAAAoP,QAAA,CAAZpP,YAAY;IACZtR,KAAK,GAAA0gB,QAAA,CAAL1gB,KAAK;IAAA+lB,kBAAA,GAAArF,QAAA,CACLvrB,SAAS;IAAI8B,MAAM,GAAA8uB,kBAAA,CAAN9uB,MAAM;IAAEL,AACrBR,OAAO,GAAAsqB,QAAA,CAAPtqB,OAAO;IACP0V,OAAO,GAAA4U,QAAA,CAAP5U,OAAO;IACPoH,QAAQ,GAAAwN,QAAA,CAARxN,QAAQ;IACRzH,SAAS,GAAAiV,QAAA,CAATjV,SAAS;IACT8D,QAAQ,GAAAmR,QAAA,CAARnR,QAAQ;IACRO,iBAAiB,GAAA4Q,QAAA,CAAjB5Q,iBAAiB;IACjBsU,2BAA0B,GAAA1D,QAAA,CAA1B0D,0BAA0B;IAC1BT,aAAa,GAAAjD,QAAA,CAAbiD,aAAa;IACbvqB,UAAU,GAAAsnB,QAAA,CAAVtnB,UAAU;IACViX,WAAW,GAAAqQ,QAAA,CAAXrQ,WAAW;IACXkC,KAAK,GAAAmO,QAAA,CAALnO,KAAK;EA2BT5d,cAAK,CAAC2iB,SAAS,CAAC,YAAM;IAClB/E,KAAK,CAAAla,QAAA,KAAMytB,kBAAkB,CAAE,CAAC;GACnC,EAAE,CAACvgB,aAAa,CAAC,CAAC;EAGnB,IAAM+U,WAAW,GAAG;IAChBliB,QAAQ,EAARA,QAAQ;IACRkZ,YAAY,EAAZA,YAAY;IACZtR,KAAK,EAALA,KAAK;IACL/I,MAAM,EAANA,MAAM;IACNb,OAAO,EAAPA,OAAO;IACP0V,OAAO,EAAPA,OAAO;IACPoH,QAAQ,EAARA,QAAQ;IACRzH,SAAS,EAATA,SAAS;IACT8D,QAAQ,EAARA,QAAQ;IACRjR,aAAa,EAAbA,aAAa;IACboV,QAAQ,EAARA,QAAQ;IACR5D,iBAAiB,EAAjBA,iBAAiB;IACjBsU,0BAA0B,EAA1BA,2BAA0B;IAC1BhrB,UAAU,EAAVA,UAAU;IACVojB,aAAa,EAAAnkB,QAAA,KACNmkB,aAAa;MAChBjK,KAAK,EAAEA,KAAK;MACZzC,iBAAiB,EAAE,SAAAA;QAAA,OAAM,CAACqF,CAAC,CAACnO,OAAO,CAAC/P,MAAM,CAAC;;MAC3CwU,SAAS,EAATA,SAAS;MACT2Y,0BAA0B,EAAE,SAAAA,2BAACf,MAAM,EAAK;QAEpC,IAAMtwB,MAAM,GAAGqxB,2BAA0B,CAACf,MAAM,CAAC,EAAE,CAAC7a,IAAI,CAAC,UAAArM,CAAC;UAAA,OAAIA,CAAC;UAAC;QAEhE,OAAOpJ,MAAM;OAChB;MACDizB,YAAY,YAASC,SAAS;QAAA,IAAK;UAAA,OAAAtf,OAAA,CAAAC,OAAA,CACLwd,2BAA0B,EAAE,CAAC,IAAI,CAAC,EAAA5b,IAAA,WAAtDib,WAAW;YASjB,IAAI1wB,MAAM,GAAG,IAAI;YACjB,KAAK,IAAIqK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6oB,SAAS,CAACrwB,MAAM,EAAEwH,CAAC,EAAE,EAAE;cACvC,IAAMrF,IAAI,GAAGkuB,SAAS,CAAC7oB,CAAC,CAAC;cACzB,IAAM8oB,WAAW,GAAGzC,WAAW,CAAC1rB,IAAI,CAAC;cACrC,IAAImuB,WAAW,EAAE;gBAEbnzB,MAAM,GAAG,KAAK;gBACd;;;YAIR,OAAOA,MAAM;;SAChB,QAAAiW,CAAA;UAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;MACJ;IACDuR,SAAS,EAATA,SAAS;IAETlK,WAAW,EAAXA;GACH;EAGD,IAAMsQ,YAAY,GAAGhsB,cAAK,CAACisB,MAAM,EAAE;EAEnC,IAAMC,kBAAkB,GAAGlsB,cAAK,CAACisB,MAAM,EAAE;EACzC,IAAME,iBAAiB,GAAGnsB,cAAK,CAACisB,MAAM,EAAE;EAGxC,IAAAxM,SAAA,GAAwBC,cAAQ,EAAE;IAA3BljB,IAAI,GAAAijB,SAAA;IAAE2M,OAAO,GAAA3M,SAAA;EAEpBzf,cAAK,CAAC2iB,SAAS,CAAC,YAAM;IAClB,IAAIqH,KAAK,KAAKhsB,SAAS,EAAE;IAUzBguB,YAAY,CAACruB,OAAO,GAAGqsB,KAAK;IAE5BkC,kBAAkB,CAACvuB,OAAO,GAAGutB,0BAAwB,CAACc,YAAY,CAACruB,OAAO,CAAC;IAI3E,IAAMyQ,YAAY,GAAG/C,KAAK,WAAQ3O,KAAK,EAAA8gB,KAAA;MAAA,IAAIngB,IAAI,GAAAmgB,KAAA,CAAJngB,IAAI;MAAM,IAAO;QAAA,OAAA2U,OAAA,CAAAC,OAAA;UAAA,IAOpDia,kBAAkB,CAACvuB,OAAO,CAACoD,GAAG,CAAC1D,IAAI,CAAC;YACpC,IAAMm0B,SAAS,GAAG3xB,MAAM,CAACC,MAAM,CAACpD,KAAK,EAAEkpB,SAAS,CAAC;YAAC,OAAA5T,OAAA,CAAAC,OAAA,CAG7Boa,iBAAiB,CAAChvB,IAAI,EAAEm0B,SAAS,CAACn0B,IAAI,CAAC,EAAE2sB,KAAK,CAAC,EAAAnW,IAAA,WAAAya,KAAA;cAAA,IAA7D1lB,CAAC,GAAA0lB,KAAA;gBAAEzlB,CAAC,GAAAylB,KAAA;cAAA,IAEP,CAAC9hB,SAAS,CAAChQ,IAAI,EAAEqM,CAAC,CAAC,IAAID,CAAC;gBACxBwjB,OAAO,CAAA1oB,QAAA,KAAMmF,CAAC,CAAE,CAAC;;;iBAGlB,IAAIqjB,kBAAkB,CAACvuB,OAAO,CAAC6X,GAAG,CAACnY,IAAI,CAAC,EAAE;YAE7C+uB,OAAO,CAAA1oB,QAAA,KAAMsmB,KAAK,CAAE,CAAC;YACrB;;;OAEP,QAAA3V,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;MAAC;IAEF+X,OAAO,CAACpC,KAAK,CAAC;GACjB,EAAE,CAACA,KAAK,CAAC,CAAC;EAMX,IAAMsC,WAAW,GAAG,SAAdA,WAAWA,GAAS;IACtBN,YAAY,CAACruB,OAAO,GAAGqtB,YAAU,CAAChB,KAAK,EAAE,MAAM,CAAC;IAChDoC,OAAO,CAACpC,KAAK,CAAC;GACjB;EAmBD,IAAMuC,YAAY,YAAZA,YAAYA,CAAUvlB,OAAO;IAAA,IAAPA,OAAO;MAAPA,OAAO,GAAG;QAAE2nB,UAAU,EAAE;OAAO;;IAAA,IAAK;MAE5D,IAAI9uB,MAAM,CAACmB,IAAI,CAACsB,MAAM,CAAC,CAACrB,MAAM,GAAG,CAAC,EAAE,OAAA+Q,OAAA,CAAAC,OAAA,CAAO,KAAK;MAAC,OAAAD,OAAA,CAAAC,OAAA,CAC5B+c,aAAa,CAAChoB,OAAO,CAAC,EAAA6M,IAAA,WAArCzV,MAAM;QAAA,IAERA,MAAM,KAAK,IAAI;UAAA,OAAA4T,OAAA,CAAAC,OAAA,CACF6E,SAAS,EAAE;;UAExB,OAAO,KAAK;;;KAEnB,QAAAzC,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAMD1P,GAAG,CAAChH,OAAO,GAAG;IACV8zB,gBAAgB,YAASrxB,KAAK;MAAA,IAAK;QAAA,OAAA4R,OAAA,CAAAC,OAAA,CACX0T,WAAW,CAACkC,aAAa,CAACwJ,YAAY,CAACjxB,KAAK,CAAC,EAAAyT,IAAA,WAA3DoE,KAAK;UAAA,IAAApG,KAAA;UAAA,IAAAqC,KAAA;YAAA,IACP+D,KAAK;cAAA,OAAAjG,OAAA,CAAAC,OAAA,CACgB6E,SAAS,EAAE,EAAAjD,IAAA,WAA1BzV,MAAM;gBAAAyT,KAAA;gBAAA,OACLzT,MAAM;;;;UAAA,OAAA8V,KAAA,IAAAA,KAAA,CAAAL,IAAA,GAAAK,KAAA,CAAAL,IAAA,WAAA8J,QAAA;YAAA,OAAA9L,KAAA,GAAA8L,QAAA,GAEV1F,KAAK;eAAApG,KAAA,GAAAqC,KAAA,GAAL+D,KAAK;;OAEf,QAAA5D,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;IACDyC,SAAS,EAAE,SAAAA,UAAC9P,OAAO;MAAA,OAAKulB,YAAY,CAACvlB,OAAO,CAAC;;IAC7C0qB,wBAAwB,YAAStxB,KAAK;MAAA,IAAK;QAAA,IAAA+X,MAAA,YAAAA,OAAAvG,QAAA;UAAA,OAAA+f,MAAA,GAAA/f,QAAA,GAUhC2a,YAAY,EAAE;;QAAA,IAAAoF,MAAA;QAAA,IAAAhgB,MAAA;UAAA,IARjB9U,KAAK,CAACC,OAAO,CAACsD,KAAK,CAAC;YAAA,OAAA4R,OAAA,CAAAC,OAAA,CACA0T,WAAW,CAACkC,aAAa,CAACwJ,YAAY,CAACjxB,KAAK,CAAC,EAAAyT,IAAA,WAA3DoE,KAAK;cAAA,IAAA2Z,MAAA;cAAA,SAAAje,OAAAke,QAAA;gBAAA,IAAAD,MAAA,SAAAC,QAAA;gBAAAF,MAAA;gBAAA,OAKJ1Z,KAAK;;cAAA,IAAAlE,MAAA;gBAAA,IAJRkE,KAAK;kBAAA,OAAAjG,OAAA,CAAAC,OAAA,CACgB6E,SAAS,EAAE,EAAAjD,IAAA,WAA1BzV,MAAM;oBAAAuzB,MAAA;oBAAA,OACLvzB,MAAM;;;;cAAA,OAAA2V,MAAA,IAAAA,MAAA,CAAAF,IAAA,GAAAE,MAAA,CAAAF,IAAA,CAAAF,MAAA,IAAAA,MAAA,CAAAI,MAAA;;;;QAAA,OAAA/B,OAAA,CAAAC,OAAA,CAAAN,MAAA,IAAAA,MAAA,CAAAkC,IAAA,GAAAlC,MAAA,CAAAkC,IAAA,CAAAsE,MAAA,IAAAA,MAAA,CAAAxG,MAAA;OAKxB,QAAA0C,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;IACDyd,mBAAmB,YAAS7H,UAAU;MAAA,IAAVA,UAAU;QAAVA,UAAU,GAAG,IAAI;;MAAA,IAAK;QAAA,IAAAlR,MAAA,YAAAA,OAAAgZ,QAAA;UAAA,OAAAC,MAAA,GAAAD,QAAA,GAAA/f,OAAA,CAAAC,OAAA,CAWzB6E,SAAS,EAAE;;QAAA,IAAAkb,MAAA;QAAA,IAAA9Z,MAAA;UAAA,IAV5B+R,UAAU;YACV,IAAIpqB,MAAM,CAACmB,IAAI,CAACsB,MAAM,CAAC,CAACrB,MAAM,GAAG,CAAC;cAAA+wB,MAAA;cAAA,OAAS,KAAK;;YAAC,OAAAhgB,OAAA,CAAAC,OAAA,CAC5Bwd,2BAA0B,EAAE,CAAC,IAAI,CAAC,EAAA5b,IAAA,WAAjDzV,MAAM;cAAA,IAERoiB,CAAC,CAACnO,OAAO,CAACjU,MAAM,CAAC;gBAAA,OAAA4T,OAAA,CAAAC,OAAA,CACJ6E,SAAS,EAAE,EAAAjD,IAAA,WAAAoe,gBAAA;kBAAAD,MAAA;kBAAA,OAAAC,gBAAA;;;gBAAAD,MAAA;gBAAA,OAEjB,KAAK;;;;;QAAA,OAAAhgB,OAAA,CAAAC,OAAA,CAAAiG,MAAA,IAAAA,MAAA,CAAArE,IAAA,GAAAqE,MAAA,CAAArE,IAAA,CAAAkF,MAAA,IAAAA,MAAA,CAAAb,MAAA;OAKvB,QAAA7D,CAAA;QAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;IACDiY,WAAW,EAAEA,WAAW;IACxB1R,QAAQ,EAAEA,QAAQ;IAClBtY,MAAM,EAAEA,MAAM;IACdsb,KAAK,EAALA,KAAK;IACLlC,WAAW,EAAXA,WAAW;IACXmM,aAAa,EAAElC,WAAW,CAACkC;GAC9B;EAED,IAAM2E,cAAc,YAAdA,cAAcA,CAAUnvB,IAAI,EAAEX,KAAK,EAAE0B,MAAM;IAAA,IAAK;MAElD,IAAMquB,aAAa,GAAGT,YAAY,CAACruB,OAAO,CAACN,IAAI,CAAC;MAChD,IAAIqvB,CAAC,GAAGtuB,MAAM;MACd,IAAMuuB,cAAc,GAAGjpB,QAAA,KAAKpB,MAAM,CAAC3E,OAAO,KAAM,EAAE;MAClD,IAAMivB,SAAS,GAAGtqB,MAAM,CAAC3E,OAAO,IAAI,EAAE;MAEtC,IAAIyH,KAAK,GAAG,KAAK;MAGjB,IAAI1I,KAAK,KAAK,EAAE,EAAE;QACd,IAAM0I,MAAK,GAAG1I,KAAK,KAAK,KAAK;QAC7B,IAAI0I,MAAK,EAAE;UACPwnB,SAAS,CAACvvB,IAAI,CAAC,GAAG;YACd+H,KAAK,EAALA,MAAK;YACLynB,QAAQ,EAAEJ,aAAa,CAACI,QAAQ,IAAIJ,aAAa,CAACI,QAAQ,IAAI;WACjE;SACJ,MAAM;UACH,OAAOD,SAAS,CAACvvB,IAAI,CAAC;;OAI7B,MAAM;QACH,OAAOuvB,SAAS,CAACvvB,IAAI,CAAC;;MAI1BiF,MAAM,CAAC3E,OAAO,GAAA+F,QAAA,KAAQkpB,SAAS,CAAE;MAGjC,IAAIxnB,KAAK,CAACzH,OAAO,KAAKgvB,cAAc,EAAE;MAetC,OAAA3a,OAAA,CAAAC,OAAA,CAAO,CAAC,CAACuO,CAAC,CAAC8I,OAAO,CAACqD,cAAc,EAAEC,SAAS,CAAC,KAAAnvB,MAAA,CAAMivB,CAAC,GAAGE,SAAS,CAACvvB,IAAI,CAAC,CAAC;KAC1E,QAAAgX,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAED,IAAMqU,eAAe,YAAfA,eAAeA,CAAUhsB,KAAK,EAAEW,IAAI;IAAA,IAAK;MAG3C2uB,YAAY,CAACruB,OAAO,CAACN,IAAI,CAAC,CAACX,KAAK,GAAGA,KAAK;MAAA,IAAAowB,qBAAA,GAGjBd,YAAY,CAACruB,OAAO;MAAA,OAAAqU,OAAA,CAAAC,OAAA,CAAqBsa,YAAY,EAAE,EAAA1Y,IAAA,WAAAkZ,aAAA;QAAA,OAAA/a,OAAA,CAAAC,OAAA,CAG1Bua,cAAc,CAACnvB,IAAI,EAAEX,KAAK,EAAAgH,QAAA,KAAOlH,IAAI,CAAE,CAAC,EAAAqX,IAAA,WAAA0a,MAAA;UAAA,IAArFtB,oBAAoB,GAAAsB,MAAA;YAAEnwB,MAAM,GAAAmwB,MAAA;YAAEnpB,KAAK,GAAAmpB,MAAA;UAAA,OAAAvc,OAAA,CAAAC,OAAA,CACQoa,iBAAiB,CAAChvB,IAAI,EAAEX,KAAK,EAAEF,IAAI,CAAC,EAAAqX,IAAA,WAAAqe,MAAA;YAAA,IAA/EhF,sBAAsB,GAAAgF,MAAA;cAAE/E,SAAS,GAAA+E,MAAA;YAAA,IAGpCjF,oBAAoB,KAAK,IAAI,IAAIC,sBAAsB,KAAK,IAAI;cAShEd,OAAO,CAAA1oB,QAAA,KAAMypB,SAAS,CAAE,CAAC;;;;;KAMhC,QAAA9Y,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAED,IAAMgY,iBAAiB,YAAjBA,iBAAiBA,CAAUhvB,IAAI,EAAEX,KAAK,EAAE0B,MAAM;IAAA,IAAK;MAAA,IAAA4c,MAAA,YAAAA;QAsDrD,OAAO,CAACoS,OAAO,EAAEV,CAAC,CAAC;QACnB,OAAO,CAACU,OAAO,EAAA1pB,QAAA,KAAOgpB,CAAC,EAAG;;MArD1B,IAAMW,YAAY,GAAGnB,kBAAkB,CAACvuB,OAAO,CAACoD,GAAG,CAAC1D,IAAI,CAAC;MASzD,IAAIqvB,CAAC,GAAAhpB,QAAA,KAAQtF,MAAM,CAAE;MAErB,IAAIgvB,OAAO,GAAG,KAAK;MAAA,IAAA1U,MAAA;QAAA,IAEf2U,YAAY,KAAKrvB,SAAS;UAAA,OAAAgU,OAAA,CAAAC,OAAA,CAQpBob,YAAY,CAACxlB,GAAG,WAAQzE,IAAI;YAAA,IAAK;cAAA,IAAA0X,OAAA,YAAAA,QAE7BwS,OAAO;gBAOb,IAAM7kB,CAAC,GAAGikB,CAAC,CAACtpB,IAAI,CAAC2nB,KAAK,CAAC;gBAAC,IAEpBtiB,CAAC,KAAKzK,SAAS,IAAIyK,CAAC,CAAC9G,OAAO,KAAK2rB,OAAO;kBACxCZ,CAAC,CAACtpB,IAAI,CAAC2nB,KAAK,CAAC,CAACppB,OAAO,GAAG2rB,OAAO;kBAC/BF,OAAO,GAAG,IAAI;;;cAZlB,IAAMI,SAAS,GAAG9wB,KAAK,IAAIA,KAAK,CAAC,OAAO,CAAC,IAAIA,KAAK;cAAC,IAAA+wB,UAAA,GACnCrqB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE7G,IAAI;cAAA,OAAAyV,OAAA,CAAAC,OAAA,CAAAwb,UAAA,GAAAzb,OAAA,CAAAC,OAAA,CAAW4Z,kBAAkB,CAACzoB,IAAI,CAAC7G,IAAI,CAAC,CAAC6G,IAAI,EAAEoqB,SAAS,CAAC,EAAA3Z,IAAA,CAAAiH,OAAA,IAAAA,OAAA,CAAA2S,UAAA;aA2BtF,QAAApZ,CAAA;cAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;YAAC,EAAAR,IAAA;;;MAAA,OAAA7B,OAAA,CAAAC,OAAA,CAAAyG,MAAA,IAAAA,MAAA,CAAA7E,IAAA,GAAA6E,MAAA,CAAA7E,IAAA,CAAAmH,MAAA,IAAAA,MAAA,CAAAtC,MAAA;KAIT,QAAArE,CAAA;MAAA,OAAArC,OAAA,CAAAsC,MAAA,CAAAD,CAAA;;;EAID,OACK7X,IAAI,MAAA0xB,UAAA,GAAI1xB,IAAI,CAACgyB,IAAI,cAAAN,UAAA,wBAAAC,gBAAA,GAATD,UAAA,CAAWlE,KAAK,cAAAmE,gBAAA,uBAAhBA,gBAAA,CAAkBtmB,GAAG,CAAC,UAACxK,IAAI,EAAE0I,KAAK;IAAA,OAAK2nB,oBAAkB,CAACrwB,IAAI,EAAEb,IAAI,EAAE;MAC3EksB,eAAe,EAAfA,eAAe;MACfsD,YAAY,EAAZA,YAAY;MACZlV,SAAS,EAATA,SAAS;MACTxU,MAAM,EAANA,MAAM;MACNsnB,oBAAoB,EAApBA,oBAAoB;MACpBC,UAAU,EAAVA,UAAU;MACVC,eAAe,EAAfA,eAAe;MACf9rB,SAAS,EAATA,SAAS;MACT2nB,WAAW,EAAXA,WAAW;MACX5f,KAAK,EAALA,KAAK;MACL0f,eAAe,EAAfA;KACH,CAAC;GACF,CAAC,KAAK,IAAI;AAsBlB,CAAC,CAAC;AAEFwI,iBAAe,CAACvD,eAAe,GAAG,IAAI;AACtCuD,iBAAe,CAAChuB,WAAW,GAAG,iBAAiB;;;;;;;;;;;;;;;;;;;;;;"}